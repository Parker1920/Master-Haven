function _x(r,s){for(var i=0;i<s.length;i++){const o=s[i];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in r)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(r,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function kx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ho={exports:{}},Zs={},Wo={exports:{}},Pe={};var Rm;function Ex(){if(Rm)return Pe;Rm=1;var r=Symbol.for("react.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function j(N,k,X){this.props=N,this.context=k,this.refs=_,this.updater=X||C}j.prototype.isReactComponent={},j.prototype.setState=function(N,k){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,k,"setState")},j.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function O(){}O.prototype=j.prototype;function P(N,k,X){this.props=N,this.context=k,this.refs=_,this.updater=X||C}var I=P.prototype=new O;I.constructor=P,v(I,j.prototype),I.isPureReactComponent=!0;var F=Array.isArray,E=Object.prototype.hasOwnProperty,D={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function $(N,k,X){var ie,de={},T=null,J=null;if(k!=null)for(ie in k.ref!==void 0&&(J=k.ref),k.key!==void 0&&(T=""+k.key),k)E.call(k,ie)&&!W.hasOwnProperty(ie)&&(de[ie]=k[ie]);var fe=arguments.length-2;if(fe===1)de.children=X;else if(1<fe){for(var Te=Array(fe),at=0;at<fe;at++)Te[at]=arguments[at+2];de.children=Te}if(N&&N.defaultProps)for(ie in fe=N.defaultProps,fe)de[ie]===void 0&&(de[ie]=fe[ie]);return{$$typeof:r,type:N,key:T,ref:J,props:de,_owner:D.current}}function Q(N,k){return{$$typeof:r,type:N.type,key:k,ref:N.ref,props:N.props,_owner:N._owner}}function le(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function re(N){var k={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(X){return k[X]})}var z=/\/+/g;function he(N,k){return typeof N=="object"&&N!==null&&N.key!=null?re(""+N.key):k.toString(36)}function oe(N,k,X,ie,de){var T=typeof N;(T==="undefined"||T==="boolean")&&(N=null);var J=!1;if(N===null)J=!0;else switch(T){case"string":case"number":J=!0;break;case"object":switch(N.$$typeof){case r:case s:J=!0}}if(J)return J=N,de=de(J),N=ie===""?"."+he(J,0):ie,F(de)?(X="",N!=null&&(X=N.replace(z,"$&/")+"/"),oe(de,k,X,"",function(at){return at})):de!=null&&(le(de)&&(de=Q(de,X+(!de.key||J&&J.key===de.key?"":(""+de.key).replace(z,"$&/")+"/")+N)),k.push(de)),1;if(J=0,ie=ie===""?".":ie+":",F(N))for(var fe=0;fe<N.length;fe++){T=N[fe];var Te=ie+he(T,fe);J+=oe(T,k,X,Te,de)}else if(Te=S(N),typeof Te=="function")for(N=Te.call(N),fe=0;!(T=N.next()).done;)T=T.value,Te=ie+he(T,fe++),J+=oe(T,k,X,Te,de);else if(T==="object")throw k=String(N),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.");return J}function me(N,k,X){if(N==null)return N;var ie=[],de=0;return oe(N,ie,"","",function(T){return k.call(X,T,de++)}),ie}function U(N){if(N._status===-1){var k=N._result;k=k(),k.then(function(X){(N._status===0||N._status===-1)&&(N._status=1,N._result=X)},function(X){(N._status===0||N._status===-1)&&(N._status=2,N._result=X)}),N._status===-1&&(N._status=0,N._result=k)}if(N._status===1)return N._result.default;throw N._result}var se={current:null},K={transition:null},B={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:K,ReactCurrentOwner:D};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:me,forEach:function(N,k,X){me(N,function(){k.apply(this,arguments)},X)},count:function(N){var k=0;return me(N,function(){k++}),k},toArray:function(N){return me(N,function(k){return k})||[]},only:function(N){if(!le(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Pe.Component=j,Pe.Fragment=i,Pe.Profiler=l,Pe.PureComponent=P,Pe.StrictMode=o,Pe.Suspense=f,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,Pe.act=Y,Pe.cloneElement=function(N,k,X){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var ie=v({},N.props),de=N.key,T=N.ref,J=N._owner;if(k!=null){if(k.ref!==void 0&&(T=k.ref,J=D.current),k.key!==void 0&&(de=""+k.key),N.type&&N.type.defaultProps)var fe=N.type.defaultProps;for(Te in k)E.call(k,Te)&&!W.hasOwnProperty(Te)&&(ie[Te]=k[Te]===void 0&&fe!==void 0?fe[Te]:k[Te])}var Te=arguments.length-2;if(Te===1)ie.children=X;else if(1<Te){fe=Array(Te);for(var at=0;at<Te;at++)fe[at]=arguments[at+2];ie.children=fe}return{$$typeof:r,type:N.type,key:de,ref:T,props:ie,_owner:J}},Pe.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:u,_context:N},N.Consumer=N},Pe.createElement=$,Pe.createFactory=function(N){var k=$.bind(null,N);return k.type=N,k},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(N){return{$$typeof:h,render:N}},Pe.isValidElement=le,Pe.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:U}},Pe.memo=function(N,k){return{$$typeof:g,type:N,compare:k===void 0?null:k}},Pe.startTransition=function(N){var k=K.transition;K.transition={};try{N()}finally{K.transition=k}},Pe.unstable_act=Y,Pe.useCallback=function(N,k){return se.current.useCallback(N,k)},Pe.useContext=function(N){return se.current.useContext(N)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(N){return se.current.useDeferredValue(N)},Pe.useEffect=function(N,k){return se.current.useEffect(N,k)},Pe.useId=function(){return se.current.useId()},Pe.useImperativeHandle=function(N,k,X){return se.current.useImperativeHandle(N,k,X)},Pe.useInsertionEffect=function(N,k){return se.current.useInsertionEffect(N,k)},Pe.useLayoutEffect=function(N,k){return se.current.useLayoutEffect(N,k)},Pe.useMemo=function(N,k){return se.current.useMemo(N,k)},Pe.useReducer=function(N,k,X){return se.current.useReducer(N,k,X)},Pe.useRef=function(N){return se.current.useRef(N)},Pe.useState=function(N){return se.current.useState(N)},Pe.useSyncExternalStore=function(N,k,X){return se.current.useSyncExternalStore(N,k,X)},Pe.useTransition=function(){return se.current.useTransition()},Pe.version="18.3.1",Pe}var Pm;function Rc(){return Pm||(Pm=1,Wo.exports=Ex()),Wo.exports}var Om;function Rx(){if(Om)return Zs;Om=1;var r=Rc(),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function m(h,f,g){var y,b={},S=null,C=null;g!==void 0&&(S=""+g),f.key!==void 0&&(S=""+f.key),f.ref!==void 0&&(C=f.ref);for(y in f)o.call(f,y)&&!u.hasOwnProperty(y)&&(b[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)b[y]===void 0&&(b[y]=f[y]);return{$$typeof:s,type:h,key:S,ref:C,props:b,_owner:l.current}}return Zs.Fragment=i,Zs.jsx=m,Zs.jsxs=m,Zs}var Tm;function Px(){return Tm||(Tm=1,Ho.exports=Rx()),Ho.exports}var n=Px(),x=Rc();const Jf=kx(x),fc=_x({__proto__:null,default:Jf},[x]);function ep(r,s){return function(){return r.apply(s,arguments)}}const{toString:Ox}=Object.prototype,{getPrototypeOf:Pc}=Object,{iterator:Ki,toStringTag:tp}=Symbol,Yi=(r=>s=>{const i=Ox.call(s);return r[i]||(r[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),rn=r=>(r=r.toLowerCase(),s=>Yi(s)===r),Qi=r=>s=>typeof s===r,{isArray:cs}=Array,ls=Qi("undefined");function oa(r){return r!==null&&!ls(r)&&r.constructor!==null&&!ls(r.constructor)&&At(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const np=rn("ArrayBuffer");function Tx(r){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(r):s=r&&r.buffer&&np(r.buffer),s}const Ax=Qi("string"),At=Qi("function"),rp=Qi("number"),ca=r=>r!==null&&typeof r=="object",Mx=r=>r===!0||r===!1,Pi=r=>{if(Yi(r)!=="object")return!1;const s=Pc(r);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(tp in r)&&!(Ki in r)},Dx=r=>{if(!ca(r)||oa(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},Ix=rn("Date"),Fx=rn("File"),Lx=rn("Blob"),$x=rn("FileList"),Bx=r=>ca(r)&&At(r.pipe),zx=r=>{let s;return r&&(typeof FormData=="function"&&r instanceof FormData||At(r.append)&&((s=Yi(r))==="formdata"||s==="object"&&At(r.toString)&&r.toString()==="[object FormData]"))},Vx=rn("URLSearchParams"),[Ux,Hx,Wx,Gx]=["ReadableStream","Request","Response","Headers"].map(rn),qx=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ua(r,s,{allOwnKeys:i=!1}={}){if(r===null||typeof r>"u")return;let o,l;if(typeof r!="object"&&(r=[r]),cs(r))for(o=0,l=r.length;o<l;o++)s.call(null,r[o],o,r);else{if(oa(r))return;const u=i?Object.getOwnPropertyNames(r):Object.keys(r),m=u.length;let h;for(o=0;o<m;o++)h=u[o],s.call(null,r[h],h,r)}}function sp(r,s){if(oa(r))return null;s=s.toLowerCase();const i=Object.keys(r);let o=i.length,l;for(;o-- >0;)if(l=i[o],s===l.toLowerCase())return l;return null}const Rr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ap=r=>!ls(r)&&r!==Rr;function pc(){const{caseless:r,skipUndefined:s}=ap(this)&&this||{},i={},o=(l,u)=>{const m=r&&sp(i,u)||u;Pi(i[m])&&Pi(l)?i[m]=pc(i[m],l):Pi(l)?i[m]=pc({},l):cs(l)?i[m]=l.slice():(!s||!ls(l))&&(i[m]=l)};for(let l=0,u=arguments.length;l<u;l++)arguments[l]&&ua(arguments[l],o);return i}const Kx=(r,s,i,{allOwnKeys:o}={})=>(ua(s,(l,u)=>{i&&At(l)?r[u]=ep(l,i):r[u]=l},{allOwnKeys:o}),r),Yx=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Qx=(r,s,i,o)=>{r.prototype=Object.create(s.prototype,o),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:s.prototype}),i&&Object.assign(r.prototype,i)},Xx=(r,s,i,o)=>{let l,u,m;const h={};if(s=s||{},r==null)return s;do{for(l=Object.getOwnPropertyNames(r),u=l.length;u-- >0;)m=l[u],(!o||o(m,r,s))&&!h[m]&&(s[m]=r[m],h[m]=!0);r=i!==!1&&Pc(r)}while(r&&(!i||i(r,s))&&r!==Object.prototype);return s},Zx=(r,s,i)=>{r=String(r),(i===void 0||i>r.length)&&(i=r.length),i-=s.length;const o=r.indexOf(s,i);return o!==-1&&o===i},Jx=r=>{if(!r)return null;if(cs(r))return r;let s=r.length;if(!rp(s))return null;const i=new Array(s);for(;s-- >0;)i[s]=r[s];return i},e0=(r=>s=>r&&s instanceof r)(typeof Uint8Array<"u"&&Pc(Uint8Array)),t0=(r,s)=>{const o=(r&&r[Ki]).call(r);let l;for(;(l=o.next())&&!l.done;){const u=l.value;s.call(r,u[0],u[1])}},n0=(r,s)=>{let i;const o=[];for(;(i=r.exec(s))!==null;)o.push(i);return o},r0=rn("HTMLFormElement"),s0=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,l){return o.toUpperCase()+l}),Am=(({hasOwnProperty:r})=>(s,i)=>r.call(s,i))(Object.prototype),a0=rn("RegExp"),ip=(r,s)=>{const i=Object.getOwnPropertyDescriptors(r),o={};ua(i,(l,u)=>{let m;(m=s(l,u,r))!==!1&&(o[u]=m||l)}),Object.defineProperties(r,o)},i0=r=>{ip(r,(s,i)=>{if(At(r)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=r[i];if(At(o)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},l0=(r,s)=>{const i={},o=l=>{l.forEach(u=>{i[u]=!0})};return cs(r)?o(r):o(String(r).split(s)),i},o0=()=>{},c0=(r,s)=>r!=null&&Number.isFinite(r=+r)?r:s;function u0(r){return!!(r&&At(r.append)&&r[tp]==="FormData"&&r[Ki])}const d0=r=>{const s=new Array(10),i=(o,l)=>{if(ca(o)){if(s.indexOf(o)>=0)return;if(oa(o))return o;if(!("toJSON"in o)){s[l]=o;const u=cs(o)?[]:{};return ua(o,(m,h)=>{const f=i(m,l+1);!ls(f)&&(u[h]=f)}),s[l]=void 0,u}}return o};return i(r,0)},m0=rn("AsyncFunction"),f0=r=>r&&(ca(r)||At(r))&&At(r.then)&&At(r.catch),lp=((r,s)=>r?setImmediate:s?((i,o)=>(Rr.addEventListener("message",({source:l,data:u})=>{l===Rr&&u===i&&o.length&&o.shift()()},!1),l=>{o.push(l),Rr.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",At(Rr.postMessage)),p0=typeof queueMicrotask<"u"?queueMicrotask.bind(Rr):typeof process<"u"&&process.nextTick||lp,h0=r=>r!=null&&At(r[Ki]),q={isArray:cs,isArrayBuffer:np,isBuffer:oa,isFormData:zx,isArrayBufferView:Tx,isString:Ax,isNumber:rp,isBoolean:Mx,isObject:ca,isPlainObject:Pi,isEmptyObject:Dx,isReadableStream:Ux,isRequest:Hx,isResponse:Wx,isHeaders:Gx,isUndefined:ls,isDate:Ix,isFile:Fx,isBlob:Lx,isRegExp:a0,isFunction:At,isStream:Bx,isURLSearchParams:Vx,isTypedArray:e0,isFileList:$x,forEach:ua,merge:pc,extend:Kx,trim:qx,stripBOM:Yx,inherits:Qx,toFlatObject:Xx,kindOf:Yi,kindOfTest:rn,endsWith:Zx,toArray:Jx,forEachEntry:t0,matchAll:n0,isHTMLForm:r0,hasOwnProperty:Am,hasOwnProp:Am,reduceDescriptors:ip,freezeMethods:i0,toObjectSet:l0,toCamelCase:s0,noop:o0,toFiniteNumber:c0,findKey:sp,global:Rr,isContextDefined:ap,isSpecCompliantForm:u0,toJSONObject:d0,isAsyncFn:m0,isThenable:f0,setImmediate:lp,asap:p0,isIterable:h0};function ke(r,s,i,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",s&&(this.code=s),i&&(this.config=i),o&&(this.request=o),l&&(this.response=l,this.status=l.status?l.status:null)}q.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const op=ke.prototype,cp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{cp[r]={value:r}});Object.defineProperties(ke,cp);Object.defineProperty(op,"isAxiosError",{value:!0});ke.from=(r,s,i,o,l,u)=>{const m=Object.create(op);q.toFlatObject(r,m,function(y){return y!==Error.prototype},g=>g!=="isAxiosError");const h=r&&r.message?r.message:"Error",f=s==null&&r?r.code:s;return ke.call(m,h,f,i,o,l),r&&m.cause==null&&Object.defineProperty(m,"cause",{value:r,configurable:!0}),m.name=r&&r.name||"Error",u&&Object.assign(m,u),m};const g0=null;function hc(r){return q.isPlainObject(r)||q.isArray(r)}function up(r){return q.endsWith(r,"[]")?r.slice(0,-2):r}function Mm(r,s,i){return r?r.concat(s).map(function(l,u){return l=up(l),!i&&u?"["+l+"]":l}).join(i?".":""):s}function x0(r){return q.isArray(r)&&!r.some(hc)}const v0=q.toFlatObject(q,{},null,function(s){return/^is[A-Z]/.test(s)});function Xi(r,s,i){if(!q.isObject(r))throw new TypeError("target must be an object");s=s||new FormData,i=q.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,j){return!q.isUndefined(j[_])});const o=i.metaTokens,l=i.visitor||y,u=i.dots,m=i.indexes,f=(i.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(s);if(!q.isFunction(l))throw new TypeError("visitor must be a function");function g(v){if(v===null)return"";if(q.isDate(v))return v.toISOString();if(q.isBoolean(v))return v.toString();if(!f&&q.isBlob(v))throw new ke("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(v)||q.isTypedArray(v)?f&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function y(v,_,j){let O=v;if(v&&!j&&typeof v=="object"){if(q.endsWith(_,"{}"))_=o?_:_.slice(0,-2),v=JSON.stringify(v);else if(q.isArray(v)&&x0(v)||(q.isFileList(v)||q.endsWith(_,"[]"))&&(O=q.toArray(v)))return _=up(_),O.forEach(function(I,F){!(q.isUndefined(I)||I===null)&&s.append(m===!0?Mm([_],F,u):m===null?_:_+"[]",g(I))}),!1}return hc(v)?!0:(s.append(Mm(j,_,u),g(v)),!1)}const b=[],S=Object.assign(v0,{defaultVisitor:y,convertValue:g,isVisitable:hc});function C(v,_){if(!q.isUndefined(v)){if(b.indexOf(v)!==-1)throw Error("Circular reference detected in "+_.join("."));b.push(v),q.forEach(v,function(O,P){(!(q.isUndefined(O)||O===null)&&l.call(s,O,q.isString(P)?P.trim():P,_,S))===!0&&C(O,_?_.concat(P):[P])}),b.pop()}}if(!q.isObject(r))throw new TypeError("data must be an object");return C(r),s}function Dm(r){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return s[o]})}function Oc(r,s){this._pairs=[],r&&Xi(r,this,s)}const dp=Oc.prototype;dp.append=function(s,i){this._pairs.push([s,i])};dp.toString=function(s){const i=s?function(o){return s.call(this,o,Dm)}:Dm;return this._pairs.map(function(l){return i(l[0])+"="+i(l[1])},"").join("&")};function y0(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function mp(r,s,i){if(!s)return r;const o=i&&i.encode||y0;q.isFunction(i)&&(i={serialize:i});const l=i&&i.serialize;let u;if(l?u=l(s,i):u=q.isURLSearchParams(s)?s.toString():new Oc(s,i).toString(o),u){const m=r.indexOf("#");m!==-1&&(r=r.slice(0,m)),r+=(r.indexOf("?")===-1?"?":"&")+u}return r}class Im{constructor(){this.handlers=[]}use(s,i,o){return this.handlers.push({fulfilled:s,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){q.forEach(this.handlers,function(o){o!==null&&s(o)})}}const fp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},b0=typeof URLSearchParams<"u"?URLSearchParams:Oc,j0=typeof FormData<"u"?FormData:null,w0=typeof Blob<"u"?Blob:null,N0={isBrowser:!0,classes:{URLSearchParams:b0,FormData:j0,Blob:w0},protocols:["http","https","file","blob","url","data"]},Tc=typeof window<"u"&&typeof document<"u",gc=typeof navigator=="object"&&navigator||void 0,S0=Tc&&(!gc||["ReactNative","NativeScript","NS"].indexOf(gc.product)<0),C0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_0=Tc&&window.location.href||"http://localhost",k0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tc,hasStandardBrowserEnv:S0,hasStandardBrowserWebWorkerEnv:C0,navigator:gc,origin:_0},Symbol.toStringTag,{value:"Module"})),wt={...k0,...N0};function E0(r,s){return Xi(r,new wt.classes.URLSearchParams,{visitor:function(i,o,l,u){return wt.isNode&&q.isBuffer(i)?(this.append(o,i.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...s})}function R0(r){return q.matchAll(/\w+|\[(\w*)]/g,r).map(s=>s[0]==="[]"?"":s[1]||s[0])}function P0(r){const s={},i=Object.keys(r);let o;const l=i.length;let u;for(o=0;o<l;o++)u=i[o],s[u]=r[u];return s}function pp(r){function s(i,o,l,u){let m=i[u++];if(m==="__proto__")return!0;const h=Number.isFinite(+m),f=u>=i.length;return m=!m&&q.isArray(l)?l.length:m,f?(q.hasOwnProp(l,m)?l[m]=[l[m],o]:l[m]=o,!h):((!l[m]||!q.isObject(l[m]))&&(l[m]=[]),s(i,o,l[m],u)&&q.isArray(l[m])&&(l[m]=P0(l[m])),!h)}if(q.isFormData(r)&&q.isFunction(r.entries)){const i={};return q.forEachEntry(r,(o,l)=>{s(R0(o),l,i,0)}),i}return null}function O0(r,s,i){if(q.isString(r))try{return(s||JSON.parse)(r),q.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(r)}const da={transitional:fp,adapter:["xhr","http","fetch"],transformRequest:[function(s,i){const o=i.getContentType()||"",l=o.indexOf("application/json")>-1,u=q.isObject(s);if(u&&q.isHTMLForm(s)&&(s=new FormData(s)),q.isFormData(s))return l?JSON.stringify(pp(s)):s;if(q.isArrayBuffer(s)||q.isBuffer(s)||q.isStream(s)||q.isFile(s)||q.isBlob(s)||q.isReadableStream(s))return s;if(q.isArrayBufferView(s))return s.buffer;if(q.isURLSearchParams(s))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let h;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return E0(s,this.formSerializer).toString();if((h=q.isFileList(s))||o.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Xi(h?{"files[]":s}:s,f&&new f,this.formSerializer)}}return u||l?(i.setContentType("application/json",!1),O0(s)):s}],transformResponse:[function(s){const i=this.transitional||da.transitional,o=i&&i.forcedJSONParsing,l=this.responseType==="json";if(q.isResponse(s)||q.isReadableStream(s))return s;if(s&&q.isString(s)&&(o&&!this.responseType||l)){const m=!(i&&i.silentJSONParsing)&&l;try{return JSON.parse(s,this.parseReviver)}catch(h){if(m)throw h.name==="SyntaxError"?ke.from(h,ke.ERR_BAD_RESPONSE,this,null,this.response):h}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],r=>{da.headers[r]={}});const T0=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),A0=r=>{const s={};let i,o,l;return r&&r.split(`
`).forEach(function(m){l=m.indexOf(":"),i=m.substring(0,l).trim().toLowerCase(),o=m.substring(l+1).trim(),!(!i||s[i]&&T0[i])&&(i==="set-cookie"?s[i]?s[i].push(o):s[i]=[o]:s[i]=s[i]?s[i]+", "+o:o)}),s},Fm=Symbol("internals");function Js(r){return r&&String(r).trim().toLowerCase()}function Oi(r){return r===!1||r==null?r:q.isArray(r)?r.map(Oi):String(r)}function M0(r){const s=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(r);)s[o[1]]=o[2];return s}const D0=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Go(r,s,i,o,l){if(q.isFunction(o))return o.call(this,s,i);if(l&&(s=i),!!q.isString(s)){if(q.isString(o))return s.indexOf(o)!==-1;if(q.isRegExp(o))return o.test(s)}}function I0(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,i,o)=>i.toUpperCase()+o)}function F0(r,s){const i=q.toCamelCase(" "+s);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+i,{value:function(l,u,m){return this[o].call(this,s,l,u,m)},configurable:!0})})}let Mt=class{constructor(s){s&&this.set(s)}set(s,i,o){const l=this;function u(h,f,g){const y=Js(f);if(!y)throw new Error("header name must be a non-empty string");const b=q.findKey(l,y);(!b||l[b]===void 0||g===!0||g===void 0&&l[b]!==!1)&&(l[b||f]=Oi(h))}const m=(h,f)=>q.forEach(h,(g,y)=>u(g,y,f));if(q.isPlainObject(s)||s instanceof this.constructor)m(s,i);else if(q.isString(s)&&(s=s.trim())&&!D0(s))m(A0(s),i);else if(q.isObject(s)&&q.isIterable(s)){let h={},f,g;for(const y of s){if(!q.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[g=y[0]]=(f=h[g])?q.isArray(f)?[...f,y[1]]:[f,y[1]]:y[1]}m(h,i)}else s!=null&&u(i,s,o);return this}get(s,i){if(s=Js(s),s){const o=q.findKey(this,s);if(o){const l=this[o];if(!i)return l;if(i===!0)return M0(l);if(q.isFunction(i))return i.call(this,l,o);if(q.isRegExp(i))return i.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,i){if(s=Js(s),s){const o=q.findKey(this,s);return!!(o&&this[o]!==void 0&&(!i||Go(this,this[o],o,i)))}return!1}delete(s,i){const o=this;let l=!1;function u(m){if(m=Js(m),m){const h=q.findKey(o,m);h&&(!i||Go(o,o[h],h,i))&&(delete o[h],l=!0)}}return q.isArray(s)?s.forEach(u):u(s),l}clear(s){const i=Object.keys(this);let o=i.length,l=!1;for(;o--;){const u=i[o];(!s||Go(this,this[u],u,s,!0))&&(delete this[u],l=!0)}return l}normalize(s){const i=this,o={};return q.forEach(this,(l,u)=>{const m=q.findKey(o,u);if(m){i[m]=Oi(l),delete i[u];return}const h=s?I0(u):String(u).trim();h!==u&&delete i[u],i[h]=Oi(l),o[h]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const i=Object.create(null);return q.forEach(this,(o,l)=>{o!=null&&o!==!1&&(i[l]=s&&q.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,i])=>s+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...i){const o=new this(s);return i.forEach(l=>o.set(l)),o}static accessor(s){const o=(this[Fm]=this[Fm]={accessors:{}}).accessors,l=this.prototype;function u(m){const h=Js(m);o[h]||(F0(l,m),o[h]=!0)}return q.isArray(s)?s.forEach(u):u(s),this}};Mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(Mt.prototype,({value:r},s)=>{let i=s[0].toUpperCase()+s.slice(1);return{get:()=>r,set(o){this[i]=o}}});q.freezeMethods(Mt);function qo(r,s){const i=this||da,o=s||i,l=Mt.from(o.headers);let u=o.data;return q.forEach(r,function(h){u=h.call(i,u,l.normalize(),s?s.status:void 0)}),l.normalize(),u}function hp(r){return!!(r&&r.__CANCEL__)}function us(r,s,i){ke.call(this,r??"canceled",ke.ERR_CANCELED,s,i),this.name="CanceledError"}q.inherits(us,ke,{__CANCEL__:!0});function gp(r,s,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?r(i):s(new ke("Request failed with status code "+i.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function L0(r){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return s&&s[1]||""}function $0(r,s){r=r||10;const i=new Array(r),o=new Array(r);let l=0,u=0,m;return s=s!==void 0?s:1e3,function(f){const g=Date.now(),y=o[u];m||(m=g),i[l]=f,o[l]=g;let b=u,S=0;for(;b!==l;)S+=i[b++],b=b%r;if(l=(l+1)%r,l===u&&(u=(u+1)%r),g-m<s)return;const C=y&&g-y;return C?Math.round(S*1e3/C):void 0}}function B0(r,s){let i=0,o=1e3/s,l,u;const m=(g,y=Date.now())=>{i=y,l=null,u&&(clearTimeout(u),u=null),r(...g)};return[(...g)=>{const y=Date.now(),b=y-i;b>=o?m(g,y):(l=g,u||(u=setTimeout(()=>{u=null,m(l)},o-b)))},()=>l&&m(l)]}const Fi=(r,s,i=3)=>{let o=0;const l=$0(50,250);return B0(u=>{const m=u.loaded,h=u.lengthComputable?u.total:void 0,f=m-o,g=l(f),y=m<=h;o=m;const b={loaded:m,total:h,progress:h?m/h:void 0,bytes:f,rate:g||void 0,estimated:g&&h&&y?(h-m)/g:void 0,event:u,lengthComputable:h!=null,[s?"download":"upload"]:!0};r(b)},i)},Lm=(r,s)=>{const i=r!=null;return[o=>s[0]({lengthComputable:i,total:r,loaded:o}),s[1]]},$m=r=>(...s)=>q.asap(()=>r(...s)),z0=wt.hasStandardBrowserEnv?((r,s)=>i=>(i=new URL(i,wt.origin),r.protocol===i.protocol&&r.host===i.host&&(s||r.port===i.port)))(new URL(wt.origin),wt.navigator&&/(msie|trident)/i.test(wt.navigator.userAgent)):()=>!0,V0=wt.hasStandardBrowserEnv?{write(r,s,i,o,l,u,m){if(typeof document>"u")return;const h=[`${r}=${encodeURIComponent(s)}`];q.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),q.isString(o)&&h.push(`path=${o}`),q.isString(l)&&h.push(`domain=${l}`),u===!0&&h.push("secure"),q.isString(m)&&h.push(`SameSite=${m}`),document.cookie=h.join("; ")},read(r){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function U0(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function H0(r,s){return s?r.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):r}function xp(r,s,i){let o=!U0(s);return r&&(o||i==!1)?H0(r,s):s}const Bm=r=>r instanceof Mt?{...r}:r;function Or(r,s){s=s||{};const i={};function o(g,y,b,S){return q.isPlainObject(g)&&q.isPlainObject(y)?q.merge.call({caseless:S},g,y):q.isPlainObject(y)?q.merge({},y):q.isArray(y)?y.slice():y}function l(g,y,b,S){if(q.isUndefined(y)){if(!q.isUndefined(g))return o(void 0,g,b,S)}else return o(g,y,b,S)}function u(g,y){if(!q.isUndefined(y))return o(void 0,y)}function m(g,y){if(q.isUndefined(y)){if(!q.isUndefined(g))return o(void 0,g)}else return o(void 0,y)}function h(g,y,b){if(b in s)return o(g,y);if(b in r)return o(void 0,g)}const f={url:u,method:u,data:u,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:h,headers:(g,y,b)=>l(Bm(g),Bm(y),b,!0)};return q.forEach(Object.keys({...r,...s}),function(y){const b=f[y]||l,S=b(r[y],s[y],y);q.isUndefined(S)&&b!==h||(i[y]=S)}),i}const vp=r=>{const s=Or({},r);let{data:i,withXSRFToken:o,xsrfHeaderName:l,xsrfCookieName:u,headers:m,auth:h}=s;if(s.headers=m=Mt.from(m),s.url=mp(xp(s.baseURL,s.url,s.allowAbsoluteUrls),r.params,r.paramsSerializer),h&&m.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),q.isFormData(i)){if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(q.isFunction(i.getHeaders)){const f=i.getHeaders(),g=["content-type","content-length"];Object.entries(f).forEach(([y,b])=>{g.includes(y.toLowerCase())&&m.set(y,b)})}}if(wt.hasStandardBrowserEnv&&(o&&q.isFunction(o)&&(o=o(s)),o||o!==!1&&z0(s.url))){const f=l&&u&&V0.read(u);f&&m.set(l,f)}return s},W0=typeof XMLHttpRequest<"u",G0=W0&&function(r){return new Promise(function(i,o){const l=vp(r);let u=l.data;const m=Mt.from(l.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:g}=l,y,b,S,C,v;function _(){C&&C(),v&&v(),l.cancelToken&&l.cancelToken.unsubscribe(y),l.signal&&l.signal.removeEventListener("abort",y)}let j=new XMLHttpRequest;j.open(l.method.toUpperCase(),l.url,!0),j.timeout=l.timeout;function O(){if(!j)return;const I=Mt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),E={data:!h||h==="text"||h==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:I,config:r,request:j};gp(function(W){i(W),_()},function(W){o(W),_()},E),j=null}"onloadend"in j?j.onloadend=O:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(O)},j.onabort=function(){j&&(o(new ke("Request aborted",ke.ECONNABORTED,r,j)),j=null)},j.onerror=function(F){const E=F&&F.message?F.message:"Network Error",D=new ke(E,ke.ERR_NETWORK,r,j);D.event=F||null,o(D),j=null},j.ontimeout=function(){let F=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const E=l.transitional||fp;l.timeoutErrorMessage&&(F=l.timeoutErrorMessage),o(new ke(F,E.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,r,j)),j=null},u===void 0&&m.setContentType(null),"setRequestHeader"in j&&q.forEach(m.toJSON(),function(F,E){j.setRequestHeader(E,F)}),q.isUndefined(l.withCredentials)||(j.withCredentials=!!l.withCredentials),h&&h!=="json"&&(j.responseType=l.responseType),g&&([S,v]=Fi(g,!0),j.addEventListener("progress",S)),f&&j.upload&&([b,C]=Fi(f),j.upload.addEventListener("progress",b),j.upload.addEventListener("loadend",C)),(l.cancelToken||l.signal)&&(y=I=>{j&&(o(!I||I.type?new us(null,r,j):I),j.abort(),j=null)},l.cancelToken&&l.cancelToken.subscribe(y),l.signal&&(l.signal.aborted?y():l.signal.addEventListener("abort",y)));const P=L0(l.url);if(P&&wt.protocols.indexOf(P)===-1){o(new ke("Unsupported protocol "+P+":",ke.ERR_BAD_REQUEST,r));return}j.send(u||null)})},q0=(r,s)=>{const{length:i}=r=r?r.filter(Boolean):[];if(s||i){let o=new AbortController,l;const u=function(g){if(!l){l=!0,h();const y=g instanceof Error?g:this.reason;o.abort(y instanceof ke?y:new us(y instanceof Error?y.message:y))}};let m=s&&setTimeout(()=>{m=null,u(new ke(`timeout ${s} of ms exceeded`,ke.ETIMEDOUT))},s);const h=()=>{r&&(m&&clearTimeout(m),m=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),r=null)};r.forEach(g=>g.addEventListener("abort",u));const{signal:f}=o;return f.unsubscribe=()=>q.asap(h),f}},K0=function*(r,s){let i=r.byteLength;if(i<s){yield r;return}let o=0,l;for(;o<i;)l=o+s,yield r.slice(o,l),o=l},Y0=async function*(r,s){for await(const i of Q0(r))yield*K0(i,s)},Q0=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const s=r.getReader();try{for(;;){const{done:i,value:o}=await s.read();if(i)break;yield o}}finally{await s.cancel()}},zm=(r,s,i,o)=>{const l=Y0(r,s);let u=0,m,h=f=>{m||(m=!0,o&&o(f))};return new ReadableStream({async pull(f){try{const{done:g,value:y}=await l.next();if(g){h(),f.close();return}let b=y.byteLength;if(i){let S=u+=b;i(S)}f.enqueue(new Uint8Array(y))}catch(g){throw h(g),g}},cancel(f){return h(f),l.return()}},{highWaterMark:2})},Vm=64*1024,{isFunction:Ni}=q,X0=(({Request:r,Response:s})=>({Request:r,Response:s}))(q.global),{ReadableStream:Um,TextEncoder:Hm}=q.global,Wm=(r,...s)=>{try{return!!r(...s)}catch{return!1}},Z0=r=>{r=q.merge.call({skipUndefined:!0},X0,r);const{fetch:s,Request:i,Response:o}=r,l=s?Ni(s):typeof fetch=="function",u=Ni(i),m=Ni(o);if(!l)return!1;const h=l&&Ni(Um),f=l&&(typeof Hm=="function"?(v=>_=>v.encode(_))(new Hm):async v=>new Uint8Array(await new i(v).arrayBuffer())),g=u&&h&&Wm(()=>{let v=!1;const _=new i(wt.origin,{body:new Um,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!_}),y=m&&h&&Wm(()=>q.isReadableStream(new o("").body)),b={stream:y&&(v=>v.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!b[v]&&(b[v]=(_,j)=>{let O=_&&_[v];if(O)return O.call(_);throw new ke(`Response type '${v}' is not supported`,ke.ERR_NOT_SUPPORT,j)})});const S=async v=>{if(v==null)return 0;if(q.isBlob(v))return v.size;if(q.isSpecCompliantForm(v))return(await new i(wt.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(q.isArrayBufferView(v)||q.isArrayBuffer(v))return v.byteLength;if(q.isURLSearchParams(v)&&(v=v+""),q.isString(v))return(await f(v)).byteLength},C=async(v,_)=>{const j=q.toFiniteNumber(v.getContentLength());return j??S(_)};return async v=>{let{url:_,method:j,data:O,signal:P,cancelToken:I,timeout:F,onDownloadProgress:E,onUploadProgress:D,responseType:W,headers:$,withCredentials:Q="same-origin",fetchOptions:le}=vp(v),re=s||fetch;W=W?(W+"").toLowerCase():"text";let z=q0([P,I&&I.toAbortSignal()],F),he=null;const oe=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let me;try{if(D&&g&&j!=="get"&&j!=="head"&&(me=await C($,O))!==0){let N=new i(_,{method:"POST",body:O,duplex:"half"}),k;if(q.isFormData(O)&&(k=N.headers.get("content-type"))&&$.setContentType(k),N.body){const[X,ie]=Lm(me,Fi($m(D)));O=zm(N.body,Vm,X,ie)}}q.isString(Q)||(Q=Q?"include":"omit");const U=u&&"credentials"in i.prototype,se={...le,signal:z,method:j.toUpperCase(),headers:$.normalize().toJSON(),body:O,duplex:"half",credentials:U?Q:void 0};he=u&&new i(_,se);let K=await(u?re(he,le):re(_,se));const B=y&&(W==="stream"||W==="response");if(y&&(E||B&&oe)){const N={};["status","statusText","headers"].forEach(de=>{N[de]=K[de]});const k=q.toFiniteNumber(K.headers.get("content-length")),[X,ie]=E&&Lm(k,Fi($m(E),!0))||[];K=new o(zm(K.body,Vm,X,()=>{ie&&ie(),oe&&oe()}),N)}W=W||"text";let Y=await b[q.findKey(b,W)||"text"](K,v);return!B&&oe&&oe(),await new Promise((N,k)=>{gp(N,k,{data:Y,headers:Mt.from(K.headers),status:K.status,statusText:K.statusText,config:v,request:he})})}catch(U){throw oe&&oe(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,v,he),{cause:U.cause||U}):ke.from(U,U&&U.code,v,he)}}},J0=new Map,yp=r=>{let s=r&&r.env||{};const{fetch:i,Request:o,Response:l}=s,u=[o,l,i];let m=u.length,h=m,f,g,y=J0;for(;h--;)f=u[h],g=y.get(f),g===void 0&&y.set(f,g=h?new Map:Z0(s)),y=g;return g};yp();const Ac={http:g0,xhr:G0,fetch:{get:yp}};q.forEach(Ac,(r,s)=>{if(r){try{Object.defineProperty(r,"name",{value:s})}catch{}Object.defineProperty(r,"adapterName",{value:s})}});const Gm=r=>`- ${r}`,ev=r=>q.isFunction(r)||r===null||r===!1;function tv(r,s){r=q.isArray(r)?r:[r];const{length:i}=r;let o,l;const u={};for(let m=0;m<i;m++){o=r[m];let h;if(l=o,!ev(o)&&(l=Ac[(h=String(o)).toLowerCase()],l===void 0))throw new ke(`Unknown adapter '${h}'`);if(l&&(q.isFunction(l)||(l=l.get(s))))break;u[h||"#"+m]=l}if(!l){const m=Object.entries(u).map(([f,g])=>`adapter ${f} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=i?m.length>1?`since :
`+m.map(Gm).join(`
`):" "+Gm(m[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return l}const bp={getAdapter:tv,adapters:Ac};function Ko(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new us(null,r)}function qm(r){return Ko(r),r.headers=Mt.from(r.headers),r.data=qo.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),bp.getAdapter(r.adapter||da.adapter,r)(r).then(function(o){return Ko(r),o.data=qo.call(r,r.transformResponse,o),o.headers=Mt.from(o.headers),o},function(o){return hp(o)||(Ko(r),o&&o.response&&(o.response.data=qo.call(r,r.transformResponse,o.response),o.response.headers=Mt.from(o.response.headers))),Promise.reject(o)})}const jp="1.13.2",Zi={};["object","boolean","number","function","string","symbol"].forEach((r,s)=>{Zi[r]=function(o){return typeof o===r||"a"+(s<1?"n ":" ")+r}});const Km={};Zi.transitional=function(s,i,o){function l(u,m){return"[Axios v"+jp+"] Transitional option '"+u+"'"+m+(o?". "+o:"")}return(u,m,h)=>{if(s===!1)throw new ke(l(m," has been removed"+(i?" in "+i:"")),ke.ERR_DEPRECATED);return i&&!Km[m]&&(Km[m]=!0,console.warn(l(m," has been deprecated since v"+i+" and will be removed in the near future"))),s?s(u,m,h):!0}};Zi.spelling=function(s){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${s}`),!0)};function nv(r,s,i){if(typeof r!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const o=Object.keys(r);let l=o.length;for(;l-- >0;){const u=o[l],m=s[u];if(m){const h=r[u],f=h===void 0||m(h,u,r);if(f!==!0)throw new ke("option "+u+" must be "+f,ke.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ke("Unknown option "+u,ke.ERR_BAD_OPTION)}}const Ti={assertOptions:nv,validators:Zi},gn=Ti.validators;let Pr=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Im,response:new Im}}async request(s,i){try{return await this._request(s,i)}catch(o){if(o instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(s,i){typeof s=="string"?(i=i||{},i.url=s):i=s||{},i=Or(this.defaults,i);const{transitional:o,paramsSerializer:l,headers:u}=i;o!==void 0&&Ti.assertOptions(o,{silentJSONParsing:gn.transitional(gn.boolean),forcedJSONParsing:gn.transitional(gn.boolean),clarifyTimeoutError:gn.transitional(gn.boolean)},!1),l!=null&&(q.isFunction(l)?i.paramsSerializer={serialize:l}:Ti.assertOptions(l,{encode:gn.function,serialize:gn.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Ti.assertOptions(i,{baseUrl:gn.spelling("baseURL"),withXsrfToken:gn.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let m=u&&q.merge(u.common,u[i.method]);u&&q.forEach(["delete","get","head","post","put","patch","common"],v=>{delete u[v]}),i.headers=Mt.concat(m,u);const h=[];let f=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(i)===!1||(f=f&&_.synchronous,h.unshift(_.fulfilled,_.rejected))});const g=[];this.interceptors.response.forEach(function(_){g.push(_.fulfilled,_.rejected)});let y,b=0,S;if(!f){const v=[qm.bind(this),void 0];for(v.unshift(...h),v.push(...g),S=v.length,y=Promise.resolve(i);b<S;)y=y.then(v[b++],v[b++]);return y}S=h.length;let C=i;for(;b<S;){const v=h[b++],_=h[b++];try{C=v(C)}catch(j){_.call(this,j);break}}try{y=qm.call(this,C)}catch(v){return Promise.reject(v)}for(b=0,S=g.length;b<S;)y=y.then(g[b++],g[b++]);return y}getUri(s){s=Or(this.defaults,s);const i=xp(s.baseURL,s.url,s.allowAbsoluteUrls);return mp(i,s.params,s.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(s){Pr.prototype[s]=function(i,o){return this.request(Or(o||{},{method:s,url:i,data:(o||{}).data}))}});q.forEach(["post","put","patch"],function(s){function i(o){return function(u,m,h){return this.request(Or(h||{},{method:s,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:m}))}}Pr.prototype[s]=i(),Pr.prototype[s+"Form"]=i(!0)});let rv=class wp{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(u){i=u});const o=this;this.promise.then(l=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](l);o._listeners=null}),this.promise.then=l=>{let u;const m=new Promise(h=>{o.subscribe(h),u=h}).then(l);return m.cancel=function(){o.unsubscribe(u)},m},s(function(u,m,h){o.reason||(o.reason=new us(u,m,h),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const i=this._listeners.indexOf(s);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const s=new AbortController,i=o=>{s.abort(o)};return this.subscribe(i),s.signal.unsubscribe=()=>this.unsubscribe(i),s.signal}static source(){let s;return{token:new wp(function(l){s=l}),cancel:s}}};function sv(r){return function(i){return r.apply(null,i)}}function av(r){return q.isObject(r)&&r.isAxiosError===!0}const xc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(xc).forEach(([r,s])=>{xc[s]=r});function Np(r){const s=new Pr(r),i=ep(Pr.prototype.request,s);return q.extend(i,Pr.prototype,s,{allOwnKeys:!0}),q.extend(i,s,null,{allOwnKeys:!0}),i.create=function(l){return Np(Or(r,l))},i}const ce=Np(da);ce.Axios=Pr;ce.CanceledError=us;ce.CancelToken=rv;ce.isCancel=hp;ce.VERSION=jp;ce.toFormData=Xi;ce.AxiosError=ke;ce.Cancel=ce.CanceledError;ce.all=function(s){return Promise.all(s)};ce.spread=sv;ce.isAxiosError=av;ce.mergeConfig=Or;ce.AxiosHeaders=Mt;ce.formToJSON=r=>pp(q.isHTMLForm(r)?new FormData(r):r);ce.getAdapter=bp.getAdapter;ce.HttpStatusCode=xc;ce.default=ce;const{Axios:UN,AxiosError:HN,CanceledError:WN,isCancel:GN,CancelToken:qN,VERSION:KN,all:YN,Cancel:QN,isAxiosError:XN,spread:ZN,toFormData:JN,AxiosHeaders:eS,HttpStatusCode:tS,formToJSON:nS,getAdapter:rS,mergeConfig:sS}=ce;var Si={},Yo={exports:{}},Tt={},Qo={exports:{}},Xo={};var Ym;function iv(){return Ym||(Ym=1,(function(r){function s(K,B){var Y=K.length;K.push(B);e:for(;0<Y;){var N=Y-1>>>1,k=K[N];if(0<l(k,B))K[N]=B,K[Y]=k,Y=N;else break e}}function i(K){return K.length===0?null:K[0]}function o(K){if(K.length===0)return null;var B=K[0],Y=K.pop();if(Y!==B){K[0]=Y;e:for(var N=0,k=K.length,X=k>>>1;N<X;){var ie=2*(N+1)-1,de=K[ie],T=ie+1,J=K[T];if(0>l(de,Y))T<k&&0>l(J,de)?(K[N]=J,K[T]=Y,N=T):(K[N]=de,K[ie]=Y,N=ie);else if(T<k&&0>l(J,Y))K[N]=J,K[T]=Y,N=T;else break e}}return B}function l(K,B){var Y=K.sortIndex-B.sortIndex;return Y!==0?Y:K.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var m=Date,h=m.now();r.unstable_now=function(){return m.now()-h}}var f=[],g=[],y=1,b=null,S=3,C=!1,v=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var B=i(g);B!==null;){if(B.callback===null)o(g);else if(B.startTime<=K)o(g),B.sortIndex=B.expirationTime,s(f,B);else break;B=i(g)}}function F(K){if(_=!1,I(K),!v)if(i(f)!==null)v=!0,U(E);else{var B=i(g);B!==null&&se(F,B.startTime-K)}}function E(K,B){v=!1,_&&(_=!1,O($),$=-1),C=!0;var Y=S;try{for(I(B),b=i(f);b!==null&&(!(b.expirationTime>B)||K&&!re());){var N=b.callback;if(typeof N=="function"){b.callback=null,S=b.priorityLevel;var k=N(b.expirationTime<=B);B=r.unstable_now(),typeof k=="function"?b.callback=k:b===i(f)&&o(f),I(B)}else o(f);b=i(f)}if(b!==null)var X=!0;else{var ie=i(g);ie!==null&&se(F,ie.startTime-B),X=!1}return X}finally{b=null,S=Y,C=!1}}var D=!1,W=null,$=-1,Q=5,le=-1;function re(){return!(r.unstable_now()-le<Q)}function z(){if(W!==null){var K=r.unstable_now();le=K;var B=!0;try{B=W(!0,K)}finally{B?he():(D=!1,W=null)}}else D=!1}var he;if(typeof P=="function")he=function(){P(z)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,me=oe.port2;oe.port1.onmessage=z,he=function(){me.postMessage(null)}}else he=function(){j(z,0)};function U(K){W=K,D||(D=!0,he())}function se(K,B){$=j(function(){K(r.unstable_now())},B)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_continueExecution=function(){v||C||(v=!0,U(E))},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return i(f)},r.unstable_next=function(K){switch(S){case 1:case 2:case 3:var B=3;break;default:B=S}var Y=S;S=B;try{return K()}finally{S=Y}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(K,B){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Y=S;S=K;try{return B()}finally{S=Y}},r.unstable_scheduleCallback=function(K,B,Y){var N=r.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?N+Y:N):Y=N,K){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=Y+k,K={id:y++,callback:B,priorityLevel:K,startTime:Y,expirationTime:k,sortIndex:-1},Y>N?(K.sortIndex=Y,s(g,K),i(f)===null&&K===i(g)&&(_?(O($),$=-1):_=!0,se(F,Y-N))):(K.sortIndex=k,s(f,K),v||C||(v=!0,U(E))),K},r.unstable_shouldYield=re,r.unstable_wrapCallback=function(K){var B=S;return function(){var Y=S;S=B;try{return K.apply(this,arguments)}finally{S=Y}}}})(Xo)),Xo}var Qm;function lv(){return Qm||(Qm=1,Qo.exports=iv()),Qo.exports}var Xm;function ov(){if(Xm)return Tt;Xm=1;var r=Rc(),s=lv();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function S(e){return f.call(b,e)?!0:f.call(y,e)?!1:g.test(e)?b[e]=!0:(y[e]=!0,!1)}function C(e,t,a,c){if(a!==null&&a.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v(e,t,a,c){if(t===null||typeof t>"u"||C(e,t,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _(e,t,a,c,d,p,w){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=w}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new _(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(O,P);j[t]=new _(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(O,P);j[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(O,P);j[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,t,a,c){var d=j.hasOwnProperty(t)?j[t]:null;(d!==null?d.type!==0:c||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v(t,a,d,c)&&(a=null),c||d===null?S(t)&&(a===null?e.removeAttribute(t):e.setAttribute(t,""+a)):d.mustUseProperty?e[d.propertyName]=a===null?d.type===3?!1:"":a:(t=d.attributeName,c=d.attributeNamespace,a===null?e.removeAttribute(t):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?e.setAttributeNS(c,t,a):e.setAttribute(t,a))))}var F=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),D=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),re=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),K=Symbol.iterator;function B(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,N;function k(e){if(N===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return`
`+N+e}var X=!1;function ie(e,t){if(!e||X)return"";X=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(G){var c=G}Reflect.construct(e,[],t)}else{try{t.call()}catch(G){c=G}e.call(t.prototype)}else{try{throw Error()}catch(G){c=G}e()}}catch(G){if(G&&c&&typeof G.stack=="string"){for(var d=G.stack.split(`
`),p=c.stack.split(`
`),w=d.length-1,R=p.length-1;1<=w&&0<=R&&d[w]!==p[R];)R--;for(;1<=w&&0<=R;w--,R--)if(d[w]!==p[R]){if(w!==1||R!==1)do if(w--,R--,0>R||d[w]!==p[R]){var M=`
`+d[w].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=w&&0<=R);break}}}finally{X=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?k(e):""}function de(e){switch(e.tag){case 5:return k(e.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function T(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case D:return"Portal";case Q:return"Profiler";case $:return"StrictMode";case he:return"Suspense";case oe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case re:return(e.displayName||"Context")+".Consumer";case le:return(e._context.displayName||"Context")+".Provider";case z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case me:return t=e.displayName||null,t!==null?t:T(e.type)||"Memo";case U:t=e._payload,e=e._init;try{return T(e(t))}catch{}}return null}function J(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(t);case 8:return t===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function at(e){var t=Te(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),c=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,p.call(this,w)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ct(e){e._valueTracker||(e._valueTracker=at(e))}function Ge(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),c="";return e&&(c=Te(e)?e.checked?"true":"false":e.value),e=c,e!==a?(t.setValue(e),!0):!1}function _t(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function an(e,t){var a=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function ue(e,t){var a=t.defaultValue==null?"":t.defaultValue,c=t.checked!=null?t.checked:t.defaultChecked;a=fe(t.value!=null?t.value:a),e._wrapperState={initialChecked:c,initialValue:a,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Se(e,t){t=t.checked,t!=null&&I(e,"checked",t,!1)}function Ae(e,t){Se(e,t);var a=fe(t.value),c=t.type;if(a!=null)c==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tt(e,t.type,a):t.hasOwnProperty("defaultValue")&&tt(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Me(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var c=t.type;if(!(c!=="submit"&&c!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function tt(e,t,a){(t!=="number"||_t(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var it=Array.isArray;function lt(e,t,a,c){if(e=e.options,t){t={};for(var d=0;d<a.length;d++)t["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=t.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&c&&(e[a].defaultSelected=!0)}else{for(a=""+fe(a),t=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function sr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ln(e,t){var a=t.value;if(a==null){if(a=t.children,t=t.defaultValue,a!=null){if(t!=null)throw Error(i(92));if(it(a)){if(1<a.length)throw Error(i(93));a=a[0]}t=a}t==null&&(t=""),a=t}e._wrapperState={initialValue:fe(a)}}function ar(e,t){var a=fe(t.value),c=fe(t.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),t.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),c!=null&&(e.defaultValue=""+c)}function ir(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jn,fa=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,a,c,d){MSApp.execUnsafeLocalFunction(function(){return e(t,a,c,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jn=jn||document.createElement("div"),jn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function or(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},il=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(e){il.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cr[t]=cr[e]})});function pa(e,t,a){return t==null||typeof t=="boolean"||t===""?"":a||typeof t!="number"||t===0||cr.hasOwnProperty(e)&&cr[e]?(""+t).trim():t+"px"}function ha(e,t){e=e.style;for(var a in t)if(t.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=pa(a,t[a],c);a==="float"&&(a="cssFloat"),c?e.setProperty(a,d):e[a]=d}}var Ar=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ur(e,t){if(t){if(Ar[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function dr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on=null;function mr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,cn=null,un=null;function A(e){if(e=Fs(e)){if(typeof fr!="function")throw Error(i(280));var t=e.stateNode;t&&(t=La(t),fr(e.stateNode,e.type,t))}}function Re(e){cn?un?un.push(e):un=[e]:cn=e}function He(){if(cn){var e=cn,t=un;if(un=cn=null,A(e),t)for(e=0;e<t.length;e++)A(t[e])}}function pr(e,t){return e(t)}function hr(){}var hs=!1;function Mr(e,t,a){if(hs)return e(t,a);hs=!0;try{return pr(e,t,a)}finally{hs=!1,(cn!==null||un!==null)&&(hr(),He())}}function gs(e,t){var a=e.stateNode;if(a===null)return null;var c=La(a);if(c===null)return null;a=c[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var ll=!1;if(h)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){ll=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{ll=!1}function Th(e,t,a,c,d,p,w,R,M){var G=Array.prototype.slice.call(arguments,3);try{t.apply(a,G)}catch(ee){this.onError(ee)}}var vs=!1,ga=null,xa=!1,ol=null,Ah={onError:function(e){vs=!0,ga=e}};function Mh(e,t,a,c,d,p,w,R,M){vs=!1,ga=null,Th.apply(Ah,arguments)}function Dh(e,t,a,c,d,p,w,R,M){if(Mh.apply(this,arguments),vs){if(vs){var G=ga;vs=!1,ga=null}else throw Error(i(198));xa||(xa=!0,ol=G)}}function gr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Zc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jc(e){if(gr(e)!==e)throw Error(i(188))}function Ih(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,c=t;;){var d=a.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===a)return Jc(d),e;if(p===c)return Jc(d),t;p=p.sibling}throw Error(i(188))}if(a.return!==c.return)a=d,c=p;else{for(var w=!1,R=d.child;R;){if(R===a){w=!0,a=d,c=p;break}if(R===c){w=!0,c=d,a=p;break}R=R.sibling}if(!w){for(R=p.child;R;){if(R===a){w=!0,a=p,c=d;break}if(R===c){w=!0,c=p,a=d;break}R=R.sibling}if(!w)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function eu(e){return e=Ih(e),e!==null?tu(e):null}function tu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tu(e);if(t!==null)return t;e=e.sibling}return null}var nu=s.unstable_scheduleCallback,ru=s.unstable_cancelCallback,Fh=s.unstable_shouldYield,Lh=s.unstable_requestPaint,Ze=s.unstable_now,$h=s.unstable_getCurrentPriorityLevel,cl=s.unstable_ImmediatePriority,su=s.unstable_UserBlockingPriority,va=s.unstable_NormalPriority,Bh=s.unstable_LowPriority,au=s.unstable_IdlePriority,ya=null,dn=null;function zh(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Hh,Vh=Math.log,Uh=Math.LN2;function Hh(e){return e>>>=0,e===0?32:31-(Vh(e)/Uh|0)|0}var ba=64,ja=4194304;function ys(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wa(e,t){var a=e.pendingLanes;if(a===0)return 0;var c=0,d=e.suspendedLanes,p=e.pingedLanes,w=a&268435455;if(w!==0){var R=w&~d;R!==0?c=ys(R):(p&=w,p!==0&&(c=ys(p)))}else w=a&~d,w!==0?c=ys(w):p!==0&&(c=ys(p));if(c===0)return 0;if(t!==0&&t!==c&&(t&d)===0&&(d=c&-c,p=t&-t,d>=p||d===16&&(p&4194240)!==0))return t;if((c&4)!==0&&(c|=a&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=c;0<t;)a=31-Yt(t),d=1<<a,c|=e[a],t&=~d;return c}function Wh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gh(e,t){for(var a=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes;0<p;){var w=31-Yt(p),R=1<<w,M=d[w];M===-1?((R&a)===0||(R&c)!==0)&&(d[w]=Wh(R,t)):M<=t&&(e.expiredLanes|=R),p&=~R}}function ul(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function iu(){var e=ba;return ba<<=1,(ba&4194240)===0&&(ba=64),e}function dl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function bs(e,t,a){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=a}function qh(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<a;){var d=31-Yt(a),p=1<<d;t[d]=0,c[d]=-1,e[d]=-1,a&=~p}}function ml(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var c=31-Yt(a),d=1<<c;d&t|e[c]&t&&(e[c]|=t),a&=~d}}var Be=0;function lu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ou,fl,cu,uu,du,pl=!1,Na=[],Dn=null,In=null,Fn=null,js=new Map,ws=new Map,Ln=[],Kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(t.pointerId)}}function Ns(e,t,a,c,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},t!==null&&(t=Fs(t),t!==null&&fl(t)),e):(e.eventSystemFlags|=c,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Yh(e,t,a,c,d){switch(t){case"focusin":return Dn=Ns(Dn,e,t,a,c,d),!0;case"dragenter":return In=Ns(In,e,t,a,c,d),!0;case"mouseover":return Fn=Ns(Fn,e,t,a,c,d),!0;case"pointerover":var p=d.pointerId;return js.set(p,Ns(js.get(p)||null,e,t,a,c,d)),!0;case"gotpointercapture":return p=d.pointerId,ws.set(p,Ns(ws.get(p)||null,e,t,a,c,d)),!0}return!1}function fu(e){var t=xr(e.target);if(t!==null){var a=gr(t);if(a!==null){if(t=a.tag,t===13){if(t=Zc(a),t!==null){e.blockedOn=t,du(e.priority,function(){cu(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=gl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);on=c,a.target.dispatchEvent(c),on=null}else return t=Fs(a),t!==null&&fl(t),e.blockedOn=a,!1;t.shift()}return!0}function pu(e,t,a){Sa(e)&&a.delete(t)}function Qh(){pl=!1,Dn!==null&&Sa(Dn)&&(Dn=null),In!==null&&Sa(In)&&(In=null),Fn!==null&&Sa(Fn)&&(Fn=null),js.forEach(pu),ws.forEach(pu)}function Ss(e,t){e.blockedOn===t&&(e.blockedOn=null,pl||(pl=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Qh)))}function Cs(e){function t(d){return Ss(d,e)}if(0<Na.length){Ss(Na[0],e);for(var a=1;a<Na.length;a++){var c=Na[a];c.blockedOn===e&&(c.blockedOn=null)}}for(Dn!==null&&Ss(Dn,e),In!==null&&Ss(In,e),Fn!==null&&Ss(Fn,e),js.forEach(t),ws.forEach(t),a=0;a<Ln.length;a++)c=Ln[a],c.blockedOn===e&&(c.blockedOn=null);for(;0<Ln.length&&(a=Ln[0],a.blockedOn===null);)fu(a),a.blockedOn===null&&Ln.shift()}var Dr=F.ReactCurrentBatchConfig,Ca=!0;function Xh(e,t,a,c){var d=Be,p=Dr.transition;Dr.transition=null;try{Be=1,hl(e,t,a,c)}finally{Be=d,Dr.transition=p}}function Zh(e,t,a,c){var d=Be,p=Dr.transition;Dr.transition=null;try{Be=4,hl(e,t,a,c)}finally{Be=d,Dr.transition=p}}function hl(e,t,a,c){if(Ca){var d=gl(e,t,a,c);if(d===null)Al(e,t,c,_a,a),mu(e,c);else if(Yh(d,e,t,a,c))c.stopPropagation();else if(mu(e,c),t&4&&-1<Kh.indexOf(e)){for(;d!==null;){var p=Fs(d);if(p!==null&&ou(p),p=gl(e,t,a,c),p===null&&Al(e,t,c,_a,a),p===d)break;d=p}d!==null&&c.stopPropagation()}else Al(e,t,c,null,a)}}var _a=null;function gl(e,t,a,c){if(_a=null,e=mr(c),e=xr(e),e!==null)if(t=gr(e),t===null)e=null;else if(a=t.tag,a===13){if(e=Zc(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _a=e,null}function hu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($h()){case cl:return 1;case su:return 4;case va:case Bh:return 16;case au:return 536870912;default:return 16}default:return 16}}var $n=null,xl=null,ka=null;function gu(){if(ka)return ka;var e,t=xl,a=t.length,c,d="value"in $n?$n.value:$n.textContent,p=d.length;for(e=0;e<a&&t[e]===d[e];e++);var w=a-e;for(c=1;c<=w&&t[a-c]===d[p-c];c++);return ka=d.slice(e,1<c?1-c:void 0)}function Ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ra(){return!0}function xu(){return!1}function It(e){function t(a,c,d,p,w){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(a=e[R],this[R]=a?a(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ra:xu,this.isPropagationStopped=xu,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),t}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=It(Ir),_s=Y({},Ir,{view:0,detail:0}),Jh=It(_s),yl,bl,ks,Pa=Y({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ks&&(ks&&e.type==="mousemove"?(yl=e.screenX-ks.screenX,bl=e.screenY-ks.screenY):bl=yl=0,ks=e),yl)},movementY:function(e){return"movementY"in e?e.movementY:bl}}),vu=It(Pa),eg=Y({},Pa,{dataTransfer:0}),tg=It(eg),ng=Y({},_s,{relatedTarget:0}),jl=It(ng),rg=Y({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),sg=It(rg),ag=Y({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ig=It(ag),lg=Y({},Ir,{data:0}),yu=It(lg),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ug[e])?!!t[e]:!1}function wl(){return dg}var mg=Y({},_s,{key:function(e){if(e.key){var t=og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fg=It(mg),pg=Y({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=It(pg),hg=Y({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),gg=It(hg),xg=Y({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),vg=It(xg),yg=Y({},Pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bg=It(yg),jg=[9,13,27,32],Nl=h&&"CompositionEvent"in window,Es=null;h&&"documentMode"in document&&(Es=document.documentMode);var wg=h&&"TextEvent"in window&&!Es,ju=h&&(!Nl||Es&&8<Es&&11>=Es),wu=" ",Nu=!1;function Su(e,t){switch(e){case"keyup":return jg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function Ng(e,t){switch(e){case"compositionend":return Cu(t);case"keypress":return t.which!==32?null:(Nu=!0,wu);case"textInput":return e=t.data,e===wu&&Nu?null:e;default:return null}}function Sg(e,t){if(Fr)return e==="compositionend"||!Nl&&Su(e,t)?(e=gu(),ka=xl=$n=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ju&&t.locale!=="ko"?null:t.data;default:return null}}var Cg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cg[e.type]:t==="textarea"}function ku(e,t,a,c){Re(c),t=Da(t,"onChange"),0<t.length&&(a=new vl("onChange","change",null,a,c),e.push({event:a,listeners:t}))}var Rs=null,Ps=null;function _g(e){Wu(e,0)}function Oa(e){var t=Vr(e);if(Ge(t))return e}function kg(e,t){if(e==="change")return t}var Eu=!1;if(h){var Sl;if(h){var Cl="oninput"in document;if(!Cl){var Ru=document.createElement("div");Ru.setAttribute("oninput","return;"),Cl=typeof Ru.oninput=="function"}Sl=Cl}else Sl=!1;Eu=Sl&&(!document.documentMode||9<document.documentMode)}function Pu(){Rs&&(Rs.detachEvent("onpropertychange",Ou),Ps=Rs=null)}function Ou(e){if(e.propertyName==="value"&&Oa(Ps)){var t=[];ku(t,Ps,e,mr(e)),Mr(_g,t)}}function Eg(e,t,a){e==="focusin"?(Pu(),Rs=t,Ps=a,Rs.attachEvent("onpropertychange",Ou)):e==="focusout"&&Pu()}function Rg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oa(Ps)}function Pg(e,t){if(e==="click")return Oa(t)}function Og(e,t){if(e==="input"||e==="change")return Oa(t)}function Tg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:Tg;function Os(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),c=Object.keys(t);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!f.call(t,d)||!Qt(e[d],t[d]))return!1}return!0}function Tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Au(e,t){var a=Tu(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=t&&c>=t)return{node:a,offset:t-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tu(a)}}function Mu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Du(){for(var e=window,t=_t();t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=_t(e.document)}return t}function _l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ag(e){var t=Du(),a=e.focusedElem,c=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&Mu(a.ownerDocument.documentElement,a)){if(c!==null&&_l(a)){if(t=c.start,e=c.end,e===void 0&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if(e=(t=a.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=a.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!e.extend&&p>c&&(d=c,c=p,p=d),d=Au(a,p);var w=Au(a,c);d&&w&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),p>c?(e.addRange(t),e.extend(w.node,w.offset)):(t.setEnd(w.node,w.offset),e.addRange(t)))}}for(t=[],e=a;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<t.length;a++)e=t[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mg=h&&"documentMode"in document&&11>=document.documentMode,Lr=null,kl=null,Ts=null,El=!1;function Iu(e,t,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;El||Lr==null||Lr!==_t(c)||(c=Lr,"selectionStart"in c&&_l(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ts&&Os(Ts,c)||(Ts=c,c=Da(kl,"onSelect"),0<c.length&&(t=new vl("onSelect","select",null,t,a),e.push({event:t,listeners:c}),t.target=Lr)))}function Ta(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var $r={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},Rl={},Fu={};h&&(Fu=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Aa(e){if(Rl[e])return Rl[e];if(!$r[e])return e;var t=$r[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Fu)return Rl[e]=t[a];return e}var Lu=Aa("animationend"),$u=Aa("animationiteration"),Bu=Aa("animationstart"),zu=Aa("transitionend"),Vu=new Map,Uu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,t){Vu.set(e,t),u(t,[e])}for(var Pl=0;Pl<Uu.length;Pl++){var Ol=Uu[Pl],Dg=Ol.toLowerCase(),Ig=Ol[0].toUpperCase()+Ol.slice(1);Bn(Dg,"on"+Ig)}Bn(Lu,"onAnimationEnd"),Bn($u,"onAnimationIteration"),Bn(Bu,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(zu,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fg=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function Hu(e,t,a){var c=e.type||"unknown-event";e.currentTarget=a,Dh(c,t,void 0,e),e.currentTarget=null}function Wu(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],d=c.event;c=c.listeners;e:{var p=void 0;if(t)for(var w=c.length-1;0<=w;w--){var R=c[w],M=R.instance,G=R.currentTarget;if(R=R.listener,M!==p&&d.isPropagationStopped())break e;Hu(d,R,G),p=M}else for(w=0;w<c.length;w++){if(R=c[w],M=R.instance,G=R.currentTarget,R=R.listener,M!==p&&d.isPropagationStopped())break e;Hu(d,R,G),p=M}}}if(xa)throw e=ol,xa=!1,ol=null,e}function Ve(e,t){var a=t[$l];a===void 0&&(a=t[$l]=new Set);var c=e+"__bubble";a.has(c)||(Gu(t,e,2,!1),a.add(c))}function Tl(e,t,a){var c=0;t&&(c|=4),Gu(a,e,c,t)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function Ms(e){if(!e[Ma]){e[Ma]=!0,o.forEach(function(a){a!=="selectionchange"&&(Fg.has(a)||Tl(a,!1,e),Tl(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ma]||(t[Ma]=!0,Tl("selectionchange",!1,t))}}function Gu(e,t,a,c){switch(hu(t)){case 1:var d=Xh;break;case 4:d=Zh;break;default:d=hl}a=d.bind(null,t,a,e),d=void 0,!ll||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(t,a,{capture:!0,passive:d}):e.addEventListener(t,a,!0):d!==void 0?e.addEventListener(t,a,{passive:d}):e.addEventListener(t,a,!1)}function Al(e,t,a,c,d){var p=c;if((t&1)===0&&(t&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var R=c.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(w===4)for(w=c.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===d||M.nodeType===8&&M.parentNode===d))return;w=w.return}for(;R!==null;){if(w=xr(R),w===null)return;if(M=w.tag,M===5||M===6){c=p=w;continue e}R=R.parentNode}}c=c.return}Mr(function(){var G=p,ee=mr(a),ne=[];e:{var Z=Vu.get(e);if(Z!==void 0){var pe=vl,xe=e;switch(e){case"keypress":if(Ea(a)===0)break e;case"keydown":case"keyup":pe=fg;break;case"focusin":xe="focus",pe=jl;break;case"focusout":xe="blur",pe=jl;break;case"beforeblur":case"afterblur":pe=jl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=gg;break;case Lu:case $u:case Bu:pe=sg;break;case zu:pe=vg;break;case"scroll":pe=Jh;break;case"wheel":pe=bg;break;case"copy":case"cut":case"paste":pe=ig;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=bu}var ve=(t&4)!==0,Je=!ve&&e==="scroll",V=ve?Z!==null?Z+"Capture":null:Z;ve=[];for(var L=G,H;L!==null;){H=L;var ae=H.stateNode;if(H.tag===5&&ae!==null&&(H=ae,V!==null&&(ae=gs(L,V),ae!=null&&ve.push(Ds(L,ae,H)))),Je)break;L=L.return}0<ve.length&&(Z=new pe(Z,xe,null,a,ee),ne.push({event:Z,listeners:ve}))}}if((t&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",pe=e==="mouseout"||e==="pointerout",Z&&a!==on&&(xe=a.relatedTarget||a.fromElement)&&(xr(xe)||xe[wn]))break e;if((pe||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,pe?(xe=a.relatedTarget||a.toElement,pe=G,xe=xe?xr(xe):null,xe!==null&&(Je=gr(xe),xe!==Je||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(pe=null,xe=G),pe!==xe)){if(ve=vu,ae="onMouseLeave",V="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(ve=bu,ae="onPointerLeave",V="onPointerEnter",L="pointer"),Je=pe==null?Z:Vr(pe),H=xe==null?Z:Vr(xe),Z=new ve(ae,L+"leave",pe,a,ee),Z.target=Je,Z.relatedTarget=H,ae=null,xr(ee)===G&&(ve=new ve(V,L+"enter",xe,a,ee),ve.target=H,ve.relatedTarget=Je,ae=ve),Je=ae,pe&&xe)t:{for(ve=pe,V=xe,L=0,H=ve;H;H=Br(H))L++;for(H=0,ae=V;ae;ae=Br(ae))H++;for(;0<L-H;)ve=Br(ve),L--;for(;0<H-L;)V=Br(V),H--;for(;L--;){if(ve===V||V!==null&&ve===V.alternate)break t;ve=Br(ve),V=Br(V)}ve=null}else ve=null;pe!==null&&qu(ne,Z,pe,ve,!1),xe!==null&&Je!==null&&qu(ne,Je,xe,ve,!0)}}e:{if(Z=G?Vr(G):window,pe=Z.nodeName&&Z.nodeName.toLowerCase(),pe==="select"||pe==="input"&&Z.type==="file")var ye=kg;else if(_u(Z))if(Eu)ye=Og;else{ye=Rg;var je=Eg}else(pe=Z.nodeName)&&pe.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ye=Pg);if(ye&&(ye=ye(e,G))){ku(ne,ye,a,ee);break e}je&&je(e,Z,G),e==="focusout"&&(je=Z._wrapperState)&&je.controlled&&Z.type==="number"&&tt(Z,"number",Z.value)}switch(je=G?Vr(G):window,e){case"focusin":(_u(je)||je.contentEditable==="true")&&(Lr=je,kl=G,Ts=null);break;case"focusout":Ts=kl=Lr=null;break;case"mousedown":El=!0;break;case"contextmenu":case"mouseup":case"dragend":El=!1,Iu(ne,a,ee);break;case"selectionchange":if(Mg)break;case"keydown":case"keyup":Iu(ne,a,ee)}var we;if(Nl)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Fr?Su(e,a)&&(_e="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(ju&&a.locale!=="ko"&&(Fr||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Fr&&(we=gu()):($n=ee,xl="value"in $n?$n.value:$n.textContent,Fr=!0)),je=Da(G,_e),0<je.length&&(_e=new yu(_e,e,null,a,ee),ne.push({event:_e,listeners:je}),we?_e.data=we:(we=Cu(a),we!==null&&(_e.data=we)))),(we=wg?Ng(e,a):Sg(e,a))&&(G=Da(G,"onBeforeInput"),0<G.length&&(ee=new yu("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ee,listeners:G}),ee.data=we))}Wu(ne,t)})}function Ds(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Da(e,t){for(var a=t+"Capture",c=[];e!==null;){var d=e,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=gs(e,a),p!=null&&c.unshift(Ds(e,p,d)),p=gs(e,t),p!=null&&c.push(Ds(e,p,d))),e=e.return}return c}function Br(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qu(e,t,a,c,d){for(var p=t._reactName,w=[];a!==null&&a!==c;){var R=a,M=R.alternate,G=R.stateNode;if(M!==null&&M===c)break;R.tag===5&&G!==null&&(R=G,d?(M=gs(a,p),M!=null&&w.unshift(Ds(a,M,R))):d||(M=gs(a,p),M!=null&&w.push(Ds(a,M,R)))),a=a.return}w.length!==0&&e.push({event:t,listeners:w})}var Lg=/\r\n?/g,$g=/\u0000|\uFFFD/g;function Ku(e){return(typeof e=="string"?e:""+e).replace(Lg,`
`).replace($g,"")}function Ia(e,t,a){if(t=Ku(t),Ku(e)!==t&&a)throw Error(i(425))}function Fa(){}var Ml=null,Dl=null;function Il(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fl=typeof setTimeout=="function"?setTimeout:void 0,Bg=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,zg=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(e){return Yu.resolve(null).then(e).catch(Vg)}:Fl;function Vg(e){setTimeout(function(){throw e})}function Ll(e,t){var a=t,c=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){e.removeChild(d),Cs(t);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Cs(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}var zr=Math.random().toString(36).slice(2),mn="__reactFiber$"+zr,Is="__reactProps$"+zr,wn="__reactContainer$"+zr,$l="__reactEvents$"+zr,Ug="__reactListeners$"+zr,Hg="__reactHandles$"+zr;function xr(e){var t=e[mn];if(t)return t;for(var a=e.parentNode;a;){if(t=a[wn]||a[mn]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Qu(e);e!==null;){if(a=e[mn])return a;e=Qu(e)}return t}e=a,a=e.parentNode}return null}function Fs(e){return e=e[mn]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function La(e){return e[Is]||null}var Bl=[],Ur=-1;function Vn(e){return{current:e}}function Ue(e){0>Ur||(e.current=Bl[Ur],Bl[Ur]=null,Ur--)}function ze(e,t){Ur++,Bl[Ur]=e.current,e.current=t}var Un={},xt=Vn(Un),kt=Vn(!1),vr=Un;function Hr(e,t){var a=e.type.contextTypes;if(!a)return Un;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===t)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in a)d[p]=t[p];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Et(e){return e=e.childContextTypes,e!=null}function $a(){Ue(kt),Ue(xt)}function Xu(e,t,a){if(xt.current!==Un)throw Error(i(168));ze(xt,t),ze(kt,a)}function Zu(e,t,a){var c=e.stateNode;if(t=t.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in t))throw Error(i(108,J(e)||"Unknown",d));return Y({},a,c)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Un,vr=xt.current,ze(xt,e),ze(kt,kt.current),!0}function Ju(e,t,a){var c=e.stateNode;if(!c)throw Error(i(169));a?(e=Zu(e,t,vr),c.__reactInternalMemoizedMergedChildContext=e,Ue(kt),Ue(xt),ze(xt,e)):Ue(kt),ze(kt,a)}var Nn=null,za=!1,zl=!1;function ed(e){Nn===null?Nn=[e]:Nn.push(e)}function Wg(e){za=!0,ed(e)}function Hn(){if(!zl&&Nn!==null){zl=!0;var e=0,t=Be;try{var a=Nn;for(Be=1;e<a.length;e++){var c=a[e];do c=c(!0);while(c!==null)}Nn=null,za=!1}catch(d){throw Nn!==null&&(Nn=Nn.slice(e+1)),nu(cl,Hn),d}finally{Be=t,zl=!1}}return null}var Wr=[],Gr=0,Va=null,Ua=0,Vt=[],Ut=0,yr=null,Sn=1,Cn="";function br(e,t){Wr[Gr++]=Ua,Wr[Gr++]=Va,Va=e,Ua=t}function td(e,t,a){Vt[Ut++]=Sn,Vt[Ut++]=Cn,Vt[Ut++]=yr,yr=e;var c=Sn;e=Cn;var d=32-Yt(c)-1;c&=~(1<<d),a+=1;var p=32-Yt(t)+d;if(30<p){var w=d-d%5;p=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Sn=1<<32-Yt(t)+d|a<<d|c,Cn=p+e}else Sn=1<<p|a<<d|c,Cn=e}function Vl(e){e.return!==null&&(br(e,1),td(e,1,0))}function Ul(e){for(;e===Va;)Va=Wr[--Gr],Wr[Gr]=null,Ua=Wr[--Gr],Wr[Gr]=null;for(;e===yr;)yr=Vt[--Ut],Vt[Ut]=null,Cn=Vt[--Ut],Vt[Ut]=null,Sn=Vt[--Ut],Vt[Ut]=null}var Ft=null,Lt=null,We=!1,Xt=null;function nd(e,t){var a=qt(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,t=e.deletions,t===null?(e.deletions=[a],e.flags|=16):t.push(a)}function rd(e,t){switch(e.tag){case 5:var a=e.type;return t=t.nodeType!==1||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ft=e,Lt=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ft=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(a=yr!==null?{id:Sn,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},a=qt(18,null,null,0),a.stateNode=t,a.return=e,e.child=a,Ft=e,Lt=null,!0):!1;default:return!1}}function Hl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wl(e){if(We){var t=Lt;if(t){var a=t;if(!rd(e,t)){if(Hl(e))throw Error(i(418));t=zn(a.nextSibling);var c=Ft;t&&rd(e,t)?nd(c,a):(e.flags=e.flags&-4097|2,We=!1,Ft=e)}}else{if(Hl(e))throw Error(i(418));e.flags=e.flags&-4097|2,We=!1,Ft=e}}}function sd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ft=e}function Ha(e){if(e!==Ft)return!1;if(!We)return sd(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Il(e.type,e.memoizedProps)),t&&(t=Lt)){if(Hl(e))throw ad(),Error(i(418));for(;t;)nd(e,t),t=zn(t.nextSibling)}if(sd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(t===0){Lt=zn(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=Ft?zn(e.stateNode.nextSibling):null;return!0}function ad(){for(var e=Lt;e;)e=zn(e.nextSibling)}function qr(){Lt=Ft=null,We=!1}function Gl(e){Xt===null?Xt=[e]:Xt.push(e)}var Gg=F.ReactCurrentBatchConfig;function Ls(e,t,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(i(309));var c=a.stateNode}if(!c)throw Error(i(147,e));var d=c,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(w){var R=d.refs;w===null?delete R[p]:R[p]=w},t._stringRef=p,t)}if(typeof e!="string")throw Error(i(284));if(!a._owner)throw Error(i(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function id(e){var t=e._init;return t(e._payload)}function ld(e){function t(V,L){if(e){var H=V.deletions;H===null?(V.deletions=[L],V.flags|=16):H.push(L)}}function a(V,L){if(!e)return null;for(;L!==null;)t(V,L),L=L.sibling;return null}function c(V,L){for(V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function d(V,L){return V=Zn(V,L),V.index=0,V.sibling=null,V}function p(V,L,H){return V.index=H,e?(H=V.alternate,H!==null?(H=H.index,H<L?(V.flags|=2,L):H):(V.flags|=2,L)):(V.flags|=1048576,L)}function w(V){return e&&V.alternate===null&&(V.flags|=2),V}function R(V,L,H,ae){return L===null||L.tag!==6?(L=Lo(H,V.mode,ae),L.return=V,L):(L=d(L,H),L.return=V,L)}function M(V,L,H,ae){var ye=H.type;return ye===W?ee(V,L,H.props.children,ae,H.key):L!==null&&(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===U&&id(ye)===L.type)?(ae=d(L,H.props),ae.ref=Ls(V,L,H),ae.return=V,ae):(ae=hi(H.type,H.key,H.props,null,V.mode,ae),ae.ref=Ls(V,L,H),ae.return=V,ae)}function G(V,L,H,ae){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=$o(H,V.mode,ae),L.return=V,L):(L=d(L,H.children||[]),L.return=V,L)}function ee(V,L,H,ae,ye){return L===null||L.tag!==7?(L=Er(H,V.mode,ae,ye),L.return=V,L):(L=d(L,H),L.return=V,L)}function ne(V,L,H){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Lo(""+L,V.mode,H),L.return=V,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case E:return H=hi(L.type,L.key,L.props,null,V.mode,H),H.ref=Ls(V,null,L),H.return=V,H;case D:return L=$o(L,V.mode,H),L.return=V,L;case U:var ae=L._init;return ne(V,ae(L._payload),H)}if(it(L)||B(L))return L=Er(L,V.mode,H,null),L.return=V,L;Wa(V,L)}return null}function Z(V,L,H,ae){var ye=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ye!==null?null:R(V,L,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return H.key===ye?M(V,L,H,ae):null;case D:return H.key===ye?G(V,L,H,ae):null;case U:return ye=H._init,Z(V,L,ye(H._payload),ae)}if(it(H)||B(H))return ye!==null?null:ee(V,L,H,ae,null);Wa(V,H)}return null}function pe(V,L,H,ae,ye){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return V=V.get(H)||null,R(L,V,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return V=V.get(ae.key===null?H:ae.key)||null,M(L,V,ae,ye);case D:return V=V.get(ae.key===null?H:ae.key)||null,G(L,V,ae,ye);case U:var je=ae._init;return pe(V,L,H,je(ae._payload),ye)}if(it(ae)||B(ae))return V=V.get(H)||null,ee(L,V,ae,ye,null);Wa(L,ae)}return null}function xe(V,L,H,ae){for(var ye=null,je=null,we=L,_e=L=0,mt=null;we!==null&&_e<H.length;_e++){we.index>_e?(mt=we,we=null):mt=we.sibling;var Ie=Z(V,we,H[_e],ae);if(Ie===null){we===null&&(we=mt);break}e&&we&&Ie.alternate===null&&t(V,we),L=p(Ie,L,_e),je===null?ye=Ie:je.sibling=Ie,je=Ie,we=mt}if(_e===H.length)return a(V,we),We&&br(V,_e),ye;if(we===null){for(;_e<H.length;_e++)we=ne(V,H[_e],ae),we!==null&&(L=p(we,L,_e),je===null?ye=we:je.sibling=we,je=we);return We&&br(V,_e),ye}for(we=c(V,we);_e<H.length;_e++)mt=pe(we,V,_e,H[_e],ae),mt!==null&&(e&&mt.alternate!==null&&we.delete(mt.key===null?_e:mt.key),L=p(mt,L,_e),je===null?ye=mt:je.sibling=mt,je=mt);return e&&we.forEach(function(Jn){return t(V,Jn)}),We&&br(V,_e),ye}function ve(V,L,H,ae){var ye=B(H);if(typeof ye!="function")throw Error(i(150));if(H=ye.call(H),H==null)throw Error(i(151));for(var je=ye=null,we=L,_e=L=0,mt=null,Ie=H.next();we!==null&&!Ie.done;_e++,Ie=H.next()){we.index>_e?(mt=we,we=null):mt=we.sibling;var Jn=Z(V,we,Ie.value,ae);if(Jn===null){we===null&&(we=mt);break}e&&we&&Jn.alternate===null&&t(V,we),L=p(Jn,L,_e),je===null?ye=Jn:je.sibling=Jn,je=Jn,we=mt}if(Ie.done)return a(V,we),We&&br(V,_e),ye;if(we===null){for(;!Ie.done;_e++,Ie=H.next())Ie=ne(V,Ie.value,ae),Ie!==null&&(L=p(Ie,L,_e),je===null?ye=Ie:je.sibling=Ie,je=Ie);return We&&br(V,_e),ye}for(we=c(V,we);!Ie.done;_e++,Ie=H.next())Ie=pe(we,V,_e,Ie.value,ae),Ie!==null&&(e&&Ie.alternate!==null&&we.delete(Ie.key===null?_e:Ie.key),L=p(Ie,L,_e),je===null?ye=Ie:je.sibling=Ie,je=Ie);return e&&we.forEach(function(Cx){return t(V,Cx)}),We&&br(V,_e),ye}function Je(V,L,H,ae){if(typeof H=="object"&&H!==null&&H.type===W&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case E:e:{for(var ye=H.key,je=L;je!==null;){if(je.key===ye){if(ye=H.type,ye===W){if(je.tag===7){a(V,je.sibling),L=d(je,H.props.children),L.return=V,V=L;break e}}else if(je.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===U&&id(ye)===je.type){a(V,je.sibling),L=d(je,H.props),L.ref=Ls(V,je,H),L.return=V,V=L;break e}a(V,je);break}else t(V,je);je=je.sibling}H.type===W?(L=Er(H.props.children,V.mode,ae,H.key),L.return=V,V=L):(ae=hi(H.type,H.key,H.props,null,V.mode,ae),ae.ref=Ls(V,L,H),ae.return=V,V=ae)}return w(V);case D:e:{for(je=H.key;L!==null;){if(L.key===je)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(V,L.sibling),L=d(L,H.children||[]),L.return=V,V=L;break e}else{a(V,L);break}else t(V,L);L=L.sibling}L=$o(H,V.mode,ae),L.return=V,V=L}return w(V);case U:return je=H._init,Je(V,L,je(H._payload),ae)}if(it(H))return xe(V,L,H,ae);if(B(H))return ve(V,L,H,ae);Wa(V,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,L!==null&&L.tag===6?(a(V,L.sibling),L=d(L,H),L.return=V,V=L):(a(V,L),L=Lo(H,V.mode,ae),L.return=V,V=L),w(V)):a(V,L)}return Je}var Kr=ld(!0),od=ld(!1),Ga=Vn(null),qa=null,Yr=null,ql=null;function Kl(){ql=Yr=qa=null}function Yl(e){var t=Ga.current;Ue(Ga),e._currentValue=t}function Ql(e,t,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,c!==null&&(c.childLanes|=t)):c!==null&&(c.childLanes&t)!==t&&(c.childLanes|=t),e===a)break;e=e.return}}function Qr(e,t){qa=e,ql=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Rt=!0),e.firstContext=null)}function Ht(e){var t=e._currentValue;if(ql!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(qa===null)throw Error(i(308));Yr=e,qa.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var jr=null;function Xl(e){jr===null?jr=[e]:jr.push(e)}function cd(e,t,a,c){var d=t.interleaved;return d===null?(a.next=a,Xl(t)):(a.next=d.next,d.next=a),t.interleaved=a,_n(e,c)}function _n(e,t){e.lanes|=t;var a=e.alternate;for(a!==null&&(a.lanes|=t),a=e,e=e.return;e!==null;)e.childLanes|=t,a=e.alternate,a!==null&&(a.childLanes|=t),a=e,e=e.return;return a.tag===3?a.stateNode:null}var Wn=!1;function Zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ud(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(De&2)!==0){var d=c.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),c.pending=t,_n(e,a)}return d=c.interleaved,d===null?(t.next=t,Xl(c)):(t.next=d.next,d.next=t),c.interleaved=t,_n(e,a)}function Ka(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194240)!==0)){var c=t.lanes;c&=e.pendingLanes,a|=c,t.lanes=a,ml(e,a)}}function dd(e,t){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?d=p=w:p=p.next=w,a=a.next}while(a!==null);p===null?d=p=t:p=p.next=t}else d=p=t;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Ya(e,t,a,c){var d=e.updateQueue;Wn=!1;var p=d.firstBaseUpdate,w=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var M=R,G=M.next;M.next=null,w===null?p=G:w.next=G,w=M;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==w&&(R===null?ee.firstBaseUpdate=G:R.next=G,ee.lastBaseUpdate=M))}if(p!==null){var ne=d.baseState;w=0,ee=G=M=null,R=p;do{var Z=R.lane,pe=R.eventTime;if((c&Z)===Z){ee!==null&&(ee=ee.next={eventTime:pe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var xe=e,ve=R;switch(Z=t,pe=a,ve.tag){case 1:if(xe=ve.payload,typeof xe=="function"){ne=xe.call(pe,ne,Z);break e}ne=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=ve.payload,Z=typeof xe=="function"?xe.call(pe,ne,Z):xe,Z==null)break e;ne=Y({},ne,Z);break e;case 2:Wn=!0}}R.callback!==null&&R.lane!==0&&(e.flags|=64,Z=d.effects,Z===null?d.effects=[R]:Z.push(R))}else pe={eventTime:pe,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(G=ee=pe,M=ne):ee=ee.next=pe,w|=Z;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);if(ee===null&&(M=ne),d.baseState=M,d.firstBaseUpdate=G,d.lastBaseUpdate=ee,t=d.shared.interleaved,t!==null){d=t;do w|=d.lane,d=d.next;while(d!==t)}else p===null&&(d.shared.lanes=0);Sr|=w,e.lanes=w,e.memoizedState=ne}}function md(e,t,a){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var c=e[t],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(i(191,d));d.call(c)}}}var $s={},fn=Vn($s),Bs=Vn($s),zs=Vn($s);function wr(e){if(e===$s)throw Error(i(174));return e}function Jl(e,t){switch(ze(zs,t),ze(Bs,e),ze(fn,$s),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mn(t,e)}Ue(fn),ze(fn,t)}function Xr(){Ue(fn),Ue(Bs),Ue(zs)}function fd(e){wr(zs.current);var t=wr(fn.current),a=Mn(t,e.type);t!==a&&(ze(Bs,e),ze(fn,a))}function eo(e){Bs.current===e&&(Ue(fn),Ue(Bs))}var qe=Vn(0);function Qa(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var Xa=F.ReactCurrentDispatcher,ro=F.ReactCurrentBatchConfig,Nr=0,Ke=null,ot=null,ut=null,Za=!1,Vs=!1,Us=0,qg=0;function vt(){throw Error(i(321))}function so(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Qt(e[a],t[a]))return!1;return!0}function ao(e,t,a,c,d,p){if(Nr=p,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=e===null||e.memoizedState===null?Xg:Zg,e=a(c,d),Vs){p=0;do{if(Vs=!1,Us=0,25<=p)throw Error(i(301));p+=1,ut=ot=null,t.updateQueue=null,Xa.current=Jg,e=a(c,d)}while(Vs)}if(Xa.current=ti,t=ot!==null&&ot.next!==null,Nr=0,ut=ot=Ke=null,Za=!1,t)throw Error(i(300));return e}function io(){var e=Us!==0;return Us=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ke.memoizedState=ut=e:ut=ut.next=e,ut}function Wt(){if(ot===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=ut===null?Ke.memoizedState:ut.next;if(t!==null)ut=t,ot=e;else{if(e===null)throw Error(i(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ut===null?Ke.memoizedState=ut=e:ut=ut.next=e}return ut}function Hs(e,t){return typeof t=="function"?t(e):t}function lo(e){var t=Wt(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var c=ot,d=c.baseQueue,p=a.pending;if(p!==null){if(d!==null){var w=d.next;d.next=p.next,p.next=w}c.baseQueue=d=p,a.pending=null}if(d!==null){p=d.next,c=c.baseState;var R=w=null,M=null,G=p;do{var ee=G.lane;if((Nr&ee)===ee)M!==null&&(M=M.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),c=G.hasEagerState?G.eagerState:e(c,G.action);else{var ne={lane:ee,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};M===null?(R=M=ne,w=c):M=M.next=ne,Ke.lanes|=ee,Sr|=ee}G=G.next}while(G!==null&&G!==p);M===null?w=c:M.next=R,Qt(c,t.memoizedState)||(Rt=!0),t.memoizedState=c,t.baseState=w,t.baseQueue=M,a.lastRenderedState=c}if(e=a.interleaved,e!==null){d=e;do p=d.lane,Ke.lanes|=p,Sr|=p,d=d.next;while(d!==e)}else d===null&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function oo(e){var t=Wt(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var c=a.dispatch,d=a.pending,p=t.memoizedState;if(d!==null){a.pending=null;var w=d=d.next;do p=e(p,w.action),w=w.next;while(w!==d);Qt(p,t.memoizedState)||(Rt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),a.lastRenderedState=p}return[p,c]}function pd(){}function hd(e,t){var a=Ke,c=Wt(),d=t(),p=!Qt(c.memoizedState,d);if(p&&(c.memoizedState=d,Rt=!0),c=c.queue,co(vd.bind(null,a,c,e),[e]),c.getSnapshot!==t||p||ut!==null&&ut.memoizedState.tag&1){if(a.flags|=2048,Ws(9,xd.bind(null,a,c,d,t),void 0,null),dt===null)throw Error(i(349));(Nr&30)!==0||gd(a,t,d)}return d}function gd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function xd(e,t,a,c){t.value=a,t.getSnapshot=c,yd(t)&&bd(e)}function vd(e,t,a){return a(function(){yd(t)&&bd(e)})}function yd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Qt(e,a)}catch{return!0}}function bd(e){var t=_n(e,1);t!==null&&tn(t,e,1,-1)}function jd(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:e},t.queue=e,e=e.dispatch=Qg.bind(null,Ke,e),[t.memoizedState,e]}function Ws(e,t,a,c){return e={tag:e,create:t,destroy:a,deps:c,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(a=t.lastEffect,a===null?t.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,t.lastEffect=e)),e}function wd(){return Wt().memoizedState}function Ja(e,t,a,c){var d=pn();Ke.flags|=e,d.memoizedState=Ws(1|t,a,void 0,c===void 0?null:c)}function ei(e,t,a,c){var d=Wt();c=c===void 0?null:c;var p=void 0;if(ot!==null){var w=ot.memoizedState;if(p=w.destroy,c!==null&&so(c,w.deps)){d.memoizedState=Ws(t,a,p,c);return}}Ke.flags|=e,d.memoizedState=Ws(1|t,a,p,c)}function Nd(e,t){return Ja(8390656,8,e,t)}function co(e,t){return ei(2048,8,e,t)}function Sd(e,t){return ei(4,2,e,t)}function Cd(e,t){return ei(4,4,e,t)}function _d(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kd(e,t,a){return a=a!=null?a.concat([e]):null,ei(4,4,_d.bind(null,t,e),a)}function uo(){}function Ed(e,t){var a=Wt();t=t===void 0?null:t;var c=a.memoizedState;return c!==null&&t!==null&&so(t,c[1])?c[0]:(a.memoizedState=[e,t],e)}function Rd(e,t){var a=Wt();t=t===void 0?null:t;var c=a.memoizedState;return c!==null&&t!==null&&so(t,c[1])?c[0]:(e=e(),a.memoizedState=[e,t],e)}function Pd(e,t,a){return(Nr&21)===0?(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=a):(Qt(a,t)||(a=iu(),Ke.lanes|=a,Sr|=a,e.baseState=!0),t)}function Kg(e,t){var a=Be;Be=a!==0&&4>a?a:4,e(!0);var c=ro.transition;ro.transition={};try{e(!1),t()}finally{Be=a,ro.transition=c}}function Od(){return Wt().memoizedState}function Yg(e,t,a){var c=Qn(e);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Td(e))Ad(t,a);else if(a=cd(e,t,a,c),a!==null){var d=St();tn(a,e,c,d),Md(a,t,c)}}function Qg(e,t,a){var c=Qn(e),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Td(e))Ad(t,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var w=t.lastRenderedState,R=p(w,a);if(d.hasEagerState=!0,d.eagerState=R,Qt(R,w)){var M=t.interleaved;M===null?(d.next=d,Xl(t)):(d.next=M.next,M.next=d),t.interleaved=d;return}}catch{}finally{}a=cd(e,t,d,c),a!==null&&(d=St(),tn(a,e,c,d),Md(a,t,c))}}function Td(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function Ad(e,t){Vs=Za=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Md(e,t,a){if((a&4194240)!==0){var c=t.lanes;c&=e.pendingLanes,a|=c,t.lanes=a,ml(e,a)}}var ti={readContext:Ht,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Xg={readContext:Ht,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:Nd,useImperativeHandle:function(e,t,a){return a=a!=null?a.concat([e]):null,Ja(4194308,4,_d.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ja(4,2,e,t)},useMemo:function(e,t){var a=pn();return t=t===void 0?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var c=pn();return t=a!==void 0?a(t):t,c.memoizedState=c.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},c.queue=e,e=e.dispatch=Yg.bind(null,Ke,e),[c.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:jd,useDebugValue:uo,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=jd(!1),t=e[0];return e=Kg.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var c=Ke,d=pn();if(We){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),dt===null)throw Error(i(349));(Nr&30)!==0||gd(c,t,a)}d.memoizedState=a;var p={value:a,getSnapshot:t};return d.queue=p,Nd(vd.bind(null,c,p,e),[e]),c.flags|=2048,Ws(9,xd.bind(null,c,p,a,t),void 0,null),a},useId:function(){var e=pn(),t=dt.identifierPrefix;if(We){var a=Cn,c=Sn;a=(c&~(1<<32-Yt(c)-1)).toString(32)+a,t=":"+t+"R"+a,a=Us++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=qg++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zg={readContext:Ht,useCallback:Ed,useContext:Ht,useEffect:co,useImperativeHandle:kd,useInsertionEffect:Sd,useLayoutEffect:Cd,useMemo:Rd,useReducer:lo,useRef:wd,useState:function(){return lo(Hs)},useDebugValue:uo,useDeferredValue:function(e){var t=Wt();return Pd(t,ot.memoizedState,e)},useTransition:function(){var e=lo(Hs)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:hd,useId:Od,unstable_isNewReconciler:!1},Jg={readContext:Ht,useCallback:Ed,useContext:Ht,useEffect:co,useImperativeHandle:kd,useInsertionEffect:Sd,useLayoutEffect:Cd,useMemo:Rd,useReducer:oo,useRef:wd,useState:function(){return oo(Hs)},useDebugValue:uo,useDeferredValue:function(e){var t=Wt();return ot===null?t.memoizedState=e:Pd(t,ot.memoizedState,e)},useTransition:function(){var e=oo(Hs)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:hd,useId:Od,unstable_isNewReconciler:!1};function Zt(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var a in e)t[a]===void 0&&(t[a]=e[a]);return t}return t}function mo(e,t,a,c){t=e.memoizedState,a=a(c,t),a=a==null?t:Y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ni={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var c=St(),d=Qn(e),p=kn(c,d);p.payload=t,a!=null&&(p.callback=a),t=Gn(e,p,d),t!==null&&(tn(t,e,d,c),Ka(t,e,d))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var c=St(),d=Qn(e),p=kn(c,d);p.tag=1,p.payload=t,a!=null&&(p.callback=a),t=Gn(e,p,d),t!==null&&(tn(t,e,d,c),Ka(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=St(),c=Qn(e),d=kn(a,c);d.tag=2,t!=null&&(d.callback=t),t=Gn(e,d,c),t!==null&&(tn(t,e,c,a),Ka(t,e,c))}};function Dd(e,t,a,c,d,p,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,p,w):t.prototype&&t.prototype.isPureReactComponent?!Os(a,c)||!Os(d,p):!0}function Id(e,t,a){var c=!1,d=Un,p=t.contextType;return typeof p=="object"&&p!==null?p=Ht(p):(d=Et(t)?vr:xt.current,c=t.contextTypes,p=(c=c!=null)?Hr(e,d):Un),t=new t(a,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=p),t}function Fd(e,t,a,c){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,c),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,c),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function fo(e,t,a,c){var d=e.stateNode;d.props=a,d.state=e.memoizedState,d.refs={},Zl(e);var p=t.contextType;typeof p=="object"&&p!==null?d.context=Ht(p):(p=Et(t)?vr:xt.current,d.context=Hr(e,p)),d.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(mo(e,t,p,a),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&ni.enqueueReplaceState(d,d.state,null),Ya(e,a,d,c),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,t){try{var a="",c=t;do a+=de(c),c=c.return;while(c);var d=a}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:d,digest:null}}function po(e,t,a){return{value:e,source:null,stack:a??null,digest:t??null}}function ho(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var ex=typeof WeakMap=="function"?WeakMap:Map;function Ld(e,t,a){a=kn(-1,a),a.tag=3,a.payload={element:null};var c=t.value;return a.callback=function(){ci||(ci=!0,Po=c),ho(e,t)},a}function $d(e,t,a){a=kn(-1,a),a.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var d=t.value;a.payload=function(){return c(d)},a.callback=function(){ho(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){ho(e,t),typeof c!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var w=t.stack;this.componentDidCatch(t.value,{componentStack:w!==null?w:""})}),a}function Bd(e,t,a){var c=e.pingCache;if(c===null){c=e.pingCache=new ex;var d=new Set;c.set(t,d)}else d=c.get(t),d===void 0&&(d=new Set,c.set(t,d));d.has(a)||(d.add(a),e=px.bind(null,e,t,a),t.then(e,e))}function zd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vd(e,t,a,c,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(t=kn(-1,1),t.tag=2,Gn(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var tx=F.ReactCurrentOwner,Rt=!1;function Nt(e,t,a,c){t.child=e===null?od(t,null,a,c):Kr(t,e.child,a,c)}function Ud(e,t,a,c,d){a=a.render;var p=t.ref;return Qr(t,d),c=ao(e,t,a,c,p,d),a=io(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,En(e,t,d)):(We&&a&&Vl(t),t.flags|=1,Nt(e,t,c,d),t.child)}function Hd(e,t,a,c,d){if(e===null){var p=a.type;return typeof p=="function"&&!Fo(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(t.tag=15,t.type=p,Wd(e,t,p,c,d)):(e=hi(a.type,null,c,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,(e.lanes&d)===0){var w=p.memoizedProps;if(a=a.compare,a=a!==null?a:Os,a(w,c)&&e.ref===t.ref)return En(e,t,d)}return t.flags|=1,e=Zn(p,c),e.ref=t.ref,e.return=t,t.child=e}function Wd(e,t,a,c,d){if(e!==null){var p=e.memoizedProps;if(Os(p,c)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=c=p,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Rt=!0);else return t.lanes=e.lanes,En(e,t,d)}return go(e,t,a,c,d)}function Gd(e,t,a){var c=t.pendingProps,d=c.children,p=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(es,$t),$t|=a;else{if((a&1073741824)===0)return e=p!==null?p.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(es,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,ze(es,$t),$t|=c}else p!==null?(c=p.baseLanes|a,t.memoizedState=null):c=a,ze(es,$t),$t|=c;return Nt(e,t,d,a),t.child}function qd(e,t){var a=t.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function go(e,t,a,c,d){var p=Et(a)?vr:xt.current;return p=Hr(t,p),Qr(t,d),a=ao(e,t,a,c,p,d),c=io(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,En(e,t,d)):(We&&c&&Vl(t),t.flags|=1,Nt(e,t,a,d),t.child)}function Kd(e,t,a,c,d){if(Et(a)){var p=!0;Ba(t)}else p=!1;if(Qr(t,d),t.stateNode===null)si(e,t),Id(t,a,c),fo(t,a,c,d),c=!0;else if(e===null){var w=t.stateNode,R=t.memoizedProps;w.props=R;var M=w.context,G=a.contextType;typeof G=="object"&&G!==null?G=Ht(G):(G=Et(a)?vr:xt.current,G=Hr(t,G));var ee=a.getDerivedStateFromProps,ne=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==c||M!==G)&&Fd(t,w,c,G),Wn=!1;var Z=t.memoizedState;w.state=Z,Ya(t,c,w,d),M=t.memoizedState,R!==c||Z!==M||kt.current||Wn?(typeof ee=="function"&&(mo(t,a,ee,c),M=t.memoizedState),(R=Wn||Dd(t,a,R,c,Z,M,G))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(t.flags|=4194308)):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=c,t.memoizedState=M),w.props=c,w.state=M,w.context=G,c=R):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),c=!1)}else{w=t.stateNode,ud(e,t),R=t.memoizedProps,G=t.type===t.elementType?R:Zt(t.type,R),w.props=G,ne=t.pendingProps,Z=w.context,M=a.contextType,typeof M=="object"&&M!==null?M=Ht(M):(M=Et(a)?vr:xt.current,M=Hr(t,M));var pe=a.getDerivedStateFromProps;(ee=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==ne||Z!==M)&&Fd(t,w,c,M),Wn=!1,Z=t.memoizedState,w.state=Z,Ya(t,c,w,d);var xe=t.memoizedState;R!==ne||Z!==xe||kt.current||Wn?(typeof pe=="function"&&(mo(t,a,pe,c),xe=t.memoizedState),(G=Wn||Dd(t,a,G,c,Z,xe,M)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,xe,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,xe,M)),typeof w.componentDidUpdate=="function"&&(t.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),t.memoizedProps=c,t.memoizedState=xe),w.props=c,w.state=xe,w.context=M,c=G):(typeof w.componentDidUpdate!="function"||R===e.memoizedProps&&Z===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&Z===e.memoizedState||(t.flags|=1024),c=!1)}return xo(e,t,a,c,p,d)}function xo(e,t,a,c,d,p){qd(e,t);var w=(t.flags&128)!==0;if(!c&&!w)return d&&Ju(t,a,!1),En(e,t,p);c=t.stateNode,tx.current=t;var R=w&&typeof a.getDerivedStateFromError!="function"?null:c.render();return t.flags|=1,e!==null&&w?(t.child=Kr(t,e.child,null,p),t.child=Kr(t,null,R,p)):Nt(e,t,R,p),t.memoizedState=c.state,d&&Ju(t,a,!0),t.child}function Yd(e){var t=e.stateNode;t.pendingContext?Xu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xu(e,t.context,!1),Jl(e,t.containerInfo)}function Qd(e,t,a,c,d){return qr(),Gl(d),t.flags|=256,Nt(e,t,a,c),t.child}var vo={dehydrated:null,treeContext:null,retryLane:0};function yo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xd(e,t,a){var c=t.pendingProps,d=qe.current,p=!1,w=(t.flags&128)!==0,R;if((R=w)||(R=e!==null&&e.memoizedState===null?!1:(d&2)!==0),R?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),ze(qe,d&1),e===null)return Wl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(w=c.children,e=c.fallback,p?(c=t.mode,p=t.child,w={mode:"hidden",children:w},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=gi(w,c,0,null),e=Er(e,c,a,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=yo(a),t.memoizedState=vo,e):bo(t,w));if(d=e.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return nx(e,t,w,c,R,d,a);if(p){p=c.fallback,w=t.mode,d=e.child,R=d.sibling;var M={mode:"hidden",children:c.children};return(w&1)===0&&t.child!==d?(c=t.child,c.childLanes=0,c.pendingProps=M,t.deletions=null):(c=Zn(d,M),c.subtreeFlags=d.subtreeFlags&14680064),R!==null?p=Zn(R,p):(p=Er(p,w,a,null),p.flags|=2),p.return=t,c.return=t,c.sibling=p,t.child=c,c=p,p=t.child,w=e.child.memoizedState,w=w===null?yo(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=e.childLanes&~a,t.memoizedState=vo,c}return p=e.child,e=p.sibling,c=Zn(p,{mode:"visible",children:c.children}),(t.mode&1)===0&&(c.lanes=a),c.return=t,c.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=c,t.memoizedState=null,c}function bo(e,t){return t=gi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ri(e,t,a,c){return c!==null&&Gl(c),Kr(t,e.child,null,a),e=bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nx(e,t,a,c,d,p,w){if(a)return t.flags&256?(t.flags&=-257,c=po(Error(i(422))),ri(e,t,w,c)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=c.fallback,d=t.mode,c=gi({mode:"visible",children:c.children},d,0,null),p=Er(p,d,w,null),p.flags|=2,c.return=t,p.return=t,c.sibling=p,t.child=c,(t.mode&1)!==0&&Kr(t,e.child,null,w),t.child.memoizedState=yo(w),t.memoizedState=vo,p);if((t.mode&1)===0)return ri(e,t,w,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var R=c.dgst;return c=R,p=Error(i(419)),c=po(p,c,void 0),ri(e,t,w,c)}if(R=(w&e.childLanes)!==0,Rt||R){if(c=dt,c!==null){switch(w&-w){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|w))!==0?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,_n(e,d),tn(c,e,d,-1))}return Io(),c=po(Error(i(421))),ri(e,t,w,c)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=hx.bind(null,e),d._reactRetry=t,null):(e=p.treeContext,Lt=zn(d.nextSibling),Ft=t,We=!0,Xt=null,e!==null&&(Vt[Ut++]=Sn,Vt[Ut++]=Cn,Vt[Ut++]=yr,Sn=e.id,Cn=e.overflow,yr=t),t=bo(t,c.children),t.flags|=4096,t)}function Zd(e,t,a){e.lanes|=t;var c=e.alternate;c!==null&&(c.lanes|=t),Ql(e.return,t,a)}function jo(e,t,a,c,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=d)}function Jd(e,t,a){var c=t.pendingProps,d=c.revealOrder,p=c.tail;if(Nt(e,t,c.children,a),c=qe.current,(c&2)!==0)c=c&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,a,t);else if(e.tag===19)Zd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(ze(qe,c),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(a=t.child,d=null;a!==null;)e=a.alternate,e!==null&&Qa(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=t.child,t.child=null):(d=a.sibling,a.sibling=null),jo(t,!1,d,a,p);break;case"backwards":for(a=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Qa(e)===null){t.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}jo(t,!0,a,null,p);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function si(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,(a&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=Zn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Zn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function rx(e,t,a){switch(t.tag){case 3:Yd(t),qr();break;case 5:fd(t);break;case 1:Et(t.type)&&Ba(t);break;case 4:Jl(t,t.stateNode.containerInfo);break;case 10:var c=t.type._context,d=t.memoizedProps.value;ze(Ga,c._currentValue),c._currentValue=d;break;case 13:if(c=t.memoizedState,c!==null)return c.dehydrated!==null?(ze(qe,qe.current&1),t.flags|=128,null):(a&t.child.childLanes)!==0?Xd(e,t,a):(ze(qe,qe.current&1),e=En(e,t,a),e!==null?e.sibling:null);ze(qe,qe.current&1);break;case 19:if(c=(a&t.childLanes)!==0,(e.flags&128)!==0){if(c)return Jd(e,t,a);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ze(qe,qe.current),c)break;return null;case 22:case 23:return t.lanes=0,Gd(e,t,a)}return En(e,t,a)}var em,wo,tm,nm;em=function(e,t){for(var a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},wo=function(){},tm=function(e,t,a,c){var d=e.memoizedProps;if(d!==c){e=t.stateNode,wr(fn.current);var p=null;switch(a){case"input":d=an(e,d),c=an(e,c),p=[];break;case"select":d=Y({},d,{value:void 0}),c=Y({},c,{value:void 0}),p=[];break;case"textarea":d=sr(e,d),c=sr(e,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Fa)}ur(a,c);var w;a=null;for(G in d)if(!c.hasOwnProperty(G)&&d.hasOwnProperty(G)&&d[G]!=null)if(G==="style"){var R=d[G];for(w in R)R.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(l.hasOwnProperty(G)?p||(p=[]):(p=p||[]).push(G,null));for(G in c){var M=c[G];if(R=d?.[G],c.hasOwnProperty(G)&&M!==R&&(M!=null||R!=null))if(G==="style")if(R){for(w in R)!R.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in M)M.hasOwnProperty(w)&&R[w]!==M[w]&&(a||(a={}),a[w]=M[w])}else a||(p||(p=[]),p.push(G,a)),a=M;else G==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,R=R?R.__html:void 0,M!=null&&R!==M&&(p=p||[]).push(G,M)):G==="children"?typeof M!="string"&&typeof M!="number"||(p=p||[]).push(G,""+M):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(l.hasOwnProperty(G)?(M!=null&&G==="onScroll"&&Ve("scroll",e),p||R===M||(p=[])):(p=p||[]).push(G,M))}a&&(p=p||[]).push("style",a);var G=p;(t.updateQueue=G)&&(t.flags|=4)}},nm=function(e,t,a,c){a!==c&&(t.flags|=4)};function Gs(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(t)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=a,t}function sx(e,t,a){var c=t.pendingProps;switch(Ul(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Et(t.type)&&$a(),yt(t),null;case 3:return c=t.stateNode,Xr(),Ue(kt),Ue(xt),no(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Ha(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xt!==null&&(Ao(Xt),Xt=null))),wo(e,t),yt(t),null;case 5:eo(t);var d=wr(zs.current);if(a=t.type,e!==null&&t.stateNode!=null)tm(e,t,a,c,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!c){if(t.stateNode===null)throw Error(i(166));return yt(t),null}if(e=wr(fn.current),Ha(t)){c=t.stateNode,a=t.type;var p=t.memoizedProps;switch(c[mn]=t,c[Is]=p,e=(t.mode&1)!==0,a){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(d=0;d<As.length;d++)Ve(As[d],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":ue(c,p),Ve("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ve("invalid",c);break;case"textarea":ln(c,p),Ve("invalid",c)}ur(a,p),d=null;for(var w in p)if(p.hasOwnProperty(w)){var R=p[w];w==="children"?typeof R=="string"?c.textContent!==R&&(p.suppressHydrationWarning!==!0&&Ia(c.textContent,R,e),d=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(p.suppressHydrationWarning!==!0&&Ia(c.textContent,R,e),d=["children",""+R]):l.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&Ve("scroll",c)}switch(a){case"input":Ct(c),Me(c,p,!0);break;case"textarea":Ct(c),ir(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Fa)}c=d,t.updateQueue=c,c!==null&&(t.flags|=4)}else{w=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lr(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=w.createElement(a,{is:c.is}):(e=w.createElement(a),a==="select"&&(w=e,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):e=w.createElementNS(e,a),e[mn]=t,e[Is]=c,em(e,t,!1,!1),t.stateNode=e;e:{switch(w=dr(a,c),a){case"dialog":Ve("cancel",e),Ve("close",e),d=c;break;case"iframe":case"object":case"embed":Ve("load",e),d=c;break;case"video":case"audio":for(d=0;d<As.length;d++)Ve(As[d],e);d=c;break;case"source":Ve("error",e),d=c;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),d=c;break;case"details":Ve("toggle",e),d=c;break;case"input":ue(e,c),d=an(e,c),Ve("invalid",e);break;case"option":d=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},d=Y({},c,{value:void 0}),Ve("invalid",e);break;case"textarea":ln(e,c),d=sr(e,c),Ve("invalid",e);break;default:d=c}ur(a,d),R=d;for(p in R)if(R.hasOwnProperty(p)){var M=R[p];p==="style"?ha(e,M):p==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&fa(e,M)):p==="children"?typeof M=="string"?(a!=="textarea"||M!=="")&&or(e,M):typeof M=="number"&&or(e,""+M):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(l.hasOwnProperty(p)?M!=null&&p==="onScroll"&&Ve("scroll",e):M!=null&&I(e,p,M,w))}switch(a){case"input":Ct(e),Me(e,c,!1);break;case"textarea":Ct(e),ir(e);break;case"option":c.value!=null&&e.setAttribute("value",""+fe(c.value));break;case"select":e.multiple=!!c.multiple,p=c.value,p!=null?lt(e,!!c.multiple,p,!1):c.defaultValue!=null&&lt(e,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Fa)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)nm(e,t,e.memoizedProps,c);else{if(typeof c!="string"&&t.stateNode===null)throw Error(i(166));if(a=wr(zs.current),wr(fn.current),Ha(t)){if(c=t.stateNode,a=t.memoizedProps,c[mn]=t,(p=c.nodeValue!==a)&&(e=Ft,e!==null))switch(e.tag){case 3:Ia(c.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ia(c.nodeValue,a,(e.mode&1)!==0)}p&&(t.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[mn]=t,t.stateNode=c}return yt(t),null;case 13:if(Ue(qe),c=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Lt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ad(),qr(),t.flags|=98560,p=!1;else if(p=Ha(t),c!==null&&c.dehydrated!==null){if(e===null){if(!p)throw Error(i(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[mn]=t}else qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),p=!1}else Xt!==null&&(Ao(Xt),Xt=null),p=!0;if(!p)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=a,t):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(qe.current&1)!==0?ct===0&&(ct=3):Io())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return Xr(),wo(e,t),e===null&&Ms(t.stateNode.containerInfo),yt(t),null;case 10:return Yl(t.type._context),yt(t),null;case 17:return Et(t.type)&&$a(),yt(t),null;case 19:if(Ue(qe),p=t.memoizedState,p===null)return yt(t),null;if(c=(t.flags&128)!==0,w=p.rendering,w===null)if(c)Gs(p,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(w=Qa(e),w!==null){for(t.flags|=128,Gs(p,!1),c=w.updateQueue,c!==null&&(t.updateQueue=c,t.flags|=4),t.subtreeFlags=0,c=a,a=t.child;a!==null;)p=a,e=c,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,e=w.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return ze(qe,qe.current&1|2),t.child}e=e.sibling}p.tail!==null&&Ze()>ts&&(t.flags|=128,c=!0,Gs(p,!1),t.lanes=4194304)}else{if(!c)if(e=Qa(w),e!==null){if(t.flags|=128,c=!0,a=e.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),Gs(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!We)return yt(t),null}else 2*Ze()-p.renderingStartTime>ts&&a!==1073741824&&(t.flags|=128,c=!0,Gs(p,!1),t.lanes=4194304);p.isBackwards?(w.sibling=t.child,t.child=w):(a=p.last,a!==null?a.sibling=w:t.child=w,p.last=w)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=Ze(),t.sibling=null,a=qe.current,ze(qe,c?a&1|2:a&1),t):(yt(t),null);case 22:case 23:return Do(),c=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(t.flags|=8192),c&&(t.mode&1)!==0?($t&1073741824)!==0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function ax(e,t){switch(Ul(t),t.tag){case 1:return Et(t.type)&&$a(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),Ue(kt),Ue(xt),no(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return eo(t),null;case 13:if(Ue(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(qe),null;case 4:return Xr(),null;case 10:return Yl(t.type._context),null;case 22:case 23:return Do(),null;case 24:return null;default:return null}}var ai=!1,bt=!1,ix=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Jr(e,t){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Ye(e,t,c)}else a.current=null}function No(e,t,a){try{a()}catch(c){Ye(e,t,c)}}var rm=!1;function lx(e,t){if(Ml=Ca,e=Du(),_l(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var w=0,R=-1,M=-1,G=0,ee=0,ne=e,Z=null;t:for(;;){for(var pe;ne!==a||d!==0&&ne.nodeType!==3||(R=w+d),ne!==p||c!==0&&ne.nodeType!==3||(M=w+c),ne.nodeType===3&&(w+=ne.nodeValue.length),(pe=ne.firstChild)!==null;)Z=ne,ne=pe;for(;;){if(ne===e)break t;if(Z===a&&++G===d&&(R=w),Z===p&&++ee===c&&(M=w),(pe=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=pe}a=R===-1||M===-1?null:{start:R,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dl={focusedElem:e,selectionRange:a},Ca=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var xe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var ve=xe.memoizedProps,Je=xe.memoizedState,V=t.stateNode,L=V.getSnapshotBeforeUpdate(t.elementType===t.type?ve:Zt(t.type,ve),Je);V.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var H=t.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(ae){Ye(t,t.return,ae)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return xe=rm,rm=!1,xe}function qs(e,t,a){var c=t.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&e)===e){var p=d.destroy;d.destroy=void 0,p!==void 0&&No(t,a,p)}d=d.next}while(d!==c)}}function ii(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var a=t=t.next;do{if((a.tag&e)===e){var c=a.create;a.destroy=c()}a=a.next}while(a!==t)}}function So(e){var t=e.ref;if(t!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof t=="function"?t(e):t.current=e}}function sm(e){var t=e.alternate;t!==null&&(e.alternate=null,sm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[Is],delete t[$l],delete t[Ug],delete t[Hg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function am(e){return e.tag===5||e.tag===3||e.tag===4}function im(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||am(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Co(e,t,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Fa));else if(c!==4&&(e=e.child,e!==null))for(Co(e,t,a),e=e.sibling;e!==null;)Co(e,t,a),e=e.sibling}function _o(e,t,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(_o(e,t,a),e=e.sibling;e!==null;)_o(e,t,a),e=e.sibling}var pt=null,Jt=!1;function qn(e,t,a){for(a=a.child;a!==null;)lm(e,t,a),a=a.sibling}function lm(e,t,a){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(ya,a)}catch{}switch(a.tag){case 5:bt||Jr(a,t);case 6:var c=pt,d=Jt;pt=null,qn(e,t,a),pt=c,Jt=d,pt!==null&&(Jt?(e=pt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):pt.removeChild(a.stateNode));break;case 18:pt!==null&&(Jt?(e=pt,a=a.stateNode,e.nodeType===8?Ll(e.parentNode,a):e.nodeType===1&&Ll(e,a),Cs(e)):Ll(pt,a.stateNode));break;case 4:c=pt,d=Jt,pt=a.stateNode.containerInfo,Jt=!0,qn(e,t,a),pt=c,Jt=d;break;case 0:case 11:case 14:case 15:if(!bt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&No(a,t,w),d=d.next}while(d!==c)}qn(e,t,a);break;case 1:if(!bt&&(Jr(a,t),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){Ye(a,t,R)}qn(e,t,a);break;case 21:qn(e,t,a);break;case 22:a.mode&1?(bt=(c=bt)||a.memoizedState!==null,qn(e,t,a),bt=c):qn(e,t,a);break;default:qn(e,t,a)}}function om(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new ix),t.forEach(function(c){var d=gx.bind(null,e,c);a.has(c)||(a.add(c),c.then(d,d))})}}function en(e,t){var a=t.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var p=e,w=t,R=w;e:for(;R!==null;){switch(R.tag){case 5:pt=R.stateNode,Jt=!1;break e;case 3:pt=R.stateNode.containerInfo,Jt=!0;break e;case 4:pt=R.stateNode.containerInfo,Jt=!0;break e}R=R.return}if(pt===null)throw Error(i(160));lm(p,w,d),pt=null,Jt=!1;var M=d.alternate;M!==null&&(M.return=null),d.return=null}catch(G){Ye(d,t,G)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cm(t,e),t=t.sibling}function cm(e,t){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),hn(e),c&4){try{qs(3,e,e.return),ii(3,e)}catch(ve){Ye(e,e.return,ve)}try{qs(5,e,e.return)}catch(ve){Ye(e,e.return,ve)}}break;case 1:en(t,e),hn(e),c&512&&a!==null&&Jr(a,a.return);break;case 5:if(en(t,e),hn(e),c&512&&a!==null&&Jr(a,a.return),e.flags&32){var d=e.stateNode;try{or(d,"")}catch(ve){Ye(e,e.return,ve)}}if(c&4&&(d=e.stateNode,d!=null)){var p=e.memoizedProps,w=a!==null?a.memoizedProps:p,R=e.type,M=e.updateQueue;if(e.updateQueue=null,M!==null)try{R==="input"&&p.type==="radio"&&p.name!=null&&Se(d,p),dr(R,w);var G=dr(R,p);for(w=0;w<M.length;w+=2){var ee=M[w],ne=M[w+1];ee==="style"?ha(d,ne):ee==="dangerouslySetInnerHTML"?fa(d,ne):ee==="children"?or(d,ne):I(d,ee,ne,G)}switch(R){case"input":Ae(d,p);break;case"textarea":ar(d,p);break;case"select":var Z=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var pe=p.value;pe!=null?lt(d,!!p.multiple,pe,!1):Z!==!!p.multiple&&(p.defaultValue!=null?lt(d,!!p.multiple,p.defaultValue,!0):lt(d,!!p.multiple,p.multiple?[]:"",!1))}d[Is]=p}catch(ve){Ye(e,e.return,ve)}}break;case 6:if(en(t,e),hn(e),c&4){if(e.stateNode===null)throw Error(i(162));d=e.stateNode,p=e.memoizedProps;try{d.nodeValue=p}catch(ve){Ye(e,e.return,ve)}}break;case 3:if(en(t,e),hn(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Cs(t.containerInfo)}catch(ve){Ye(e,e.return,ve)}break;case 4:en(t,e),hn(e);break;case 13:en(t,e),hn(e),d=e.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Ro=Ze())),c&4&&om(e);break;case 22:if(ee=a!==null&&a.memoizedState!==null,e.mode&1?(bt=(G=bt)||ee,en(t,e),bt=G):en(t,e),hn(e),c&8192){if(G=e.memoizedState!==null,(e.stateNode.isHidden=G)&&!ee&&(e.mode&1)!==0)for(ge=e,ee=e.child;ee!==null;){for(ne=ge=ee;ge!==null;){switch(Z=ge,pe=Z.child,Z.tag){case 0:case 11:case 14:case 15:qs(4,Z,Z.return);break;case 1:Jr(Z,Z.return);var xe=Z.stateNode;if(typeof xe.componentWillUnmount=="function"){c=Z,a=Z.return;try{t=c,xe.props=t.memoizedProps,xe.state=t.memoizedState,xe.componentWillUnmount()}catch(ve){Ye(c,a,ve)}}break;case 5:Jr(Z,Z.return);break;case 22:if(Z.memoizedState!==null){mm(ne);continue}}pe!==null?(pe.return=Z,ge=pe):mm(ne)}ee=ee.sibling}e:for(ee=null,ne=e;;){if(ne.tag===5){if(ee===null){ee=ne;try{d=ne.stateNode,G?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(R=ne.stateNode,M=ne.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,R.style.display=pa("display",w))}catch(ve){Ye(e,e.return,ve)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=G?"":ne.memoizedProps}catch(ve){Ye(e,e.return,ve)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===e)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===e)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===e)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:en(t,e),hn(e),c&4&&om(e);break;case 21:break;default:en(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var a=e.return;a!==null;){if(am(a)){var c=a;break e}a=a.return}throw Error(i(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(or(d,""),c.flags&=-33);var p=im(e);_o(e,p,d);break;case 3:case 4:var w=c.stateNode.containerInfo,R=im(e);Co(e,R,w);break;default:throw Error(i(161))}}catch(M){Ye(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ox(e,t,a){ge=e,um(e)}function um(e,t,a){for(var c=(e.mode&1)!==0;ge!==null;){var d=ge,p=d.child;if(d.tag===22&&c){var w=d.memoizedState!==null||ai;if(!w){var R=d.alternate,M=R!==null&&R.memoizedState!==null||bt;R=ai;var G=bt;if(ai=w,(bt=M)&&!G)for(ge=d;ge!==null;)w=ge,M=w.child,w.tag===22&&w.memoizedState!==null?fm(d):M!==null?(M.return=w,ge=M):fm(d);for(;p!==null;)ge=p,um(p),p=p.sibling;ge=d,ai=R,bt=G}dm(e)}else(d.subtreeFlags&8772)!==0&&p!==null?(p.return=d,ge=p):dm(e)}}function dm(e){for(;ge!==null;){var t=ge;if((t.flags&8772)!==0){var a=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:bt||ii(5,t);break;case 1:var c=t.stateNode;if(t.flags&4&&!bt)if(a===null)c.componentDidMount();else{var d=t.elementType===t.type?a.memoizedProps:Zt(t.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&md(t,p,c);break;case 3:var w=t.updateQueue;if(w!==null){if(a=null,t.child!==null)switch(t.child.tag){case 5:a=t.child.stateNode;break;case 1:a=t.child.stateNode}md(t,w,a)}break;case 5:var R=t.stateNode;if(a===null&&t.flags&4){a=R;var M=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&a.focus();break;case"img":M.src&&(a.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var G=t.alternate;if(G!==null){var ee=G.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Cs(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}bt||t.flags&512&&So(t)}catch(Z){Ye(t,t.return,Z)}}if(t===e){ge=null;break}if(a=t.sibling,a!==null){a.return=t.return,ge=a;break}ge=t.return}}function mm(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ge=a;break}ge=t.return}}function fm(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{ii(4,t)}catch(M){Ye(t,a,M)}break;case 1:var c=t.stateNode;if(typeof c.componentDidMount=="function"){var d=t.return;try{c.componentDidMount()}catch(M){Ye(t,d,M)}}var p=t.return;try{So(t)}catch(M){Ye(t,p,M)}break;case 5:var w=t.return;try{So(t)}catch(M){Ye(t,w,M)}}}catch(M){Ye(t,t.return,M)}if(t===e){ge=null;break}var R=t.sibling;if(R!==null){R.return=t.return,ge=R;break}ge=t.return}}var cx=Math.ceil,li=F.ReactCurrentDispatcher,ko=F.ReactCurrentOwner,Gt=F.ReactCurrentBatchConfig,De=0,dt=null,nt=null,ht=0,$t=0,es=Vn(0),ct=0,Ks=null,Sr=0,oi=0,Eo=0,Ys=null,Pt=null,Ro=0,ts=1/0,Rn=null,ci=!1,Po=null,Kn=null,ui=!1,Yn=null,di=0,Qs=0,Oo=null,mi=-1,fi=0;function St(){return(De&6)!==0?Ze():mi!==-1?mi:mi=Ze()}function Qn(e){return(e.mode&1)===0?1:(De&2)!==0&&ht!==0?ht&-ht:Gg.transition!==null?(fi===0&&(fi=iu()),fi):(e=Be,e!==0||(e=window.event,e=e===void 0?16:hu(e.type)),e)}function tn(e,t,a,c){if(50<Qs)throw Qs=0,Oo=null,Error(i(185));bs(e,a,c),((De&2)===0||e!==dt)&&(e===dt&&((De&2)===0&&(oi|=a),ct===4&&Xn(e,ht)),Ot(e,c),a===1&&De===0&&(t.mode&1)===0&&(ts=Ze()+500,za&&Hn()))}function Ot(e,t){var a=e.callbackNode;Gh(e,t);var c=wa(e,e===dt?ht:0);if(c===0)a!==null&&ru(a),e.callbackNode=null,e.callbackPriority=0;else if(t=c&-c,e.callbackPriority!==t){if(a!=null&&ru(a),t===1)e.tag===0?Wg(hm.bind(null,e)):ed(hm.bind(null,e)),zg(function(){(De&6)===0&&Hn()}),a=null;else{switch(lu(c)){case 1:a=cl;break;case 4:a=su;break;case 16:a=va;break;case 536870912:a=au;break;default:a=va}a=Nm(a,pm.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function pm(e,t){if(mi=-1,fi=0,(De&6)!==0)throw Error(i(327));var a=e.callbackNode;if(ns()&&e.callbackNode!==a)return null;var c=wa(e,e===dt?ht:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||t)t=pi(e,c);else{t=c;var d=De;De|=2;var p=xm();(dt!==e||ht!==t)&&(Rn=null,ts=Ze()+500,_r(e,t));do try{mx();break}catch(R){gm(e,R)}while(!0);Kl(),li.current=p,De=d,nt!==null?t=0:(dt=null,ht=0,t=ct)}if(t!==0){if(t===2&&(d=ul(e),d!==0&&(c=d,t=To(e,d))),t===1)throw a=Ks,_r(e,0),Xn(e,c),Ot(e,Ze()),a;if(t===6)Xn(e,c);else{if(d=e.current.alternate,(c&30)===0&&!ux(d)&&(t=pi(e,c),t===2&&(p=ul(e),p!==0&&(c=p,t=To(e,p))),t===1))throw a=Ks,_r(e,0),Xn(e,c),Ot(e,Ze()),a;switch(e.finishedWork=d,e.finishedLanes=c,t){case 0:case 1:throw Error(i(345));case 2:kr(e,Pt,Rn);break;case 3:if(Xn(e,c),(c&130023424)===c&&(t=Ro+500-Ze(),10<t)){if(wa(e,0)!==0)break;if(d=e.suspendedLanes,(d&c)!==c){St(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Fl(kr.bind(null,e,Pt,Rn),t);break}kr(e,Pt,Rn);break;case 4:if(Xn(e,c),(c&4194240)===c)break;for(t=e.eventTimes,d=-1;0<c;){var w=31-Yt(c);p=1<<w,w=t[w],w>d&&(d=w),c&=~p}if(c=d,c=Ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*cx(c/1960))-c,10<c){e.timeoutHandle=Fl(kr.bind(null,e,Pt,Rn),c);break}kr(e,Pt,Rn);break;case 5:kr(e,Pt,Rn);break;default:throw Error(i(329))}}}return Ot(e,Ze()),e.callbackNode===a?pm.bind(null,e):null}function To(e,t){var a=Ys;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=pi(e,t),e!==2&&(t=Pt,Pt=a,t!==null&&Ao(t)),e}function Ao(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function ux(e){for(var t=e;;){if(t.flags&16384){var a=t.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],p=d.getSnapshot;d=d.value;try{if(!Qt(p(),d))return!1}catch{return!1}}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t){for(t&=~Eo,t&=~oi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-Yt(t),c=1<<a;e[a]=-1,t&=~c}}function hm(e){if((De&6)!==0)throw Error(i(327));ns();var t=wa(e,0);if((t&1)===0)return Ot(e,Ze()),null;var a=pi(e,t);if(e.tag!==0&&a===2){var c=ul(e);c!==0&&(t=c,a=To(e,c))}if(a===1)throw a=Ks,_r(e,0),Xn(e,t),Ot(e,Ze()),a;if(a===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kr(e,Pt,Rn),Ot(e,Ze()),null}function Mo(e,t){var a=De;De|=1;try{return e(t)}finally{De=a,De===0&&(ts=Ze()+500,za&&Hn())}}function Cr(e){Yn!==null&&Yn.tag===0&&(De&6)===0&&ns();var t=De;De|=1;var a=Gt.transition,c=Be;try{if(Gt.transition=null,Be=1,e)return e()}finally{Be=c,Gt.transition=a,De=t,(De&6)===0&&Hn()}}function Do(){$t=es.current,Ue(es)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Bg(a)),nt!==null)for(a=nt.return;a!==null;){var c=a;switch(Ul(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$a();break;case 3:Xr(),Ue(kt),Ue(xt),no();break;case 5:eo(c);break;case 4:Xr();break;case 13:Ue(qe);break;case 19:Ue(qe);break;case 10:Yl(c.type._context);break;case 22:case 23:Do()}a=a.return}if(dt=e,nt=e=Zn(e.current,null),ht=$t=t,ct=0,Ks=null,Eo=oi=Sr=0,Pt=Ys=null,jr!==null){for(t=0;t<jr.length;t++)if(a=jr[t],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,p=a.pending;if(p!==null){var w=p.next;p.next=d,c.next=w}a.pending=c}jr=null}return e}function gm(e,t){do{var a=nt;try{if(Kl(),Xa.current=ti,Za){for(var c=Ke.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Za=!1}if(Nr=0,ut=ot=Ke=null,Vs=!1,Us=0,ko.current=null,a===null||a.return===null){ct=1,Ks=t,nt=null;break}e:{var p=e,w=a.return,R=a,M=t;if(t=ht,R.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=M,ee=R,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var pe=zd(w);if(pe!==null){pe.flags&=-257,Vd(pe,w,R,p,t),pe.mode&1&&Bd(p,G,t),t=pe,M=G;var xe=t.updateQueue;if(xe===null){var ve=new Set;ve.add(M),t.updateQueue=ve}else xe.add(M);break e}else{if((t&1)===0){Bd(p,G,t),Io();break e}M=Error(i(426))}}else if(We&&R.mode&1){var Je=zd(w);if(Je!==null){(Je.flags&65536)===0&&(Je.flags|=256),Vd(Je,w,R,p,t),Gl(Zr(M,R));break e}}p=M=Zr(M,R),ct!==4&&(ct=2),Ys===null?Ys=[p]:Ys.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var V=Ld(p,M,t);dd(p,V);break e;case 1:R=M;var L=p.type,H=p.stateNode;if((p.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Kn===null||!Kn.has(H)))){p.flags|=65536,t&=-t,p.lanes|=t;var ae=$d(p,R,t);dd(p,ae);break e}}p=p.return}while(p!==null)}ym(a)}catch(ye){t=ye,nt===a&&a!==null&&(nt=a=a.return);continue}break}while(!0)}function xm(){var e=li.current;return li.current=ti,e===null?ti:e}function Io(){(ct===0||ct===3||ct===2)&&(ct=4),dt===null||(Sr&268435455)===0&&(oi&268435455)===0||Xn(dt,ht)}function pi(e,t){var a=De;De|=2;var c=xm();(dt!==e||ht!==t)&&(Rn=null,_r(e,t));do try{dx();break}catch(d){gm(e,d)}while(!0);if(Kl(),De=a,li.current=c,nt!==null)throw Error(i(261));return dt=null,ht=0,ct}function dx(){for(;nt!==null;)vm(nt)}function mx(){for(;nt!==null&&!Fh();)vm(nt)}function vm(e){var t=wm(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?ym(e):nt=t,ko.current=null}function ym(e){var t=e;do{var a=t.alternate;if(e=t.return,(t.flags&32768)===0){if(a=sx(a,t,$t),a!==null){nt=a;return}}else{if(a=ax(a,t),a!==null){a.flags&=32767,nt=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,nt=null;return}}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);ct===0&&(ct=5)}function kr(e,t,a){var c=Be,d=Gt.transition;try{Gt.transition=null,Be=1,fx(e,t,a,c)}finally{Gt.transition=d,Be=c}return null}function fx(e,t,a,c){do ns();while(Yn!==null);if((De&6)!==0)throw Error(i(327));a=e.finishedWork;var d=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var p=a.lanes|a.childLanes;if(qh(e,p),e===dt&&(nt=dt=null,ht=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ui||(ui=!0,Nm(va,function(){return ns(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Gt.transition,Gt.transition=null;var w=Be;Be=1;var R=De;De|=4,ko.current=null,lx(e,a),cm(a,e),Ag(Dl),Ca=!!Ml,Dl=Ml=null,e.current=a,ox(a),Lh(),De=R,Be=w,Gt.transition=p}else e.current=a;if(ui&&(ui=!1,Yn=e,di=d),p=e.pendingLanes,p===0&&(Kn=null),zh(a.stateNode),Ot(e,Ze()),t!==null)for(c=e.onRecoverableError,a=0;a<t.length;a++)d=t[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(ci)throw ci=!1,e=Po,Po=null,e;return(di&1)!==0&&e.tag!==0&&ns(),p=e.pendingLanes,(p&1)!==0?e===Oo?Qs++:(Qs=0,Oo=e):Qs=0,Hn(),null}function ns(){if(Yn!==null){var e=lu(di),t=Gt.transition,a=Be;try{if(Gt.transition=null,Be=16>e?16:e,Yn===null)var c=!1;else{if(e=Yn,Yn=null,di=0,(De&6)!==0)throw Error(i(331));var d=De;for(De|=4,ge=e.current;ge!==null;){var p=ge,w=p.child;if((ge.flags&16)!==0){var R=p.deletions;if(R!==null){for(var M=0;M<R.length;M++){var G=R[M];for(ge=G;ge!==null;){var ee=ge;switch(ee.tag){case 0:case 11:case 15:qs(8,ee,p)}var ne=ee.child;if(ne!==null)ne.return=ee,ge=ne;else for(;ge!==null;){ee=ge;var Z=ee.sibling,pe=ee.return;if(sm(ee),ee===G){ge=null;break}if(Z!==null){Z.return=pe,ge=Z;break}ge=pe}}}var xe=p.alternate;if(xe!==null){var ve=xe.child;if(ve!==null){xe.child=null;do{var Je=ve.sibling;ve.sibling=null,ve=Je}while(ve!==null)}}ge=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,ge=w;else e:for(;ge!==null;){if(p=ge,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:qs(9,p,p.return)}var V=p.sibling;if(V!==null){V.return=p.return,ge=V;break e}ge=p.return}}var L=e.current;for(ge=L;ge!==null;){w=ge;var H=w.child;if((w.subtreeFlags&2064)!==0&&H!==null)H.return=w,ge=H;else e:for(w=L;ge!==null;){if(R=ge,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:ii(9,R)}}catch(ye){Ye(R,R.return,ye)}if(R===w){ge=null;break e}var ae=R.sibling;if(ae!==null){ae.return=R.return,ge=ae;break e}ge=R.return}}if(De=d,Hn(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(ya,e)}catch{}c=!0}return c}finally{Be=a,Gt.transition=t}}return!1}function bm(e,t,a){t=Zr(a,t),t=Ld(e,t,1),e=Gn(e,t,1),t=St(),e!==null&&(bs(e,1,t),Ot(e,t))}function Ye(e,t,a){if(e.tag===3)bm(e,e,a);else for(;t!==null;){if(t.tag===3){bm(t,e,a);break}else if(t.tag===1){var c=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Kn===null||!Kn.has(c))){e=Zr(a,e),e=$d(t,e,1),t=Gn(t,e,1),e=St(),t!==null&&(bs(t,1,e),Ot(t,e));break}}t=t.return}}function px(e,t,a){var c=e.pingCache;c!==null&&c.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&a,dt===e&&(ht&a)===a&&(ct===4||ct===3&&(ht&130023424)===ht&&500>Ze()-Ro?_r(e,0):Eo|=a),Ot(e,t)}function jm(e,t){t===0&&((e.mode&1)===0?t=1:(t=ja,ja<<=1,(ja&130023424)===0&&(ja=4194304)));var a=St();e=_n(e,t),e!==null&&(bs(e,t,a),Ot(e,a))}function hx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),jm(e,a)}function gx(e,t){var a=0;switch(e.tag){case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(i(314))}c!==null&&c.delete(t),jm(e,a)}var wm;wm=function(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)Rt=!0;else{if((e.lanes&a)===0&&(t.flags&128)===0)return Rt=!1,rx(e,t,a);Rt=(e.flags&131072)!==0}else Rt=!1,We&&(t.flags&1048576)!==0&&td(t,Ua,t.index);switch(t.lanes=0,t.tag){case 2:var c=t.type;si(e,t),e=t.pendingProps;var d=Hr(t,xt.current);Qr(t,a),d=ao(null,t,c,e,d,a);var p=io();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(c)?(p=!0,Ba(t)):p=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Zl(t),d.updater=ni,t.stateNode=d,d._reactInternals=t,fo(t,c,e,a),t=xo(null,t,c,!0,p,a)):(t.tag=0,We&&p&&Vl(t),Nt(null,t,d,a),t=t.child),t;case 16:c=t.elementType;e:{switch(si(e,t),e=t.pendingProps,d=c._init,c=d(c._payload),t.type=c,d=t.tag=vx(c),e=Zt(c,e),d){case 0:t=go(null,t,c,e,a);break e;case 1:t=Kd(null,t,c,e,a);break e;case 11:t=Ud(null,t,c,e,a);break e;case 14:t=Hd(null,t,c,Zt(c.type,e),a);break e}throw Error(i(306,c,""))}return t;case 0:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:Zt(c,d),go(e,t,c,d,a);case 1:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:Zt(c,d),Kd(e,t,c,d,a);case 3:e:{if(Yd(t),e===null)throw Error(i(387));c=t.pendingProps,p=t.memoizedState,d=p.element,ud(e,t),Ya(t,c,null,a);var w=t.memoizedState;if(c=w.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){d=Zr(Error(i(423)),t),t=Qd(e,t,c,a,d);break e}else if(c!==d){d=Zr(Error(i(424)),t),t=Qd(e,t,c,a,d);break e}else for(Lt=zn(t.stateNode.containerInfo.firstChild),Ft=t,We=!0,Xt=null,a=od(t,null,c,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qr(),c===d){t=En(e,t,a);break e}Nt(e,t,c,a)}t=t.child}return t;case 5:return fd(t),e===null&&Wl(t),c=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,w=d.children,Il(c,d)?w=null:p!==null&&Il(c,p)&&(t.flags|=32),qd(e,t),Nt(e,t,w,a),t.child;case 6:return e===null&&Wl(t),null;case 13:return Xd(e,t,a);case 4:return Jl(t,t.stateNode.containerInfo),c=t.pendingProps,e===null?t.child=Kr(t,null,c,a):Nt(e,t,c,a),t.child;case 11:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:Zt(c,d),Ud(e,t,c,d,a);case 7:return Nt(e,t,t.pendingProps,a),t.child;case 8:return Nt(e,t,t.pendingProps.children,a),t.child;case 12:return Nt(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(c=t.type._context,d=t.pendingProps,p=t.memoizedProps,w=d.value,ze(Ga,c._currentValue),c._currentValue=w,p!==null)if(Qt(p.value,w)){if(p.children===d.children&&!kt.current){t=En(e,t,a);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var R=p.dependencies;if(R!==null){w=p.child;for(var M=R.firstContext;M!==null;){if(M.context===c){if(p.tag===1){M=kn(-1,a&-a),M.tag=2;var G=p.updateQueue;if(G!==null){G=G.shared;var ee=G.pending;ee===null?M.next=M:(M.next=ee.next,ee.next=M),G.pending=M}}p.lanes|=a,M=p.alternate,M!==null&&(M.lanes|=a),Ql(p.return,a,t),R.lanes|=a;break}M=M.next}}else if(p.tag===10)w=p.type===t.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=a,R=w.alternate,R!==null&&(R.lanes|=a),Ql(w,a,t),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===t){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}Nt(e,t,d.children,a),t=t.child}return t;case 9:return d=t.type,c=t.pendingProps.children,Qr(t,a),d=Ht(d),c=c(d),t.flags|=1,Nt(e,t,c,a),t.child;case 14:return c=t.type,d=Zt(c,t.pendingProps),d=Zt(c.type,d),Hd(e,t,c,d,a);case 15:return Wd(e,t,t.type,t.pendingProps,a);case 17:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:Zt(c,d),si(e,t),t.tag=1,Et(c)?(e=!0,Ba(t)):e=!1,Qr(t,a),Id(t,c,d),fo(t,c,d,a),xo(null,t,c,!0,e,a);case 19:return Jd(e,t,a);case 22:return Gd(e,t,a)}throw Error(i(156,t.tag))};function Nm(e,t){return nu(e,t)}function xx(e,t,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,a,c){return new xx(e,t,a,c)}function Fo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vx(e){if(typeof e=="function")return Fo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===z)return 11;if(e===me)return 14}return 2}function Zn(e,t){var a=e.alternate;return a===null?(a=qt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function hi(e,t,a,c,d,p){var w=2;if(c=e,typeof e=="function")Fo(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case W:return Er(a.children,d,p,t);case $:w=8,d|=8;break;case Q:return e=qt(12,a,t,d|2),e.elementType=Q,e.lanes=p,e;case he:return e=qt(13,a,t,d),e.elementType=he,e.lanes=p,e;case oe:return e=qt(19,a,t,d),e.elementType=oe,e.lanes=p,e;case se:return gi(a,d,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case le:w=10;break e;case re:w=9;break e;case z:w=11;break e;case me:w=14;break e;case U:w=16,c=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=qt(w,a,t,d),t.elementType=e,t.type=c,t.lanes=p,t}function Er(e,t,a,c){return e=qt(7,e,c,t),e.lanes=a,e}function gi(e,t,a,c){return e=qt(22,e,c,t),e.elementType=se,e.lanes=a,e.stateNode={isHidden:!1},e}function Lo(e,t,a){return e=qt(6,e,null,t),e.lanes=a,e}function $o(e,t,a){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yx(e,t,a,c,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dl(0),this.expirationTimes=dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Bo(e,t,a,c,d,p,w,R,M){return e=new yx(e,t,a,R,M),t===1?(t=1,p===!0&&(t|=8)):t=0,p=qt(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zl(p),e}function bx(e,t,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:c==null?null:""+c,children:e,containerInfo:t,implementation:a}}function Sm(e){if(!e)return Un;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var a=e.type;if(Et(a))return Zu(e,a,t)}return t}function Cm(e,t,a,c,d,p,w,R,M){return e=Bo(a,c,!0,e,d,p,w,R,M),e.context=Sm(null),a=e.current,c=St(),d=Qn(a),p=kn(c,d),p.callback=t??null,Gn(a,p,d),e.current.lanes=d,bs(e,d,c),Ot(e,c),e}function xi(e,t,a,c){var d=t.current,p=St(),w=Qn(d);return a=Sm(a),t.context===null?t.context=a:t.pendingContext=a,t=kn(p,w),t.payload={element:e},c=c===void 0?null:c,c!==null&&(t.callback=c),e=Gn(d,t,w),e!==null&&(tn(e,d,w,p),Ka(e,d,w)),w}function vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _m(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function zo(e,t){_m(e,t),(e=e.alternate)&&_m(e,t)}function jx(){return null}var km=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vo(e){this._internalRoot=e}yi.prototype.render=Vo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));xi(e,t,null,null)},yi.prototype.unmount=Vo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){xi(null,e,null,null)}),t[wn]=null}};function yi(e){this._internalRoot=e}yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=uu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ln.length&&t!==0&&t<Ln[a].priority;a++);Ln.splice(a,0,e),a===0&&fu(e)}};function Uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Em(){}function wx(e,t,a,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var G=vi(w);p.call(G)}}var w=Cm(t,c,e,0,null,!1,!1,"",Em);return e._reactRootContainer=w,e[wn]=w.current,Ms(e.nodeType===8?e.parentNode:e),Cr(),w}for(;d=e.lastChild;)e.removeChild(d);if(typeof c=="function"){var R=c;c=function(){var G=vi(M);R.call(G)}}var M=Bo(e,0,!1,null,null,!1,!1,"",Em);return e._reactRootContainer=M,e[wn]=M.current,Ms(e.nodeType===8?e.parentNode:e),Cr(function(){xi(t,M,a,c)}),M}function ji(e,t,a,c,d){var p=a._reactRootContainer;if(p){var w=p;if(typeof d=="function"){var R=d;d=function(){var M=vi(w);R.call(M)}}xi(t,w,e,d)}else w=wx(a,t,e,d,c);return vi(w)}ou=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=ys(t.pendingLanes);a!==0&&(ml(t,a|1),Ot(t,Ze()),(De&6)===0&&(ts=Ze()+500,Hn()))}break;case 13:Cr(function(){var c=_n(e,1);if(c!==null){var d=St();tn(c,e,1,d)}}),zo(e,1)}},fl=function(e){if(e.tag===13){var t=_n(e,134217728);if(t!==null){var a=St();tn(t,e,134217728,a)}zo(e,134217728)}},cu=function(e){if(e.tag===13){var t=Qn(e),a=_n(e,t);if(a!==null){var c=St();tn(a,e,t,c)}zo(e,t)}},uu=function(){return Be},du=function(e,t){var a=Be;try{return Be=e,t()}finally{Be=a}},fr=function(e,t,a){switch(t){case"input":if(Ae(e,a),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var c=a[t];if(c!==e&&c.form===e.form){var d=La(c);if(!d)throw Error(i(90));Ge(c),Ae(c,d)}}}break;case"textarea":ar(e,a);break;case"select":t=a.value,t!=null&&lt(e,!!a.multiple,t,!1)}},pr=Mo,hr=Cr;var Nx={usingClientEntryPoint:!1,Events:[Fs,Vr,La,Re,He,Mo]},Xs={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sx={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eu(e),e===null?null:e.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||jx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wi.isDisabled&&wi.supportsFiber)try{ya=wi.inject(Sx),dn=wi}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nx,Tt.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uo(t))throw Error(i(200));return bx(e,t,null,a)},Tt.createRoot=function(e,t){if(!Uo(e))throw Error(i(299));var a=!1,c="",d=km;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(c=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Bo(e,1,!1,null,null,a,!1,c,d),e[wn]=t.current,Ms(e.nodeType===8?e.parentNode:e),new Vo(t)},Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=eu(t),e=e===null?null:e.stateNode,e},Tt.flushSync=function(e){return Cr(e)},Tt.hydrate=function(e,t,a){if(!bi(t))throw Error(i(200));return ji(null,e,t,!0,a)},Tt.hydrateRoot=function(e,t,a){if(!Uo(e))throw Error(i(405));var c=a!=null&&a.hydratedSources||null,d=!1,p="",w=km;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),t=Cm(t,null,e,1,a??null,d,!1,p,w),e[wn]=t.current,Ms(e),c)for(e=0;e<c.length;e++)a=c[e],d=a._getVersion,d=d(a._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[a,d]:t.mutableSourceEagerHydrationData.push(a,d);return new yi(t)},Tt.render=function(e,t,a){if(!bi(t))throw Error(i(200));return ji(null,e,t,!1,a)},Tt.unmountComponentAtNode=function(e){if(!bi(e))throw Error(i(40));return e._reactRootContainer?(Cr(function(){ji(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},Tt.unstable_batchedUpdates=Mo,Tt.unstable_renderSubtreeIntoContainer=function(e,t,a,c){if(!bi(a))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return ji(e,t,a,!1,c)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var Zm;function Sp(){if(Zm)return Yo.exports;Zm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),Yo.exports=ov(),Yo.exports}var Jm;function cv(){if(Jm)return Si;Jm=1;var r=Sp();return Si.createRoot=r.createRoot,Si.hydrateRoot=r.hydrateRoot,Si}var uv=cv(),dv=Sp();function ra(){return ra=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},ra.apply(this,arguments)}var tr;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(tr||(tr={}));const ef="popstate";function mv(r){r===void 0&&(r={});function s(o,l){let{pathname:u,search:m,hash:h}=o.location;return vc("",{pathname:u,search:m,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(o,l){return typeof l=="string"?l:Li(l)}return pv(s,i,null,r)}function et(r,s){if(r===!1||r===null||typeof r>"u")throw new Error(s)}function Mc(r,s){if(!r){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function fv(){return Math.random().toString(36).substr(2,8)}function tf(r,s){return{usr:r.state,key:r.key,idx:s}}function vc(r,s,i,o){return i===void 0&&(i=null),ra({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof s=="string"?ds(s):s,{state:i,key:s&&s.key||o||fv()})}function Li(r){let{pathname:s="/",search:i="",hash:o=""}=r;return i&&i!=="?"&&(s+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function ds(r){let s={};if(r){let i=r.indexOf("#");i>=0&&(s.hash=r.substr(i),r=r.substr(0,i));let o=r.indexOf("?");o>=0&&(s.search=r.substr(o),r=r.substr(0,o)),r&&(s.pathname=r)}return s}function pv(r,s,i,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,m=l.history,h=tr.Pop,f=null,g=y();g==null&&(g=0,m.replaceState(ra({},m.state,{idx:g}),""));function y(){return(m.state||{idx:null}).idx}function b(){h=tr.Pop;let j=y(),O=j==null?null:j-g;g=j,f&&f({action:h,location:_.location,delta:O})}function S(j,O){h=tr.Push;let P=vc(_.location,j,O);g=y()+1;let I=tf(P,g),F=_.createHref(P);try{m.pushState(I,"",F)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;l.location.assign(F)}u&&f&&f({action:h,location:_.location,delta:1})}function C(j,O){h=tr.Replace;let P=vc(_.location,j,O);g=y();let I=tf(P,g),F=_.createHref(P);m.replaceState(I,"",F),u&&f&&f({action:h,location:_.location,delta:0})}function v(j){let O=l.location.origin!=="null"?l.location.origin:l.location.href,P=typeof j=="string"?j:Li(j);return P=P.replace(/ $/,"%20"),et(O,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,O)}let _={get action(){return h},get location(){return r(l,m)},listen(j){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(ef,b),f=j,()=>{l.removeEventListener(ef,b),f=null}},createHref(j){return s(l,j)},createURL:v,encodeLocation(j){let O=v(j);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:S,replace:C,go(j){return m.go(j)}};return _}var nf;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(nf||(nf={}));function hv(r,s,i){return i===void 0&&(i="/"),gv(r,s,i)}function gv(r,s,i,o){let l=typeof s=="string"?ds(s):s,u=Dc(l.pathname||"/",i);if(u==null)return null;let m=Cp(r);xv(m);let h=null;for(let f=0;h==null&&f<m.length;++f){let g=Rv(u);h=_v(m[f],g)}return h}function Cp(r,s,i,o){s===void 0&&(s=[]),i===void 0&&(i=[]),o===void 0&&(o="");let l=(u,m,h)=>{let f={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};f.relativePath.startsWith("/")&&(et(f.relativePath.startsWith(o),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(o.length));let g=nr([o,f.relativePath]),y=i.concat(f);u.children&&u.children.length>0&&(et(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Cp(u.children,s,y,g)),!(u.path==null&&!u.index)&&s.push({path:g,score:Sv(g,u.index),routesMeta:y})};return r.forEach((u,m)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))l(u,m);else for(let f of _p(u.path))l(u,m,f)}),s}function _p(r){let s=r.split("/");if(s.length===0)return[];let[i,...o]=s,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let m=_p(o.join("/")),h=[];return h.push(...m.map(f=>f===""?u:[u,f].join("/"))),l&&h.push(...m),h.map(f=>r.startsWith("/")&&f===""?"/":f)}function xv(r){r.sort((s,i)=>s.score!==i.score?i.score-s.score:Cv(s.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const vv=/^:[\w-]+$/,yv=3,bv=2,jv=1,wv=10,Nv=-2,rf=r=>r==="*";function Sv(r,s){let i=r.split("/"),o=i.length;return i.some(rf)&&(o+=Nv),s&&(o+=bv),i.filter(l=>!rf(l)).reduce((l,u)=>l+(vv.test(u)?yv:u===""?jv:wv),o)}function Cv(r,s){return r.length===s.length&&r.slice(0,-1).every((o,l)=>o===s[l])?r[r.length-1]-s[s.length-1]:0}function _v(r,s,i){let{routesMeta:o}=r,l={},u="/",m=[];for(let h=0;h<o.length;++h){let f=o[h],g=h===o.length-1,y=u==="/"?s:s.slice(u.length)||"/",b=kv({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},y),S=f.route;if(!b)return null;Object.assign(l,b.params),m.push({params:l,pathname:nr([u,b.pathname]),pathnameBase:Mv(nr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=nr([u,b.pathnameBase]))}return m}function kv(r,s){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,o]=Ev(r.path,r.caseSensitive,r.end),l=s.match(i);if(!l)return null;let u=l[0],m=u.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:o.reduce((g,y,b)=>{let{paramName:S,isOptional:C}=y;if(S==="*"){let _=h[b]||"";m=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}const v=h[b];return C&&!v?g[S]=void 0:g[S]=(v||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:m,pattern:r}}function Ev(r,s,i){s===void 0&&(s=!1),i===void 0&&(i=!0),Mc(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let o=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,f)=>(o.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,s?void 0:"i"),o]}function Rv(r){try{return r.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Mc(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),r}}function Dc(r,s){if(s==="/")return r;if(!r.toLowerCase().startsWith(s.toLowerCase()))return null;let i=s.endsWith("/")?s.length-1:s.length,o=r.charAt(i);return o&&o!=="/"?null:r.slice(i)||"/"}const Pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ov=r=>Pv.test(r);function Tv(r,s){s===void 0&&(s="/");let{pathname:i,search:o="",hash:l=""}=typeof r=="string"?ds(r):r,u;if(i)if(Ov(i))u=i;else{if(i.includes("//")){let m=i;i=i.replace(/\/\/+/g,"/"),Mc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(m+" -> "+i))}i.startsWith("/")?u=sf(i.substring(1),"/"):u=sf(i,s)}else u=s;return{pathname:u,search:Dv(o),hash:Iv(l)}}function sf(r,s){let i=s.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Zo(r,s,i,o){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Av(r){return r.filter((s,i)=>i===0||s.route.path&&s.route.path.length>0)}function Ic(r,s){let i=Av(r);return s?i.map((o,l)=>l===i.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function Fc(r,s,i,o){o===void 0&&(o=!1);let l;typeof r=="string"?l=ds(r):(l=ra({},r),et(!l.pathname||!l.pathname.includes("?"),Zo("?","pathname","search",l)),et(!l.pathname||!l.pathname.includes("#"),Zo("#","pathname","hash",l)),et(!l.search||!l.search.includes("#"),Zo("#","search","hash",l)));let u=r===""||l.pathname==="",m=u?"/":l.pathname,h;if(m==null)h=i;else{let b=s.length-1;if(!o&&m.startsWith("..")){let S=m.split("/");for(;S[0]==="..";)S.shift(),b-=1;l.pathname=S.join("/")}h=b>=0?s[b]:"/"}let f=Tv(l,h),g=m&&m!=="/"&&m.endsWith("/"),y=(u||m===".")&&i.endsWith("/");return!f.pathname.endsWith("/")&&(g||y)&&(f.pathname+="/"),f}const nr=r=>r.join("/").replace(/\/\/+/g,"/"),Mv=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Dv=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Iv=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Fv(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const kp=["post","put","patch","delete"];new Set(kp);const Lv=["get",...kp];new Set(Lv);function sa(){return sa=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},sa.apply(this,arguments)}const Lc=x.createContext(null),$v=x.createContext(null),rr=x.createContext(null),Ji=x.createContext(null),Tn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Ep=x.createContext(null);function Bv(r,s){let{relative:i}=s===void 0?{}:s;ms()||et(!1);let{basename:o,navigator:l}=x.useContext(rr),{hash:u,pathname:m,search:h}=Pp(r,{relative:i}),f=m;return o!=="/"&&(f=m==="/"?o:nr([o,m])),l.createHref({pathname:f,search:h,hash:u})}function ms(){return x.useContext(Ji)!=null}function fs(){return ms()||et(!1),x.useContext(Ji).location}function Rp(r){x.useContext(rr).static||x.useLayoutEffect(r)}function sn(){let{isDataRoute:r}=x.useContext(Tn);return r?Jv():zv()}function zv(){ms()||et(!1);let r=x.useContext(Lc),{basename:s,future:i,navigator:o}=x.useContext(rr),{matches:l}=x.useContext(Tn),{pathname:u}=fs(),m=JSON.stringify(Ic(l,i.v7_relativeSplatPath)),h=x.useRef(!1);return Rp(()=>{h.current=!0}),x.useCallback(function(g,y){if(y===void 0&&(y={}),!h.current)return;if(typeof g=="number"){o.go(g);return}let b=Fc(g,JSON.parse(m),u,y.relative==="path");r==null&&s!=="/"&&(b.pathname=b.pathname==="/"?s:nr([s,b.pathname])),(y.replace?o.replace:o.push)(b,y.state,y)},[s,o,m,u,r])}function $c(){let{matches:r}=x.useContext(Tn),s=r[r.length-1];return s?s.params:{}}function Pp(r,s){let{relative:i}=s===void 0?{}:s,{future:o}=x.useContext(rr),{matches:l}=x.useContext(Tn),{pathname:u}=fs(),m=JSON.stringify(Ic(l,o.v7_relativeSplatPath));return x.useMemo(()=>Fc(r,JSON.parse(m),u,i==="path"),[r,m,u,i])}function Vv(r,s){return Uv(r,s)}function Uv(r,s,i,o){ms()||et(!1);let{navigator:l}=x.useContext(rr),{matches:u}=x.useContext(Tn),m=u[u.length-1],h=m?m.params:{};m&&m.pathname;let f=m?m.pathnameBase:"/";m&&m.route;let g=fs(),y;if(s){var b;let j=typeof s=="string"?ds(s):s;f==="/"||(b=j.pathname)!=null&&b.startsWith(f)||et(!1),y=j}else y=g;let S=y.pathname||"/",C=S;if(f!=="/"){let j=f.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let v=hv(r,{pathname:C}),_=Kv(v&&v.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:nr([f,l.encodeLocation?l.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:nr([f,l.encodeLocation?l.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,i,o);return s&&_?x.createElement(Ji.Provider,{value:{location:sa({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:tr.Pop}},_):_}function Hv(){let r=Zv(),s=Fv(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},s),i?x.createElement("pre",{style:l},i):null,null)}const Wv=x.createElement(Hv,null);class Gv extends x.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,i){return i.location!==s.location||i.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:i.error,location:i.location,revalidation:s.revalidation||i.revalidation}}componentDidCatch(s,i){console.error("React Router caught the following error during render",s,i)}render(){return this.state.error!==void 0?x.createElement(Tn.Provider,{value:this.props.routeContext},x.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qv(r){let{routeContext:s,match:i,children:o}=r,l=x.useContext(Lc);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),x.createElement(Tn.Provider,{value:s},o)}function Kv(r,s,i,o){var l;if(s===void 0&&(s=[]),i===void 0&&(i=null),o===void 0&&(o=null),r==null){var u;if(!i)return null;if(i.errors)r=i.matches;else if((u=o)!=null&&u.v7_partialHydration&&s.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let m=r,h=(l=i)==null?void 0:l.errors;if(h!=null){let y=m.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);y>=0||et(!1),m=m.slice(0,Math.min(m.length,y+1))}let f=!1,g=-1;if(i&&o&&o.v7_partialHydration)for(let y=0;y<m.length;y++){let b=m[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=y),b.route.id){let{loaderData:S,errors:C}=i,v=b.route.loader&&S[b.route.id]===void 0&&(!C||C[b.route.id]===void 0);if(b.route.lazy||v){f=!0,g>=0?m=m.slice(0,g+1):m=[m[0]];break}}}return m.reduceRight((y,b,S)=>{let C,v=!1,_=null,j=null;i&&(C=h&&b.route.id?h[b.route.id]:void 0,_=b.route.errorElement||Wv,f&&(g<0&&S===0?(ey("route-fallback"),v=!0,j=null):g===S&&(v=!0,j=b.route.hydrateFallbackElement||null)));let O=s.concat(m.slice(0,S+1)),P=()=>{let I;return C?I=_:v?I=j:b.route.Component?I=x.createElement(b.route.Component,null):b.route.element?I=b.route.element:I=y,x.createElement(qv,{match:b,routeContext:{outlet:y,matches:O,isDataRoute:i!=null},children:I})};return i&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?x.createElement(Gv,{location:i.location,revalidation:i.revalidation,component:_,error:C,children:P(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):P()},null)}var Op=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(Op||{}),Tp=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(Tp||{});function Yv(r){let s=x.useContext(Lc);return s||et(!1),s}function Qv(r){let s=x.useContext($v);return s||et(!1),s}function Xv(r){let s=x.useContext(Tn);return s||et(!1),s}function Ap(r){let s=Xv(),i=s.matches[s.matches.length-1];return i.route.id||et(!1),i.route.id}function Zv(){var r;let s=x.useContext(Ep),i=Qv(),o=Ap();return s!==void 0?s:(r=i.errors)==null?void 0:r[o]}function Jv(){let{router:r}=Yv(Op.UseNavigateStable),s=Ap(Tp.UseNavigateStable),i=x.useRef(!1);return Rp(()=>{i.current=!0}),x.useCallback(function(l,u){u===void 0&&(u={}),i.current&&(typeof l=="number"?r.navigate(l):r.navigate(l,sa({fromRouteId:s},u)))},[r,s])}const af={};function ey(r,s,i){af[r]||(af[r]=!0)}function ty(r,s){r?.v7_startTransition,r?.v7_relativeSplatPath}function $i(r){let{to:s,replace:i,state:o,relative:l}=r;ms()||et(!1);let{future:u,static:m}=x.useContext(rr),{matches:h}=x.useContext(Tn),{pathname:f}=fs(),g=sn(),y=Fc(s,Ic(h,u.v7_relativeSplatPath),f,l==="path"),b=JSON.stringify(y);return x.useEffect(()=>g(JSON.parse(b),{replace:i,state:o,relative:l}),[g,b,l,i,o]),null}function rt(r){et(!1)}function ny(r){let{basename:s="/",children:i=null,location:o,navigationType:l=tr.Pop,navigator:u,static:m=!1,future:h}=r;ms()&&et(!1);let f=s.replace(/^\/*/,"/"),g=x.useMemo(()=>({basename:f,navigator:u,static:m,future:sa({v7_relativeSplatPath:!1},h)}),[f,h,u,m]);typeof o=="string"&&(o=ds(o));let{pathname:y="/",search:b="",hash:S="",state:C=null,key:v="default"}=o,_=x.useMemo(()=>{let j=Dc(y,f);return j==null?null:{location:{pathname:j,search:b,hash:S,state:C,key:v},navigationType:l}},[f,y,b,S,C,v,l]);return _==null?null:x.createElement(rr.Provider,{value:g},x.createElement(Ji.Provider,{children:i,value:_}))}function ry(r){let{children:s,location:i}=r;return Vv(yc(s),i)}new Promise(()=>{});function yc(r,s){s===void 0&&(s=[]);let i=[];return x.Children.forEach(r,(o,l)=>{if(!x.isValidElement(o))return;let u=[...s,l];if(o.type===x.Fragment){i.push.apply(i,yc(o.props.children,u));return}o.type!==rt&&et(!1),!o.props.index||!o.props.children||et(!1);let m={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=yc(o.props.children,u)),i.push(m)}),i}function bc(){return bc=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},bc.apply(this,arguments)}function sy(r,s){if(r==null)return{};var i={},o=Object.keys(r),l,u;for(u=0;u<o.length;u++)l=o[u],!(s.indexOf(l)>=0)&&(i[l]=r[l]);return i}function ay(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function iy(r,s){return r.button===0&&(!s||s==="_self")&&!ay(r)}const ly=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oy="6";try{window.__reactRouterVersion=oy}catch{}const cy="startTransition",lf=fc[cy];function uy(r){let{basename:s,children:i,future:o,window:l}=r,u=x.useRef();u.current==null&&(u.current=mv({window:l,v5Compat:!0}));let m=u.current,[h,f]=x.useState({action:m.action,location:m.location}),{v7_startTransition:g}=o||{},y=x.useCallback(b=>{g&&lf?lf(()=>f(b)):f(b)},[f,g]);return x.useLayoutEffect(()=>m.listen(y),[m,y]),x.useEffect(()=>ty(o),[o]),x.createElement(ny,{basename:s,children:i,location:h.location,navigationType:h.action,navigator:m,future:o})}const dy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",my=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=x.forwardRef(function(s,i){let{onClick:o,relative:l,reloadDocument:u,replace:m,state:h,target:f,to:g,preventScrollReset:y,viewTransition:b}=s,S=sy(s,ly),{basename:C}=x.useContext(rr),v,_=!1;if(typeof g=="string"&&my.test(g)&&(v=g,dy))try{let I=new URL(window.location.href),F=g.startsWith("//")?new URL(I.protocol+g):new URL(g),E=Dc(F.pathname,C);F.origin===I.origin&&E!=null?g=E+F.search+F.hash:_=!0}catch{}let j=Bv(g,{relative:l}),O=fy(g,{replace:m,state:h,target:f,preventScrollReset:y,relative:l,viewTransition:b});function P(I){o&&o(I),I.defaultPrevented||O(I)}return x.createElement("a",bc({},S,{href:v||j,onClick:_||u?o:P,ref:i,target:f}))});var of;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(of||(of={}));var cf;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(cf||(cf={}));function fy(r,s){let{target:i,replace:o,state:l,preventScrollReset:u,relative:m,viewTransition:h}=s===void 0?{}:s,f=sn(),g=fs(),y=Pp(r,{relative:m});return x.useCallback(b=>{if(iy(b,i)){b.preventDefault();let S=o!==void 0?o:Li(g)===Li(y);f(r,{replace:S,state:l,preventScrollReset:u,relative:m,viewTransition:h})}},[g,f,y,o,l,i,r,u,m,h])}function py({value:r,duration:s=1e3,prefix:i="",suffix:o=""}){const[l,u]=x.useState(0),m=x.useRef(0),h=x.useRef(null);x.useEffect(()=>{const g=typeof r=="number"?r:parseInt(r)||0,y=m.current,b=performance.now(),S=C=>{const v=C-b,_=Math.min(v/s,1),j=1-Math.pow(1-_,4),O=Math.floor(y+(g-y)*j);u(O),_<1?h.current=requestAnimationFrame(S):m.current=g};return h.current=requestAnimationFrame(S),()=>{h.current&&cancelAnimationFrame(h.current)}},[r,s]);const f=g=>g>=1e6?(g/1e6).toFixed(1)+"M":g>=1e3?(g/1e3).toFixed(1)+"K":g.toLocaleString();return n.jsxs("span",{className:"tabular-nums",children:[i,f(l),o]})}const uf=["mousemove","mousedown","keydown","scroll","touchstart","click"],hy=1e3,Mp=3600*1e3,Dp=x.createContext({isDisconnected:!1,disconnect:()=>{},reconnect:()=>{},registerConnection:()=>{},unregisterConnection:()=>{},timeoutMs:Mp});function gy({children:r,timeout:s=Mp}){const[i,o]=x.useState(!1),l=x.useRef(new Map),u=x.useRef(null),m=x.useRef(null),h=x.useCallback(()=>{u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{o(!0),l.current.forEach((C,v)=>{try{C.cleanup?.()}catch(_){console.error(`Inactivity cleanup error for ${v}:`,_)}})},s)},[s]);x.useEffect(()=>{const C=()=>{m.current||(m.current=setTimeout(()=>{m.current=null,i||h()},hy))};return uf.forEach(v=>{window.addEventListener(v,C,{passive:!0})}),h(),()=>{uf.forEach(v=>{window.removeEventListener(v,C)}),u.current&&clearTimeout(u.current),m.current&&clearTimeout(m.current)}},[i,h]);const f=x.useCallback(()=>{o(!1),h(),l.current.forEach((C,v)=>{try{C.restore?.()}catch(_){console.error(`Inactivity restore error for ${v}:`,_)}})},[h]),g=x.useCallback((C,v)=>{l.current.set(C,v)},[]),y=x.useCallback(C=>{l.current.delete(C)},[]),b=x.useCallback(()=>{o(!0),l.current.forEach((C,v)=>{try{C.cleanup?.()}catch(_){console.error(`Inactivity cleanup error for ${v}:`,_)}})},[]),S={isDisconnected:i,disconnect:b,reconnect:f,registerConnection:g,unregisterConnection:y,timeoutMs:s};return n.jsx(Dp.Provider,{value:S,children:r})}function el(){const r=x.useContext(Dp);return r||{isDisconnected:!1,disconnect:()=>{},reconnect:()=>{},registerConnection:()=>{},unregisterConnection:()=>{},timeoutMs:0}}function xy({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const df=x.forwardRef(xy);function vy({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const yy=x.forwardRef(vy);function by({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const jy=x.forwardRef(by);function wy({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const Ny=x.forwardRef(wy);function Sy({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Cy=x.forwardRef(Sy);function _y({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const ky=x.forwardRef(_y);function Ey({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Bc=x.forwardRef(Ey);function Ry({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Py=x.forwardRef(Ry);function Oy({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Ip=x.forwardRef(Oy);function Ty({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ay=x.forwardRef(Ty);function My({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Dy=x.forwardRef(My);function Iy({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Fy=x.forwardRef(Iy),Ly={system_submitted:{icon:"",color:"#00C2B3",label:"Submitted"},system_approved:{icon:"",color:"#4ade80",label:"Approved"},system_rejected:{icon:"",color:"#ef4444",label:"Rejected"},system_saved:{icon:"",color:"#00C2B3",label:"Saved"},system_deleted:{icon:"",color:"#ef4444",label:"Deleted"},system_edited:{icon:"",color:"#f0ad4e",label:"Edited"},region_submitted:{icon:"",color:"#9d4edd",label:"Region"},region_approved:{icon:"",color:"#4ade80",label:"Region"},region_rejected:{icon:"",color:"#ef4444",label:"Region"},discovery_added:{icon:"",color:"#9d4edd",label:"Discovery"},map_generated:{icon:"",color:"#00C2B3",label:"Map"},watcher_upload:{icon:"",color:"#f0ad4e",label:"Watcher"}};function $y(){const[r,s]=x.useState(null),[i,o]=x.useState(null),[l,u]=x.useState([]),[m,h]=x.useState({systems:0,regions:0}),[f,g]=x.useState([]),[y,b]=x.useState(!0),[S,C]=x.useState([]),[v,_]=x.useState(!1),j=x.useRef(null),O=x.useRef(null),{isDisconnected:P,registerConnection:I,unregisterConnection:F}=el();x.useEffect(()=>{(async()=>{try{const[oe,me,U,se]=await Promise.all([ce.get("/api/stats").catch(()=>({data:null})),ce.get("/api/db_stats").catch(()=>({data:{stats:{}}})),ce.get("/api/regions/grouped?include_systems=false&limit=5").catch(()=>({data:{regions:[]}})),ce.get("/api/systems/recent?limit=10").catch(()=>({data:{systems:[]}}))]);s(oe.data),o(me.data?.stats||{}),u(se.data?.systems||[]);const B=(U.data?.regions||[]).map(Y=>({name:Y.display_name||Y.custom_name||`Region (${Y.region_x}, ${Y.region_y}, ${Y.region_z})`,count:Y.system_count||0,hasCustomName:!!Y.custom_name}));g(B),b(!0)}catch(oe){console.error("Failed to fetch dashboard data:",oe),b(!1)}})(),ce.get("/api/pending_systems/count").then(oe=>{const me=oe.data||{};h({systems:me.systems||0,regions:me.regions||0})}).catch(()=>{});const z=async()=>{try{const oe=await ce.get("/api/activity_logs?limit=50");C(oe.data?.logs||[]),b(!0)}catch(oe){console.error("Failed to fetch activity logs:",oe)}};if(P)return;z();const he=()=>{O.current=setInterval(()=>{v||z()},6e4)};return he(),I("dashboard-activity-polling",{cleanup:()=>{O.current&&(clearInterval(O.current),O.current=null)},restore:()=>{z(),he()}}),()=>{F("dashboard-activity-polling"),O.current&&clearInterval(O.current)}},[v,P,I,F]),x.useEffect(()=>{!v&&j.current&&(j.current.scrollTop=j.current.scrollHeight)},[S,v]);const E=r?.total||i?.systems||0,D=i?.planets||0,W=i?.moons||0,$=i?.regions||r?.regions?.length||0,Q=i?.discoveries||0,le=re=>{const z=typeof re=="string"?new Date(re):re,oe=Math.floor((new Date-z)/1e3);return oe<60?"now":oe<3600?`${Math.floor(oe/60)}m ago`:oe<86400?`${Math.floor(oe/3600)}h ago`:`${Math.floor(oe/86400)}d ago`};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl",style:{background:"linear-gradient(135deg, rgba(20, 27, 61, 0.95) 0%, rgba(10, 14, 39, 0.98) 100%)",border:"1px solid rgba(0, 194, 179, 0.2)",boxShadow:"0 0 60px rgba(0, 194, 179, 0.1), inset 0 1px 0 rgba(255,255,255,0.05)"},children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute -top-1/2 -left-1/4 w-1/2 h-full rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(0, 194, 179, 0.4) 0%, transparent 70%)"}}),n.jsx("div",{className:"absolute -bottom-1/2 -right-1/4 w-1/2 h-full rounded-full opacity-15",style:{background:"radial-gradient(circle, rgba(157, 78, 221, 0.4) 0%, transparent 70%)"}})]}),n.jsxs("div",{className:"relative p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold tracking-tight",style:{color:"var(--app-text)"},children:"Haven Control Room"}),n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium",style:{background:y?"rgba(0, 194, 179, 0.15)":"rgba(239, 68, 68, 0.15)",color:y?"#00C2B3":"#ef4444"},children:[n.jsxs("span",{className:"relative flex h-2 w-2",children:[n.jsx("span",{className:`absolute inline-flex h-full w-full rounded-full opacity-75 ${y?"animate-ping":""}`,style:{background:y?"#00C2B3":"#ef4444"}}),n.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2",style:{background:y?"#00C2B3":"#ef4444"}})]}),y?"Systems Online":"Connection Lost"]})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 lg:gap-6 mb-8",children:[{icon:"",label:"Systems",value:E,change:"+12"},{icon:"",label:"Planets",value:D,change:"+45"},{icon:"",label:"Moons",value:W,change:"+18"},{icon:"",label:"Regions",value:$,change:"+3"},{icon:"",label:"Discoveries",value:Q,change:"+24"}].map((re,z)=>n.jsxs("div",{className:"text-center p-4 rounded-xl transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.06)"},children:[n.jsx("div",{className:"text-2xl mb-1",children:re.icon}),n.jsx("div",{className:"text-2xl lg:text-3xl font-bold",style:{color:"#00C2B3"},children:n.jsx(py,{value:re.value,duration:1200})}),n.jsx("div",{className:"text-xs uppercase tracking-wider mt-1",style:{color:"var(--muted)"},children:re.label}),n.jsxs("div",{className:"text-xs mt-1",style:{color:"#4ade80"},children:[" ",re.change]})]},z))}),n.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:n.jsxs(Oe,{to:"/wizard",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-white transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #00C2B3 0%, #00a89a 100%)",boxShadow:"0 4px 20px rgba(0, 194, 179, 0.4)"},children:[n.jsx(Dy,{className:"w-5 h-5"}),"Add New System"]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 rounded-xl overflow-hidden",style:{background:"var(--app-card)",border:"1px solid rgba(255, 255, 255, 0.06)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"rgba(255,255,255,0.06)"},children:[n.jsxs("h2",{className:"font-semibold flex items-center gap-2",style:{color:"#00C2B3"},children:[n.jsx(Bc,{className:"w-5 h-5"}),"Galaxy Overview"]}),n.jsx("a",{href:"/map/latest",target:"_blank",rel:"noreferrer",className:"text-sm hover:underline",style:{color:"var(--muted)"},children:"Open Full Map "})]}),n.jsxs("div",{className:"relative",style:{height:"320px"},children:[n.jsx("iframe",{src:"/map/latest?embed=true&hideUI=true",className:"w-full h-full border-0",title:"Galaxy Map Preview",style:{background:"#050810"}}),n.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom, transparent 80%, var(--app-card) 100%)",borderRadius:"0 0 12px 12px"}}),n.jsx("a",{href:"/map/latest",target:"_blank",rel:"noreferrer",className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300 cursor-pointer",style:{background:"rgba(0, 0, 0, 0.5)"},children:n.jsx("span",{className:"px-6 py-3 rounded-xl font-semibold text-white",style:{background:"rgba(0, 194, 179, 0.9)"},children:"Click to Open Full Map"})})]})]}),n.jsxs("div",{className:"rounded-xl p-5",style:{background:"var(--app-card)",border:"1px solid rgba(255, 255, 255, 0.06)"},children:[n.jsxs("h2",{className:"font-semibold mb-4 flex items-center gap-2",style:{color:"#f0ad4e"},children:[n.jsx(ky,{className:"w-5 h-5"}),"Pending Review"]}),m.systems+m.regions>0?n.jsxs("div",{className:"space-y-3",children:[m.systems>0&&n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{background:"rgba(240, 173, 78, 0.1)",border:"1px solid rgba(240, 173, 78, 0.2)"},children:[n.jsx("span",{className:"text-sm",children:"Systems awaiting approval"}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-bold",style:{background:"rgba(240, 173, 78, 0.2)",color:"#f0ad4e"},children:m.systems})]}),m.regions>0&&n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{background:"rgba(240, 173, 78, 0.1)",border:"1px solid rgba(240, 173, 78, 0.2)"},children:[n.jsx("span",{className:"text-sm",children:"Region names pending"}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-bold",style:{background:"rgba(240, 173, 78, 0.2)",color:"#f0ad4e"},children:m.regions})]}),n.jsx(Oe,{to:"/pending-approvals",className:"block w-full text-center py-2 rounded-lg text-sm font-medium transition-colors",style:{background:"rgba(240, 173, 78, 0.15)",color:"#f0ad4e"},children:"Review All "})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(yy,{className:"w-12 h-12 mx-auto mb-2",style:{color:"#4ade80"}}),n.jsx("p",{className:"text-sm",style:{color:"var(--muted)"},children:"All caught up!"}),n.jsx("p",{className:"text-xs mt-1",style:{color:"var(--muted)"},children:"No pending approvals"})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t",style:{borderColor:"rgba(255,255,255,0.06)"},children:[n.jsx("h3",{className:"text-xs uppercase tracking-wider mb-3",style:{color:"var(--muted)"},children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(Oe,{to:"/systems",className:"flex items-center gap-2 p-2 rounded-lg text-xs transition-colors hover:bg-white/5",children:[n.jsx(df,{className:"w-4 h-4",style:{color:"#00C2B3"}}),n.jsx("span",{children:"Systems"})]}),n.jsxs(Oe,{to:"/discoveries",className:"flex items-center gap-2 p-2 rounded-lg text-xs transition-colors hover:bg-white/5",children:[n.jsx(Ip,{className:"w-4 h-4",style:{color:"#9d4edd"}}),n.jsx("span",{children:"Discoveries"})]}),n.jsxs(Oe,{to:"/db_stats",className:"flex items-center gap-2 p-2 rounded-lg text-xs transition-colors hover:bg-white/5",children:[n.jsx(df,{className:"w-4 h-4",style:{color:"#00C2B3"}}),n.jsx("span",{children:"DB Stats"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"rounded-xl p-5",style:{background:"var(--app-card)",border:"1px solid rgba(255, 255, 255, 0.06)"},children:[n.jsx("h2",{className:"font-semibold mb-4 flex items-center gap-2",style:{color:"#00C2B3"},children:" Top Regions"}),n.jsx("div",{className:"space-y-2",children:f.length>0?f.map((re,z)=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{background:"rgba(255, 255, 255, 0.02)"},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded text-xs font-bold",style:{background:z===0?"rgba(255, 215, 0, 0.2)":z===1?"rgba(192, 192, 192, 0.2)":z===2?"rgba(205, 127, 50, 0.2)":"rgba(255,255,255,0.05)",color:z===0?"#ffd700":z===1?"#c0c0c0":z===2?"#cd7f32":"var(--muted)"},children:z+1}),n.jsx("span",{className:"text-sm truncate max-w-[140px]",style:{color:re.hasCustomName?"#9d4edd":"var(--muted)"},children:re.name})]}),n.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{background:"rgba(0, 194, 179, 0.1)",color:"#00C2B3"},children:[re.count," sys"]})]},z)):n.jsx("p",{className:"text-sm text-center py-4",style:{color:"var(--muted)"},children:"No regions yet"})})]}),n.jsxs("div",{className:"rounded-xl p-5",style:{background:"var(--app-card)",border:"1px solid rgba(255, 255, 255, 0.06)"},children:[n.jsxs("h2",{className:"font-semibold mb-4 flex items-center gap-2",style:{color:"#9d4edd"},children:[n.jsx(Cy,{className:"w-5 h-5"}),"Recent Activity"]}),n.jsx("div",{className:"space-y-2",children:l.length>0?l.slice(0,6).map((re,z)=>n.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-lg",style:{background:"rgba(255, 255, 255, 0.02)"},children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mt-1.5 flex-shrink-0",style:{background:"#00C2B3"}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm truncate",children:re.name}),n.jsxs("p",{className:"text-xs",style:{color:"var(--muted)"},children:[re.galaxy||"Euclid","  ",re.planets?.length||0," planets"]})]})]},re.id||z)):n.jsx("p",{className:"text-sm text-center py-4",style:{color:"var(--muted)"},children:"No recent activity"})}),n.jsx(Oe,{to:"/systems",className:"block text-center text-sm mt-3 pt-3 border-t",style:{borderColor:"rgba(255,255,255,0.06)",color:"var(--muted)"},children:"View All Systems "})]}),n.jsxs("div",{className:"rounded-xl overflow-hidden flex flex-col self-start",style:{background:"var(--app-card)",border:"1px solid rgba(255, 255, 255, 0.06)",height:"290px"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0",style:{borderColor:"rgba(255,255,255,0.06)"},children:[n.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[" Activity Log",!v&&n.jsx("span",{className:"w-2 h-2 rounded-full animate-pulse",style:{background:"#4ade80"}})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{onClick:()=>_(!v),className:"px-2 py-1 rounded text-xs transition-colors",style:{background:v?"rgba(239, 68, 68, 0.2)":"rgba(255,255,255,0.05)",color:v?"#ef4444":"var(--app-text)"},children:v?" Paused":" Live"})})]}),n.jsx("div",{ref:j,className:"p-3 overflow-y-auto text-xs flex-1",style:{background:"rgba(0,0,0,0.2)"},children:S.length>0?[...S].reverse().map(re=>{const z=Ly[re.event_type]||{icon:"",color:"var(--muted)"};return n.jsxs("div",{className:"py-1.5 flex items-start gap-2 border-b border-white/5 last:border-0",children:[n.jsx("span",{className:"flex-shrink-0",children:z.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"truncate",style:{color:z.color},children:re.message}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",style:{color:"var(--muted)"},children:[n.jsx("span",{children:le(re.timestamp)}),re.user_name&&n.jsxs("span",{children:[" ",re.user_name]})]})]})]},re.id)}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full",style:{color:"var(--muted)"},children:[n.jsx("span",{className:"text-2xl mb-2",children:""}),n.jsx("p",{children:"No activity yet..."}),n.jsx("p",{className:"text-xs mt-1",children:"Activity will appear here as it happens"})]})})]})]})]})}function Ee({children:r,className:s="",thin:i=!1,...o}){return n.jsx("div",{...o,className:`bg-card p-6 rounded-lg shadow-sm border border-gray-100 ${s}`,style:{backgroundColor:"var(--app-card)"},children:r})}function te({children:r,onClick:s,className:i="",type:o="button",variant:l="primary",...u}){const m="px-4 py-2 rounded inline-flex items-center justify-center",h={primary:"btn-primary",ghost:"bg-transparent border border-white/10",neutral:"bg-gray-700 text-white"},f=h[l]||h.primary;return n.jsx("button",{type:o,onClick:s,className:`${m} ${f} ${i}`,...u,children:r})}function nn({label:r,children:s,hint:i,className:o=""}){return n.jsxs("div",{className:`mb-4 ${o}`,children:[r&&n.jsx("label",{className:"block text-sm font-medium mb-1",children:r}),n.jsx("div",{children:s}),i&&n.jsx("div",{className:"text-xs muted mt-1",children:i})]})}const xn={APPROVALS:"approvals",SETTINGS:"settings",CSV_IMPORT:"csv_import",BATCH_APPROVALS:"batch_approvals"},ft=x.createContext({isAdmin:!1,isSuperAdmin:!1,isPartner:!1,isSubAdmin:!1,isHavenSubAdmin:!1,user:null,loading:!0,login:async()=>{},logout:async()=>{},canAccess:()=>!1,refreshAuth:async()=>{}});function By({children:r}){const[s,i]=x.useState(null),[o,l]=x.useState(!0);async function u(){try{const j=await(await fetch("/api/admin/status",{credentials:"include"})).json();j.logged_in?i({type:j.user_type,username:j.username,discordTag:j.discord_tag,displayName:j.display_name,enabledFeatures:j.enabled_features||[],accountId:j.account_id,parentDisplayName:j.parent_display_name,isHavenSubAdmin:j.is_haven_sub_admin||!1}):i(null)}catch(_){console.error("Auth check failed:",_),i(null)}finally{l(!1)}}x.useEffect(()=>{u()},[]);const m=!!s,h=s?.type==="super_admin",f=s?.type==="partner",g=s?.type==="sub_admin",y=s?.isHavenSubAdmin||!1;function b(_){if(!s)return!1;if(h)return!0;const j=s.enabledFeatures||[];return j.includes("all")?!0:j.includes(_)}async function S(_,j){const O=await fetch("/api/admin/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:_,password:j})});if(!O.ok){const I=await O.json().catch(()=>({}));throw new Error(I.detail||"Login failed")}const P=await O.json();return i({type:P.user_type,username:P.username,discordTag:P.discord_tag,displayName:P.display_name,enabledFeatures:P.enabled_features||[],accountId:P.account_id,parentDisplayName:P.parent_display_name,isHavenSubAdmin:P.is_haven_sub_admin||!1}),P}async function C(){await fetch("/api/admin/logout",{method:"POST",credentials:"include"}),i(null)}async function v(){await u()}return n.jsx(ft.Provider,{value:{isAdmin:m,isSuperAdmin:h,isPartner:f,isSubAdmin:g,isHavenSubAdmin:y,user:s,loading:o,login:S,logout:C,canAccess:b,refreshAuth:v},children:r})}function zy(r,s){const[i,o]=x.useState(r);return x.useEffect(()=>{const l=setTimeout(()=>{o(r)},s);return()=>{clearTimeout(l)}},[r,s]),i}const Jo=["Center Bottom","Center Top","East Core","North Core","South Core","West Core","North-East Top","North-West Bottom","North-West Top","South-East Bottom","South-East Top","South-West Bottom","South-West Top"];function Vy(r){if(!r)return null;if(r==="personal")return n.jsx("span",{className:"text-xs bg-fuchsia-600 text-white px-1.5 py-0.5 rounded",children:"Personal"});const i={Haven:"bg-cyan-500 text-white",IEA:"bg-green-500 text-white","B.E.S":"bg-orange-500 text-white",ARCH:"bg-purple-500 text-white",TBH:"bg-yellow-500 text-black",EVRN:"bg-pink-500 text-white"}[r]||"bg-indigo-500 text-white";return n.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${i}`,children:r})}function Uy(){const r=sn();x.useContext(ft);const[s,i]=x.useState([]),[o,l]=x.useState(""),u=zy(o,300),[m,h]=x.useState(!0),[f,g]=x.useState([]),[y,b]=x.useState(!1),[S,C]=x.useState([]),[v,_]=x.useState("all"),[j,O]=x.useState(!1),[P,I]=x.useState("list");x.useEffect(()=>{ce.get("/api/discord_tags").then($=>{C($.data.tags||[])}).catch(()=>{})},[]),x.useEffect(()=>{F()},[v]),x.useEffect(()=>{if(!u.trim()){g([]);return}b(!0),ce.get(`/api/systems/search?q=${encodeURIComponent(u)}&limit=20`).then($=>g($.data.results||[])).catch(()=>g([])).finally(()=>b(!1))},[u]);async function F(){h(!0);try{const $=new URLSearchParams({include_systems:"false"});v&&v!=="all"&&$.append("discord_tag",v);const Q=await ce.get(`/api/regions/grouped?${$.toString()}`);i(Q.data.regions||[])}catch($){console.error("Failed to load regions:",$),i([])}finally{h(!1)}}const E=x.useMemo(()=>{let $=s;if(j&&($=$.filter(Q=>{const le=Q.custom_name||"";return!Jo.includes(le)})),u.trim()){const Q=u.toLowerCase().trim();$=$.filter(le=>!!(le.display_name?.toLowerCase().includes(Q)||le.custom_name?.toLowerCase().includes(Q)||`${le.region_x},${le.region_y},${le.region_z}`.includes(Q)))}return $},[s,j,u]),D=x.useMemo(()=>E.reduce(($,Q)=>$+(Q.system_count||0),0),[E]);function W($){r(`/regions/${$.region_x}/${$.region_y}/${$.region_z}`)}return m?n.jsx("div",{className:"p-6",children:n.jsx(Ee,{children:n.jsx("div",{className:"text-center py-8",children:"Loading systems..."})})}):n.jsxs("div",{children:[n.jsxs("div",{className:"mb-6 flex flex-col lg:grid lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"lg:col-span-2 flex gap-2",children:[n.jsx(nn,{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ip,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),n.jsx("input",{"aria-label":"Search systems",className:"w-full pl-10 pr-3 py-2 rounded bg-gray-800 border border-gray-700 focus:border-cyan-500 focus:outline-none",value:o,onChange:$=>l($.target.value),placeholder:"Search systems by name, glyph code, or galaxy..."}),y&&n.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-cyan-400 text-sm",children:"Searching..."})]})}),n.jsx("button",{className:`px-3 py-2 rounded border transition-colors ${j?"bg-purple-600 border-purple-500 text-white":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600"}`,onClick:()=>O(!j),title:"Hide directional region names (Center Top, North-East Bottom, etc.)",children:j?" Named Only":" Show All"}),n.jsxs("select",{className:"px-3 py-2 rounded bg-gray-700 text-white border border-gray-600",value:v,onChange:$=>_($.target.value),children:[n.jsx("option",{value:"all",children:"All Communities"}),n.jsx("option",{value:"untagged",children:"Untagged Only"}),n.jsx("option",{value:"personal",children:"Personal Only"}),S.map($=>n.jsx("option",{value:$.tag,children:$.name},$.tag))]}),n.jsxs("div",{className:"flex rounded border border-gray-600 overflow-hidden",children:[n.jsx("button",{className:`px-3 py-2 flex items-center gap-1 transition-colors ${P==="list"?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>I("list"),title:"List view",children:n.jsx(Py,{className:"w-4 h-4"})}),n.jsx("button",{className:`px-3 py-2 flex items-center gap-1 transition-colors ${P==="grid"?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>I("grid"),title:"Grid view",children:n.jsx(Fy,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(te,{onClick:()=>{l(""),_("all"),O(!1)},variant:"ghost",children:"Clear"}),n.jsx(te,{onClick:F,variant:"ghost",children:"Reload"}),n.jsx(Oe,{to:"/wizard",children:n.jsx(te,{variant:"neutral",children:"New"})})]})]}),u.trim()&&(f.length>0||y)&&n.jsxs(Ee,{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:["System Search Results ",f.length>0&&`(${f.length})`]}),y?n.jsx("div",{className:"text-gray-400 py-4 text-center",children:"Searching..."}):n.jsx("div",{className:"space-y-2",children:f.map($=>n.jsxs("div",{className:"p-3 bg-gray-800 rounded hover:bg-gray-700 cursor-pointer flex items-center justify-between transition-colors",onClick:()=>r(`/systems/${encodeURIComponent($.id)}`),children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[$.name,Vy($.discord_tag),$.star_type&&n.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${$.star_type==="Yellow"?"bg-yellow-500 text-black":$.star_type==="Red"?"bg-red-500 text-white":$.star_type==="Blue"?"bg-blue-500 text-white":$.star_type==="Green"?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:$.star_type})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:[$.region_name?n.jsx("span",{className:"text-purple-400",children:$.region_name}):n.jsxs("span",{children:["Region (",$.region_x,", ",$.region_y,", ",$.region_z,")"]}),n.jsxs("span",{className:"ml-2",children:[" ",$.galaxy||"Euclid"]}),n.jsxs("span",{className:"ml-2",children:[" ",$.planet_count||0," planets"]}),$.glyph_code&&n.jsxs("span",{className:"ml-2 font-mono text-purple-400",children:["(",$.glyph_code,")"]})]})]}),n.jsx(te,{variant:"ghost",className:"text-sm",children:"View "})]},$.id))})]}),n.jsxs("div",{className:"mb-4 text-sm text-gray-400",children:[E.length," region",E.length!==1?"s":""," ","(",D," systems)",u&&f.length===0&&!y&&`  No systems match "${u}"`,j&&n.jsxs("span",{className:"ml-2",children:[" ",n.jsx("span",{className:"text-purple-400",children:"Hiding directional regions"})]}),v!=="all"&&n.jsxs("span",{className:"ml-2",children:[" Filtered by: ",n.jsx("span",{className:"text-cyan-400",children:v==="untagged"?"Untagged":v==="personal"?"Personal":v})]})]}),E.length===0?n.jsx(Ee,{children:n.jsx("div",{className:"text-center py-8 text-gray-400",children:o?"No regions match your search":"No regions found"})}):P==="grid"?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:E.map($=>{const Q=`${$.region_x},${$.region_y},${$.region_z}`,le=Jo.includes($.custom_name||"");return n.jsxs(Ee,{className:"p-4 cursor-pointer hover:bg-gray-800 transition-colors border-l-4 border-l-purple-500",onClick:()=>W($),children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("h3",{className:"font-semibold text-lg truncate",children:$.custom_name?n.jsx("span",{className:le?"text-gray-400":"text-purple-400",children:$.custom_name}):n.jsxs("span",{className:"text-gray-400",children:["(",$.region_x,", ",$.region_y,", ",$.region_z,")"]})}),$.custom_name&&n.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["[",$.region_x,", ",$.region_y,", ",$.region_z,"]"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:$.system_count||0}),n.jsx("div",{className:"text-sm text-gray-400",children:"systems"})]}),n.jsx("div",{className:"mt-3 text-xs text-gray-500 text-center",children:"Click to view details "})]},Q)})}):n.jsx("div",{className:"space-y-2",children:E.map($=>{const Q=`${$.region_x},${$.region_y},${$.region_z}`,le=Jo.includes($.custom_name||"");return n.jsxs(Ee,{className:"p-4 cursor-pointer hover:bg-gray-800 transition-colors flex items-center justify-between",onClick:()=>W($),children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"text-2xl font-bold text-cyan-400 w-16 text-center",children:$.system_count||0}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold",children:$.custom_name?n.jsx("span",{className:le?"text-gray-400":"text-purple-400",children:$.custom_name}):n.jsxs("span",{className:"text-gray-300",children:["Region (",$.region_x,", ",$.region_y,", ",$.region_z,")"]})}),n.jsxs("div",{className:"text-sm text-gray-400",children:[$.system_count||0," system",($.system_count||0)!==1?"s":"",$.custom_name&&n.jsxs("span",{className:"ml-2",children:[" Coords: [",$.region_x,", ",$.region_y,", ",$.region_z,"]"]})]})]})]}),n.jsx("div",{className:"text-gray-500",children:"View "})]},Q)})})]})}function Hy(r){if(!r)return null;if(r.startsWith("http"))return r;const i=r.replace(/\\/g,"/").split("/"),o=i[i.length-1];return`/haven-ui-photos/${encodeURIComponent(o)}`}function Wy(){const{id:r}=$c(),s=sn(),i=x.useContext(ft),[o,l]=x.useState(null),[u,m]=x.useState(!0),[h,f]=x.useState(null),[g,y]=x.useState({});x.useEffect(()=>{b()},[r]);async function b(){try{m(!0);const v=await ce.get(`/api/systems/${encodeURIComponent(r)}`);l(v.data),f(null)}catch(v){f(v.response?.data?.detail||"Failed to load system")}finally{m(!1)}}async function S(){if(confirm(`Are you sure you want to delete the system "${o.name}"?`))try{await ce.delete(`/api/systems/${encodeURIComponent(r)}`),alert("System deleted successfully"),s("/systems")}catch(v){alert(`Failed to delete system: ${v.response?.data?.detail||v.message}`)}}function C(v){y(_=>({..._,[v]:!_[v]}))}return u?n.jsx("div",{className:"p-6",children:n.jsx(Ee,{children:n.jsx("div",{className:"text-center py-8",children:"Loading system..."})})}):h?n.jsx("div",{className:"p-6",children:n.jsxs(Ee,{children:[n.jsx("div",{className:"text-center py-8 text-red-500",children:h}),n.jsx("div",{className:"text-center mt-4",children:n.jsx(te,{onClick:()=>s("/systems"),children:"Back to Systems"})})]})}):o?n.jsxs("div",{className:"p-4 sm:p-6 max-w-6xl mx-auto",children:[n.jsxs(Ee,{className:"mb-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-3 mb-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 break-words",children:o.name}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsxs("span",{className:"mr-4",children:["Galaxy: ",o.galaxy||"Euclid"]}),o.region_x!==null&&o.region_x!==void 0&&n.jsxs("span",{className:"mr-4",children:["Region: [",o.region_x,", ",o.region_y,", ",o.region_z,"]"]}),n.jsxs("span",{className:"block sm:inline mt-1 sm:mt-0",children:["ID: ",o.id]})]}),o.glyph_code&&n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"text-purple-400 font-mono text-lg tracking-wider",children:o.glyph_code})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto flex-shrink-0",children:[n.jsx(te,{className:"bg-blue-600 hover:bg-blue-700 w-full sm:w-auto",onClick:()=>s(`/create?edit=${encodeURIComponent(o.id||o.name)}`),children:"Edit"}),i?.isAdmin&&n.jsx(te,{className:"bg-red-600 hover:bg-red-700 w-full sm:w-auto",onClick:S,children:"Delete"}),n.jsx(te,{className:"bg-gray-600 hover:bg-gray-700 w-full sm:w-auto",onClick:()=>s("/systems"),children:"Back"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 p-4 bg-gray-800 rounded",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"X Coordinate"}),n.jsx("div",{className:"text-lg font-mono",children:o.x||"0"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Y Coordinate"}),n.jsx("div",{className:"text-lg font-mono",children:o.y||"0"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Z Coordinate"}),n.jsx("div",{className:"text-lg font-mono",children:o.z||"0"})]})]}),(o.star_type||o.economy_type||o.economy_level||o.conflict_level||o.dominant_lifeform)&&n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 mb-4 p-4 bg-gray-800 rounded",children:[o.star_type&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Star Type"}),n.jsx("div",{className:"text-yellow-400",children:o.star_type})]}),o.economy_type&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Economy"}),n.jsx("div",{className:"text-green-400",children:o.economy_type})]}),o.economy_level&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Wealth"}),n.jsx("div",{className:o.economy_level==="High"?"text-yellow-400":o.economy_level==="Medium"?"text-blue-400":"text-gray-300",children:o.economy_level})]}),o.conflict_level&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Conflict"}),n.jsx("div",{className:o.conflict_level==="High"?"text-red-400":o.conflict_level==="Medium"?"text-orange-400":"text-green-400",children:o.conflict_level})]}),o.dominant_lifeform&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Dominant Lifeform"}),n.jsx("div",{className:o.dominant_lifeform==="Vy'keen"?"text-red-400":o.dominant_lifeform==="Gek"?"text-yellow-400":o.dominant_lifeform==="Korvax"?"text-cyan-400":"text-gray-300",children:o.dominant_lifeform})]})]}),o.description&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-gray-300",children:o.description})]})]}),o.space_station&&n.jsxs(Ee,{className:"mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Space Station"}),n.jsx("div",{className:"bg-purple-900/30 border border-purple-600 rounded p-4",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Name"}),n.jsx("div",{className:"font-semibold",children:o.space_station.name})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Race"}),n.jsx("div",{children:o.space_station.race||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Sell %"}),n.jsxs("div",{children:[o.space_station.sell_percent||"80","%"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Buy %"}),n.jsxs("div",{children:[o.space_station.buy_percent||"50","%"]})]})]})})]}),n.jsxs(Ee,{children:[n.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Planets (",o.planets?.length||0,")"]}),!o.planets||o.planets.length===0?n.jsx("div",{className:"text-center py-8 text-gray-400",children:"No planets in this system"}):n.jsx("div",{className:"space-y-4",children:o.planets.map((v,_)=>n.jsxs("div",{className:"border border-gray-700 rounded overflow-hidden",children:[n.jsx("div",{className:"bg-gray-800 p-4 cursor-pointer hover:bg-gray-750 transition-colors",onClick:()=>C(_),children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[v.name,v.is_moon===1&&n.jsx("span",{className:"text-sm text-purple-400",children:"(Moon)"}),v.data_source==="remote"&&n.jsx("span",{className:"text-xs bg-amber-500 text-white px-1.5 py-0.5 rounded",title:"Remote data - visit for full detail (weather, flora, fauna, sentinels)",children:" Remote"})]}),n.jsxs("div",{className:"text-sm text-gray-400 mt-1 flex flex-wrap gap-x-4",children:[v.biome&&n.jsx("span",{className:"text-green-400",children:v.biome}),v.planet_size&&n.jsx("span",{children:v.planet_size}),v.moons&&v.moons.length>0&&n.jsxs("span",{children:[v.moons.length," moon",v.moons.length!==1?"s":""]}),n.jsxs("span",{className:(v.sentinel||v.sentinel_level)==="Aggressive"?"text-red-400":(v.sentinel||v.sentinel_level)==="Low"?"text-green-400":"",children:["Sentinel: ",v.sentinel||v.sentinel_level||"Unknown"]}),v.fauna&&v.fauna!=="N/A"&&v.fauna!=="None"&&n.jsxs("span",{className:v.fauna==="Rich"?"text-yellow-400":"",children:["Fauna: ",v.fauna]}),v.flora&&v.flora!=="N/A"&&v.flora!=="None"&&n.jsxs("span",{className:v.flora==="Rich"?"text-green-400":"",children:["Flora: ",v.flora]})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("div",{className:"text-2xl",children:g[_]?"":"+"})})]})}),g[_]&&n.jsxs("div",{className:"p-4 bg-gray-900/50",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4",children:[v.biome&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Biome"}),n.jsx("div",{className:"text-green-400 font-medium",children:v.biome})]}),v.biome_subtype&&v.biome_subtype!=="None_"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Biome Subtype"}),n.jsx("div",{children:v.biome_subtype})]}),v.planet_size&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Size"}),n.jsx("div",{children:v.planet_size})]}),v.is_moon===1&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Type"}),n.jsx("div",{className:"text-purple-400",children:"Moon"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Sentinel Level"}),n.jsx("div",{className:(v.sentinel||v.sentinel_level)==="Aggressive"?"text-red-400":(v.sentinel||v.sentinel_level)==="High"?"text-orange-400":(v.sentinel||v.sentinel_level)==="Low"?"text-green-400":"",children:v.sentinel||v.sentinel_level||"Unknown"})]}),v.sentinels_text&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Sentinel Info"}),n.jsx("div",{className:"text-sm",children:v.sentinels_text})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Fauna"}),n.jsxs("div",{className:v.fauna==="Rich"?"text-yellow-400":v.fauna==="Average"?"text-blue-300":"",children:[v.fauna||"N/A",v.fauna_count>0&&` (${v.fauna_count} species)`]})]}),v.fauna_text&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Fauna Info"}),n.jsx("div",{className:"text-sm",children:v.fauna_text})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Flora"}),n.jsxs("div",{className:v.flora==="Rich"?"text-green-400":v.flora==="Average"?"text-blue-300":"",children:[v.flora||"N/A",v.flora_count>0&&` (${v.flora_count} species)`]})]}),v.flora_text&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Flora Info"}),n.jsx("div",{className:"text-sm",children:v.flora_text})]}),v.climate&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Climate"}),n.jsx("div",{children:v.climate})]}),v.weather&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Weather"}),n.jsx("div",{className:"text-blue-300",children:v.weather})]}),v.weather_text&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Weather Info"}),n.jsx("div",{className:"text-sm",children:v.weather_text})]}),v.storm_frequency&&v.storm_frequency!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Storm Frequency"}),n.jsx("div",{className:v.storm_frequency==="Always"?"text-red-400":v.storm_frequency==="High"?"text-orange-400":v.storm_frequency==="Low"?"text-yellow-400":"",children:v.storm_frequency})]}),v.weather_intensity&&v.weather_intensity!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Weather Intensity"}),n.jsx("div",{className:v.weather_intensity==="Extreme"?"text-red-400":"",children:v.weather_intensity})]}),v.building_density&&v.building_density!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Building Density"}),n.jsx("div",{children:v.building_density})]}),v.has_water===1&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Water"}),n.jsx("div",{className:"text-cyan-400",children:"Present"})]})]}),(v.hazard_temperature!==0||v.hazard_radiation!==0||v.hazard_toxicity!==0)&&n.jsxs("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-800/50 rounded",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-2 font-semibold",children:"Environmental Hazards"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[v.hazard_temperature!==0&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Temperature"}),n.jsxs("div",{className:v.hazard_temperature>0?"text-orange-400":"text-cyan-400",children:[v.hazard_temperature>0?"+":"",v.hazard_temperature?.toFixed(1),""]})]}),v.hazard_radiation!==0&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Radiation"}),n.jsxs("div",{className:"text-yellow-400",children:[v.hazard_radiation?.toFixed(1)," rad"]})]}),v.hazard_toxicity!==0&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Toxicity"}),n.jsxs("div",{className:"text-green-500",children:[v.hazard_toxicity?.toFixed(1)," tox"]})]})]})]}),(v.common_resource||v.uncommon_resource||v.rare_resource||v.materials)&&n.jsxs("div",{className:"mb-4 p-3 bg-blue-900/20 border border-blue-800/50 rounded",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-2 font-semibold",children:"Resources"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[v.common_resource&&v.common_resource!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Common"}),n.jsx("div",{className:"text-gray-300",children:v.common_resource})]}),v.uncommon_resource&&v.uncommon_resource!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Uncommon"}),n.jsx("div",{className:"text-blue-300",children:v.uncommon_resource})]}),v.rare_resource&&v.rare_resource!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Rare"}),n.jsx("div",{className:"text-purple-400",children:v.rare_resource})]}),v.materials&&n.jsxs("div",{className:"col-span-2 md:col-span-3",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"All Materials"}),n.jsx("div",{children:v.materials})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[v.base_location&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Base Location"}),n.jsx("div",{children:v.base_location})]}),v.description&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Description"}),n.jsx("div",{className:"text-gray-300",children:v.description})]})]}),v.notes&&n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Notes"}),n.jsx("div",{className:"text-sm text-gray-300",children:v.notes})]}),v.photo&&n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Photo"}),n.jsx("img",{src:Hy(v.photo),alt:v.name,className:"w-full max-w-md rounded border border-gray-700"})]}),v.moons&&v.moons.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("h4",{className:"font-semibold mb-2 text-cyan-400",children:["Moons (",v.moons.length,")"]}),n.jsx("div",{className:"space-y-2",children:v.moons.map((j,O)=>n.jsxs("div",{className:"bg-gray-800 p-3 rounded border border-cyan-800",children:[n.jsx("div",{className:"font-medium mb-2",children:j.name}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Sentinel"}),n.jsx("div",{children:j.sentinel||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Fauna"}),n.jsx("div",{children:j.fauna||"N/A"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Flora"}),n.jsx("div",{children:j.flora||"N/A"})]}),j.climate&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Climate"}),n.jsx("div",{children:j.climate})]}),j.materials&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Materials"}),n.jsx("div",{children:j.materials})]})]}),j.description&&n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Description"}),n.jsx("div",{className:"text-sm text-gray-300",children:j.description})]}),j.notes&&n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Notes"}),n.jsx("div",{className:"text-sm text-gray-300",children:j.notes})]})]},O))})]})]})]},_))})]})]}):n.jsx("div",{className:"p-6",children:n.jsxs(Ee,{children:[n.jsx("div",{className:"text-center py-8",children:"System not found"}),n.jsx("div",{className:"text-center mt-4",children:n.jsx(te,{onClick:()=>s("/systems"),children:"Back to Systems"})})]})})}function Qe({title:r,children:s,onClose:i,isOpen:o=!0}){return o?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4 overflow-y-auto",children:n.jsxs("div",{className:"p-6 rounded shadow max-w-3xl w-full my-4 max-h-[90vh] flex flex-col",style:{backgroundColor:"var(--app-card)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[n.jsx("div",{className:"font-semibold text-lg",children:r}),n.jsx("button",{onClick:i,className:"px-2 py-1 rounded",style:{backgroundColor:"var(--app-accent-3)",color:"#fff"},children:"Close"})]}),n.jsx("div",{className:"overflow-y-auto flex-1",children:s})]})}):null}const Gy=["Lush","Toxic","Scorched","Radioactive","Frozen","Barren","Dead","Exotic","Marsh","Volcanic","Waterworld","Gas Giant","Infested","Mega Exotic","Chromatic Red","Chromatic Green","Chromatic Blue"],ec={Lush:"Lush",Paradise:"Lush",Temperate:"Lush",Tropical:"Lush",Verdant:"Lush",Viridescent:"Lush",Humid:"Lush",Overgrown:"Lush",Flourishing:"Lush",Grassy:"Lush",Bountiful:"Lush",Rainy:"Lush",Frozen:"Frozen",Icy:"Frozen",Arctic:"Frozen",Glacial:"Frozen",Icebound:"Frozen",Frostbound:"Frozen",Freezing:"Frozen","Sub-Zero":"Frozen","Sub-zero":"Frozen",Hiemal:"Frozen",Hyperborean:"Frozen",Toxic:"Toxic",Poisonous:"Toxic",Noxious:"Toxic",Corrosive:"Toxic",Acidic:"Toxic",Caustic:"Toxic",Acrid:"Toxic",Blighted:"Toxic",Miasmatic:"Toxic",Rotting:"Toxic",Scorched:"Scorched",Hot:"Scorched",Fiery:"Scorched",Boiling:"Scorched",Torrid:"Scorched",Incandescent:"Scorched",Scalding:"Scorched",Charred:"Scorched",Arid:"Scorched","High Temperature":"Scorched",Radioactive:"Radioactive",Irradiated:"Radioactive",Nuclear:"Radioactive",Isotopic:"Radioactive",Contaminated:"Radioactive","Decaying Nuclear":"Radioactive","Gamma Intensive":"Radioactive","Gamma-Intensive":"Radioactive","High Radio Source":"Radioactive",Supercritical:"Radioactive","High Energy":"Radioactive",Barren:"Barren",Desert:"Barren",Rocky:"Barren",Bleak:"Barren",Parched:"Barren",Dusty:"Barren",Desolate:"Barren","Wind-Swept":"Barren","Wind-swept":"Barren",Abandoned:"Barren",Dead:"Dead",Empty:"Dead",Lifeless:"Dead",Forsaken:"Dead","Life-Incompatible":"Dead","Low Atmosphere":"Dead",Airless:"Dead","Terraforming Catastrophe":"Dead",Marsh:"Marsh",Marshy:"Marsh",Swamp:"Marsh",Boggy:"Marsh",Foggy:"Marsh",Misty:"Marsh",Hazy:"Marsh",Murky:"Marsh",Damp:"Marsh",Quagmire:"Marsh",Reeking:"Marsh",Vapour:"Marsh",Cloudy:"Marsh","Endless Morass":"Marsh",Volcanic:"Volcanic",Lava:"Volcanic",Magma:"Volcanic",Erupting:"Volcanic",Molten:"Volcanic",Ashen:"Volcanic","Ash-shrouded":"Volcanic","Ash-Shrouded":"Volcanic",Tectonic:"Volcanic",Basalt:"Volcanic","Flame-Ruptured":"Volcanic",Unstable:"Volcanic",Violent:"Volcanic","Imminent Core Detonation":"Volcanic","Obsidian Bead":"Volcanic",Exotic:"Exotic",Weird:"Exotic",Fissured:"Exotic","Of Light":"Exotic",Breached:"Exotic",Rattling:"Exotic",Spined:"Exotic",Skeletal:"Exotic",Bubbling:"Exotic",Frothing:"Exotic",Foaming:"Exotic",Contoured:"Exotic",Cabled:"Exotic",Webbed:"Exotic",Mechanical:"Exotic",Metallic:"Exotic",Metallurgic:"Exotic",Hexagonal:"Exotic",Plated:"Exotic",Scaly:"Exotic",Fungal:"Exotic",Sporal:"Exotic",Capped:"Exotic",Finned:"Exotic",Bladed:"Exotic","Shell-Strewn":"Exotic",Ossified:"Exotic",Petrified:"Exotic",Calcified:"Exotic",Columned:"Exotic",Sharded:"Exotic",Pillared:"Exotic",Shattered:"Exotic",Fractured:"Exotic",Fragmented:"Exotic","Planetary Anomaly":"Exotic",Malfunctioning:"Exotic","[REDACTED]":"Exotic",Glassy:"Exotic",Thirsty:"Exotic",Doomed:"Exotic",Erased:"Exotic",Temporary:"Exotic",Corrupted:"Exotic",Crimson:"Chromatic Red","Lost Red":"Chromatic Red","Vermillion Globe":"Chromatic Red",Scarlet:"Chromatic Red",Blood:"Chromatic Red","Wine Dark":"Chromatic Red","Lost Green":"Chromatic Green","Vile Anomaly":"Chromatic Green","Toxic Anomaly":"Chromatic Green","Doomed Jade":"Chromatic Green","Haunted Emeril":"Chromatic Green","Deathly Green Anomaly":"Chromatic Green","Lost Blue":"Chromatic Blue","Harsh Blue Globe":"Chromatic Blue","Frozen Anomaly":"Chromatic Blue",Azure:"Chromatic Blue",Cerulean:"Chromatic Blue",Ultramarine:"Chromatic Blue","Chromatic Fog":"Mega Exotic","Stellar Corruption":"Mega Exotic","Stellar Corruption Detected":"Mega Exotic",Infested:"Infested","The Nest":"Infested","Xeno-Colony":"Infested","Worm-Ridden":"Infested","Worm-ridden":"Infested","Infested Paradise":"Infested","Boiling Doom":"Infested","Fiery Dreadworld":"Infested","Icy Abhorrence":"Infested","Frozen Hell":"Infested","Caustic Nightmare":"Infested","Toxic Horror":"Infested","Radioactive Abomination":"Infested",Mutated:"Infested","Mutating Relic":"Infested",Terrorsphere:"Infested","Infected Dustbowl":"Infested",Tainted:"Infested",Waterworld:"Waterworld",Drowning:"Waterworld",Endless:"Waterworld","Gas Giant":"Gas Giant",Ruined:"Dead","Ruined Dustbowl":"Barren","Bleached Ruin":"Dead","Scorched Relic":"Scorched","Overgrown Relic":"Lush","Abandoned Crucible":"Scorched","Abandoned Paradise":"Lush","Claimed By Decay":"Dead","Lost To Fire":"Scorched"},mf={Lush:"bg-green-500",Frozen:"bg-cyan-400",Toxic:"bg-lime-500",Scorched:"bg-orange-500",Radioactive:"bg-yellow-400",Barren:"bg-amber-600",Dead:"bg-gray-500",Marsh:"bg-teal-500",Volcanic:"bg-red-600",Exotic:"bg-purple-500","Mega Exotic":"bg-pink-500","Chromatic Red":"bg-red-500","Chromatic Green":"bg-emerald-500","Chromatic Blue":"bg-blue-500",Infested:"bg-rose-700",Waterworld:"bg-sky-500","Gas Giant":"bg-indigo-400",Unknown:"bg-gray-600"};function qy(r){if(!r)return"Unknown";if(ec[r])return ec[r];const s=r.trim();for(const[i,o]of Object.entries(ec))if(i.toLowerCase()===s.toLowerCase())return o;return Gy.includes(s)?s:(s.startsWith("Unknown"),"Unknown")}function Ky(r){return mf[r]||mf.Unknown}function Yy(r){const s={};for(const[i,o]of Object.entries(r)){const l=qy(i);s[l]=(s[l]||0)+o}return s}function Qy(r,s){const[i,o]=x.useState(r);return x.useEffect(()=>{const l=setTimeout(()=>o(r),s);return()=>clearTimeout(l)},[r,s]),i}function Xy(r){if(!r)return null;if(r.startsWith("http"))return r;const i=r.replace(/\\/g,"/").split("/"),o=i[i.length-1];return`/haven-ui-photos/${encodeURIComponent(o)}`}function Zy(r){if(!r)return null;const i={Yellow:"bg-yellow-500 text-black",Red:"bg-red-500 text-white",Green:"bg-green-500 text-white",Blue:"bg-blue-500 text-white",Purple:"bg-purple-500 text-white"}[r]||"bg-gray-500 text-white";return n.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${i}`,children:r})}function Jy(r){if(!r)return null;if(r==="personal")return n.jsx("span",{className:"text-xs bg-fuchsia-600 text-white px-1.5 py-0.5 rounded",children:"Personal"});const i={Haven:"bg-cyan-500 text-white",IEA:"bg-green-500 text-white","B.E.S":"bg-orange-500 text-white",ARCH:"bg-purple-500 text-white",TBH:"bg-yellow-500 text-black",EVRN:"bg-pink-500 text-white"}[r]||"bg-indigo-500 text-white";return n.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${i}`,children:r})}function eb({system:r,isSelected:s,onSelect:i,showCheckbox:o,onClick:l}){const u=Xy(r.photo||r.planets?.[0]?.photo);return n.jsxs("div",{className:`relative rounded-lg border transition-all cursor-pointer hover:shadow-lg ${s?"border-indigo-500 bg-indigo-900/30 ring-2 ring-indigo-400":"border-gray-700 bg-gray-800/50 hover:bg-gray-700/50 hover:border-gray-600"}`,onClick:l,children:[o&&n.jsx("div",{className:"absolute top-2 left-2 z-10",onClick:m=>m.stopPropagation(),children:n.jsx("input",{type:"checkbox",checked:s,onChange:i,className:"w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),n.jsx("div",{className:"h-32 bg-gray-900 rounded-t-lg overflow-hidden",children:u?n.jsx("img",{src:u,alt:r.name,className:"w-full h-full object-cover",loading:"lazy"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-600",children:n.jsx(Bc,{className:"w-12 h-12"})})}),n.jsxs("div",{className:"p-3",children:[n.jsx("h3",{className:"font-semibold text-lg truncate mb-2",title:r.name,children:r.name}),n.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[Zy(r.star_type),n.jsx("span",{className:"text-xs bg-blue-600/50 text-blue-200 px-1.5 py-0.5 rounded",children:r.galaxy||"Euclid"}),Jy(r.discord_tag)]}),n.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-3",children:[n.jsxs("span",{children:[r.planets?.length||r.planet_count||0," planets"]}),r.glyph_code&&n.jsxs("span",{className:"font-mono text-purple-400 text-xs truncate",title:r.glyph_code,children:[r.glyph_code.substring(0,8),"..."]})]})]})]})}function tb(){const{rx:r,ry:s,rz:i}=$c(),o=sn(),l=x.useContext(ft),[u,m]=x.useState(null),[h,f]=x.useState([]),[g,y]=x.useState(!0),[b,S]=x.useState(null),[C,v]=x.useState([]),[_,j]=x.useState(""),O=Qy(_,300),[P,I]=x.useState("all"),[F,E]=x.useState("all"),[D,W]=x.useState("all"),[$,Q]=x.useState("name"),[le,re]=x.useState("asc"),[z,he]=x.useState(!1),[oe,me]=x.useState(new Set),[U,se]=x.useState(!1),[K,B]=x.useState(!1),[Y,N]=x.useState(""),[k,X]=x.useState(!1);x.useEffect(()=>{ie()},[r,s,i]),x.useEffect(()=>{ce.get("/api/discord_tags").then(ue=>{v(ue.data.tags||[])}).catch(()=>{})},[]);async function ie(){y(!0),S(null);try{const[ue,Se]=await Promise.all([ce.get(`/api/regions/${r}/${s}/${i}`),ce.get(`/api/regions/${r}/${s}/${i}/systems?include_planets=true&limit=500`)]);m(ue.data),f(Se.data.systems||[])}catch(ue){S(ue.response?.data?.detail||"Failed to load region data")}finally{y(!1)}}const de=x.useMemo(()=>{let ue=0,Se=0,Ae=0;const Me=new Set,tt={},it={},lt={};h.forEach(ln=>{Me.add(ln.galaxy||"Euclid");const ar=ln.star_type||"Unknown";lt[ar]=(lt[ar]||0)+1;const ir=ln.economy_type||"Unknown";it[ir]=(it[ir]||0)+1,Ae+=ln.discoveries?.length||0;const lr=ln.planets||[];ue+=lr.length,lr.forEach(Mn=>{Se+=Mn.moons?.length||0;const jn=Mn.biome||"Unknown";tt[jn]=(tt[jn]||0)+1})});const sr=Yy(tt);return{systemCount:h.length,planetCount:ue,moonCount:Se,discoveryCount:Ae,galaxies:Array.from(Me),biomeDistribution:sr,rawBiomeDistribution:tt,economyDistribution:it,starTypeDistribution:lt}},[h]),T=x.useMemo(()=>{const ue=new Set,Se=new Set;return h.forEach(Ae=>{Ae.galaxy&&ue.add(Ae.galaxy),Ae.star_type&&Se.add(Ae.star_type)}),{galaxies:Array.from(ue).sort(),starTypes:Array.from(Se).sort()}},[h]),J=x.useMemo(()=>{let ue=[...h];if(O.trim()){const Se=O.toLowerCase();ue=ue.filter(Ae=>Ae.name?.toLowerCase().includes(Se)||Ae.glyph_code?.toLowerCase().includes(Se)||Ae.description?.toLowerCase().includes(Se))}return P!=="all"&&(ue=ue.filter(Se=>Se.galaxy===P)),F!=="all"&&(ue=ue.filter(Se=>Se.star_type===F)),D!=="all"&&(D==="untagged"?ue=ue.filter(Se=>!Se.discord_tag):ue=ue.filter(Se=>Se.discord_tag===D)),ue.sort((Se,Ae)=>{let Me=0;switch($){case"name":Me=(Se.name||"").localeCompare(Ae.name||"");break;case"date":Me=new Date(Se.created_at||0)-new Date(Ae.created_at||0);break;case"planets":Me=(Se.planets?.length||0)-(Ae.planets?.length||0);break;default:Me=0}return le==="asc"?Me:-Me}),ue},[h,O,P,F,D,$,le]);function fe(ue){me(Se=>{const Ae=new Set(Se);return Ae.has(ue)?Ae.delete(ue):Ae.add(ue),Ae})}function Te(){me(new Set(J.map(ue=>ue.id)))}function at(){me(new Set)}function Ct(){he(!1),me(new Set)}async function Ge(ue){if(ue.preventDefault(),!!Y.trim()){X(!0);try{l?.isSuperAdmin?await ce.put(`/api/regions/${r}/${s}/${i}`,{custom_name:Y.trim()}):await ce.post(`/api/regions/${r}/${s}/${i}/submit`,{proposed_name:Y.trim()}),B(!1),N(""),ie(),alert(l?.isSuperAdmin?"Region name updated!":"Name submitted for approval!")}catch(Se){alert("Failed: "+(Se.response?.data?.detail||Se.message))}finally{X(!1)}}}function _t({title:ue,data:Se,colorFn:Ae}){const Me=Object.entries(Se).sort((it,lt)=>lt[1]-it[1]),tt=Me.reduce((it,[,lt])=>it+lt,0);return tt===0?null:n.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[n.jsx("h4",{className:"text-sm font-semibold mb-2 text-gray-300",children:ue}),n.jsxs("div",{className:"space-y-1",children:[Me.slice(0,5).map(([it,lt])=>n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[n.jsx("span",{className:"text-gray-400",children:it}),n.jsx("span",{className:"text-gray-500",children:lt})]}),n.jsx("div",{className:"h-1.5 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${Ae?Ae(it):"bg-cyan-500"}`,style:{width:`${lt/tt*100}%`}})})]})},it)),Me.length>5&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",Me.length-5," more"]})]})]})}function an({data:ue}){const Se=Object.entries(ue).sort((Me,tt)=>tt[1]-Me[1]),Ae=Se.reduce((Me,[,tt])=>Me+tt,0);return Ae===0?null:n.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[n.jsx("h4",{className:"text-sm font-semibold mb-2 text-gray-300",children:"Biomes"}),n.jsx("div",{className:"max-h-64 overflow-y-auto pr-1 space-y-1 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:Se.map(([Me,tt])=>n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[n.jsx("span",{className:"text-gray-400",children:Me}),n.jsx("span",{className:"text-gray-500",children:tt})]}),n.jsx("div",{className:"h-1.5 bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full ${Ky(Me)}`,style:{width:`${tt/Ae*100}%`}})})]})},Me))}),n.jsxs("div",{className:"text-xs text-gray-500 mt-2 pt-2 border-t border-gray-700",children:[Se.length," biome categories | ",Ae," total planets"]})]})}return g?n.jsx("div",{className:"p-6",children:n.jsx(Ee,{children:n.jsx("div",{className:"text-center py-8",children:"Loading region..."})})}):b?n.jsx("div",{className:"p-6",children:n.jsxs(Ee,{children:[n.jsx("div",{className:"text-center py-8 text-red-500",children:b}),n.jsx("div",{className:"text-center mt-4",children:n.jsx(te,{onClick:()=>o("/systems"),children:"Back to Systems"})})]})}):(u?.custom_name||`${r}${s}${i}`,n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx(Ee,{className:"mb-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-1",children:u?.custom_name?n.jsx("span",{className:"text-purple-400",children:u.custom_name}):n.jsxs("span",{className:"text-gray-300",children:["Region (",r,", ",s,", ",i,")"]})}),n.jsxs("div",{className:"text-sm text-gray-400",children:["Coordinates: [",r,", ",s,", ",i,"]",u?.pending_name&&n.jsxs("span",{className:"ml-3 text-yellow-400",children:['Pending name: "',u.pending_name.proposed_name,'"']})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("a",{href:`/map/region?rx=${r}&ry=${s}&rz=${i}`,target:"_blank",rel:"noopener noreferrer",children:n.jsxs(te,{className:"bg-cyan-600 hover:bg-cyan-700",children:[n.jsx(Bc,{className:"w-4 h-4 mr-1 inline"}),"3D Map"]})}),n.jsxs(te,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>{N(u?.custom_name||""),B(!0)},children:[n.jsx(Ay,{className:"w-4 h-4 mr-1 inline"}),u?.custom_name?"Edit Name":"Set Name"]}),n.jsx(te,{className:"bg-gray-600 hover:bg-gray-700",onClick:()=>o("/systems"),children:"Back"})]})]})}),n.jsxs(Ee,{className:"mb-4",children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"text-center p-3 bg-gray-800 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:de.systemCount}),n.jsx("div",{className:"text-xs text-gray-400",children:"Systems"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-800 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-green-400",children:de.planetCount}),n.jsx("div",{className:"text-xs text-gray-400",children:"Planets"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-800 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:de.moonCount}),n.jsx("div",{className:"text-xs text-gray-400",children:"Moons"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-800 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:de.discoveryCount}),n.jsx("div",{className:"text-xs text-gray-400",children:"Discoveries"})]}),n.jsxs("div",{className:"text-center p-3 bg-gray-800 rounded",children:[n.jsx("div",{className:"text-lg font-bold text-blue-400",children:de.galaxies.join(", ")}),n.jsx("div",{className:"text-xs text-gray-400",children:"Galaxies"})]})]}),n.jsx("button",{className:"w-full mt-3 py-2 text-sm text-gray-400 hover:text-white flex items-center justify-center gap-1",onClick:()=>se(!U),children:U?n.jsxs(n.Fragment,{children:["Hide Breakdown ",n.jsx(Ny,{className:"w-4 h-4"})]}):n.jsxs(n.Fragment,{children:["Show Breakdown ",n.jsx(jy,{className:"w-4 h-4"})]})}),U&&n.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(an,{data:de.biomeDistribution}),n.jsx(_t,{title:"Star Types",data:de.starTypeDistribution,colorFn:ue=>({Yellow:"bg-yellow-500",Red:"bg-red-500",Green:"bg-green-500",Blue:"bg-blue-500",Purple:"bg-purple-500"})[ue]||"bg-gray-500"}),n.jsx(_t,{title:"Economy Types",data:de.economyDistribution,colorFn:()=>"bg-emerald-500"})]})]}),n.jsxs(Ee,{className:"mb-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",placeholder:"Search systems...",value:_,onChange:ue=>j(ue.target.value),className:"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 focus:border-cyan-500 focus:outline-none"})}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("select",{value:P,onChange:ue=>I(ue.target.value),className:"px-3 py-2 rounded bg-gray-800 border border-gray-700 text-sm",children:[n.jsx("option",{value:"all",children:"All Galaxies"}),T.galaxies.map(ue=>n.jsx("option",{value:ue,children:ue},ue))]}),n.jsxs("select",{value:F,onChange:ue=>E(ue.target.value),className:"px-3 py-2 rounded bg-gray-800 border border-gray-700 text-sm",children:[n.jsx("option",{value:"all",children:"All Stars"}),T.starTypes.map(ue=>n.jsx("option",{value:ue,children:ue},ue))]}),n.jsxs("select",{value:D,onChange:ue=>W(ue.target.value),className:"px-3 py-2 rounded bg-gray-800 border border-gray-700 text-sm",children:[n.jsx("option",{value:"all",children:"All Tags"}),n.jsx("option",{value:"untagged",children:"Untagged"}),C.map(ue=>n.jsx("option",{value:ue.tag,children:ue.name},ue.tag))]}),n.jsxs("select",{value:`${$}-${le}`,onChange:ue=>{const[Se,Ae]=ue.target.value.split("-");Q(Se),re(Ae)},className:"px-3 py-2 rounded bg-gray-800 border border-gray-700 text-sm",children:[n.jsx("option",{value:"name-asc",children:"Name A-Z"}),n.jsx("option",{value:"name-desc",children:"Name Z-A"}),n.jsx("option",{value:"date-desc",children:"Newest First"}),n.jsx("option",{value:"date-asc",children:"Oldest First"}),n.jsx("option",{value:"planets-desc",children:"Most Planets"}),n.jsx("option",{value:"planets-asc",children:"Fewest Planets"})]})]})]}),l?.isAdmin&&n.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-gray-700 pt-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{className:z?"bg-amber-600 hover:bg-amber-700":"bg-indigo-600 hover:bg-indigo-700",onClick:()=>z?Ct():he(!0),children:z?"Exit Bulk Mode":"Bulk Mode"}),z&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-sm text-gray-400",children:[oe.size," selected"]}),n.jsx("button",{onClick:Te,className:"text-sm text-indigo-400 hover:text-indigo-300 underline",children:"Select All"}),oe.size>0&&n.jsx("button",{onClick:at,className:"text-sm text-gray-400 hover:text-white underline",children:"Clear"})]})]}),z&&oe.size>0&&n.jsx("div",{className:"flex gap-2",children:n.jsxs(te,{className:"bg-red-600 hover:bg-red-700 text-sm",children:["Delete (",oe.size,")"]})})]})]}),n.jsxs("div",{className:"mb-3 text-sm text-gray-400",children:["Showing ",J.length," of ",h.length," systems",O&&` matching "${O}"`]}),J.length===0?n.jsx(Ee,{children:n.jsx("div",{className:"text-center py-8 text-gray-400",children:h.length===0?"No systems in this region":"No systems match your filters"})}):n.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:J.map(ue=>n.jsx(eb,{system:ue,isSelected:oe.has(ue.id),onSelect:()=>fe(ue.id),showCheckbox:z,onClick:()=>{z||o(`/systems/${encodeURIComponent(ue.id)}`)}},ue.id))}),K&&n.jsx(Qe,{title:u?.custom_name?"Edit Region Name":"Set Region Name",onClose:()=>B(!1),children:n.jsxs("form",{onSubmit:Ge,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Region Name"}),n.jsx("input",{type:"text",value:Y,onChange:ue=>N(ue.target.value),placeholder:"Enter region name...",className:"w-full px-3 py-2 rounded border border-gray-600 bg-gray-800 focus:border-purple-500 focus:outline-none",autoFocus:!0}),!l?.isSuperAdmin&&n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Your submission will be reviewed before approval."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{type:"submit",className:"bg-purple-600 hover:bg-purple-700",disabled:k||!Y.trim(),children:k?"Submitting...":l?.isSuperAdmin?"Save":"Submit for Approval"}),n.jsx(te,{type:"button",className:"bg-gray-600 hover:bg-gray-700",onClick:()=>B(!1),disabled:k,children:"Cancel"})]})]})})]}))}async function nb(){const r=await fetch("/api/admin/status",{method:"GET",credentials:"same-origin"});if(!r.ok)throw new Error(await r.text());return await r.json()}async function Fp(r){const s=new FormData;s.append("file",r);const i=await fetch("/api/photos",{method:"POST",credentials:"same-origin",body:s});if(!i.ok)throw new Error(await i.text());return await i.json()}function Tr(r){"@babel/helpers - typeof";return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Tr(r)}function rb(r,s){if(Tr(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,s);if(Tr(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}function Lp(r){var s=rb(r,"string");return Tr(s)=="symbol"?s:s+""}function na(r,s,i){return(s=Lp(s))in r?Object.defineProperty(r,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[s]=i,r}function ff(r,s){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);s&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),i.push.apply(i,o)}return i}function Ne(r){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?arguments[s]:{};s%2?ff(Object(i),!0).forEach(function(o){na(r,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):ff(Object(i)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(i,o))})}return r}function sb(r){if(Array.isArray(r))return r}function ab(r,s){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var o,l,u,m,h=[],f=!0,g=!1;try{if(u=(i=i.call(r)).next,s===0){if(Object(i)!==i)return;f=!1}else for(;!(f=(o=u.call(i)).done)&&(h.push(o.value),h.length!==s);f=!0);}catch(y){g=!0,l=y}finally{try{if(!f&&i.return!=null&&(m=i.return(),Object(m)!==m))return}finally{if(g)throw l}}return h}}function jc(r,s){(s==null||s>r.length)&&(s=r.length);for(var i=0,o=Array(s);i<s;i++)o[i]=r[i];return o}function $p(r,s){if(r){if(typeof r=="string")return jc(r,s);var i={}.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?jc(r,s):void 0}}function ib(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pn(r,s){return sb(r)||ab(r,s)||$p(r,s)||ib()}function lb(r,s){if(r==null)return{};var i={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(s.indexOf(o)!==-1)continue;i[o]=r[o]}return i}function An(r,s){if(r==null)return{};var i,o,l=lb(r,s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)i=u[o],s.indexOf(i)===-1&&{}.propertyIsEnumerable.call(r,i)&&(l[i]=r[i])}return l}var ob=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function cb(r){var s=r.defaultInputValue,i=s===void 0?"":s,o=r.defaultMenuIsOpen,l=o===void 0?!1:o,u=r.defaultValue,m=u===void 0?null:u,h=r.inputValue,f=r.menuIsOpen,g=r.onChange,y=r.onInputChange,b=r.onMenuClose,S=r.onMenuOpen,C=r.value,v=An(r,ob),_=x.useState(h!==void 0?h:i),j=Pn(_,2),O=j[0],P=j[1],I=x.useState(f!==void 0?f:l),F=Pn(I,2),E=F[0],D=F[1],W=x.useState(C!==void 0?C:m),$=Pn(W,2),Q=$[0],le=$[1],re=x.useCallback(function(K,B){typeof g=="function"&&g(K,B),le(K)},[g]),z=x.useCallback(function(K,B){var Y;typeof y=="function"&&(Y=y(K,B)),P(Y!==void 0?Y:K)},[y]),he=x.useCallback(function(){typeof S=="function"&&S(),D(!0)},[S]),oe=x.useCallback(function(){typeof b=="function"&&b(),D(!1)},[b]),me=h!==void 0?h:O,U=f!==void 0?f:E,se=C!==void 0?C:Q;return Ne(Ne({},v),{},{inputValue:me,menuIsOpen:U,onChange:re,onInputChange:z,onMenuClose:oe,onMenuOpen:he,value:se})}function Ce(){return Ce=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var o in i)({}).hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},Ce.apply(null,arguments)}function ub(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}function pf(r,s){for(var i=0;i<s.length;i++){var o=s[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,Lp(o.key),o)}}function db(r,s,i){return s&&pf(r.prototype,s),i&&pf(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}function wc(r,s){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},wc(r,s)}function mb(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),s&&wc(r,s)}function Bi(r){return Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Bi(r)}function Bp(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bp=function(){return!!r})()}function fb(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function pb(r,s){if(s&&(Tr(s)=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fb(r)}function hb(r){var s=Bp();return function(){var i,o=Bi(r);if(s){var l=Bi(this).constructor;i=Reflect.construct(o,arguments,l)}else i=o.apply(this,arguments);return pb(this,i)}}function gb(r){if(Array.isArray(r))return jc(r)}function xb(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function vb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zc(r){return gb(r)||xb(r)||$p(r)||vb()}function yb(r){if(r.sheet)return r.sheet;for(var s=0;s<document.styleSheets.length;s++)if(document.styleSheets[s].ownerNode===r)return document.styleSheets[s]}function bb(r){var s=document.createElement("style");return s.setAttribute("data-emotion",r.key),r.nonce!==void 0&&s.setAttribute("nonce",r.nonce),s.appendChild(document.createTextNode("")),s.setAttribute("data-s",""),s}var jb=(function(){function r(i){var o=this;this._insertTag=function(l){var u;o.tags.length===0?o.insertionPoint?u=o.insertionPoint.nextSibling:o.prepend?u=o.container.firstChild:u=o.before:u=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(l,u),o.tags.push(l)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var s=r.prototype;return s.hydrate=function(o){o.forEach(this._insertTag)},s.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bb(this));var l=this.tags[this.tags.length-1];if(this.isSpeedy){var u=yb(l);try{u.insertRule(o,u.cssRules.length)}catch{}}else l.appendChild(document.createTextNode(o));this.ctr++},s.flush=function(){this.tags.forEach(function(o){var l;return(l=o.parentNode)==null?void 0:l.removeChild(o)}),this.tags=[],this.ctr=0},r})(),jt="-ms-",zi="-moz-",Fe="-webkit-",zp="comm",Vc="rule",Uc="decl",wb="@import",Vp="@keyframes",Nb="@layer",Sb=Math.abs,tl=String.fromCharCode,Cb=Object.assign;function _b(r,s){return gt(r,0)^45?(((s<<2^gt(r,0))<<2^gt(r,1))<<2^gt(r,2))<<2^gt(r,3):0}function Up(r){return r.trim()}function kb(r,s){return(r=s.exec(r))?r[0]:r}function Le(r,s,i){return r.replace(s,i)}function Nc(r,s){return r.indexOf(s)}function gt(r,s){return r.charCodeAt(s)|0}function aa(r,s,i){return r.slice(s,i)}function vn(r){return r.length}function Hc(r){return r.length}function Ci(r,s){return s.push(r),r}function Eb(r,s){return r.map(s).join("")}var nl=1,os=1,Hp=0,Dt=0,st=0,ps="";function rl(r,s,i,o,l,u,m){return{value:r,root:s,parent:i,type:o,props:l,children:u,line:nl,column:os,length:m,return:""}}function ea(r,s){return Cb(rl("",null,null,"",null,null,0),r,{length:-r.length},s)}function Rb(){return st}function Pb(){return st=Dt>0?gt(ps,--Dt):0,os--,st===10&&(os=1,nl--),st}function zt(){return st=Dt<Hp?gt(ps,Dt++):0,os++,st===10&&(os=1,nl++),st}function bn(){return gt(ps,Dt)}function Ai(){return Dt}function ma(r,s){return aa(ps,r,s)}function ia(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Wp(r){return nl=os=1,Hp=vn(ps=r),Dt=0,[]}function Gp(r){return ps="",r}function Mi(r){return Up(ma(Dt-1,Sc(r===91?r+2:r===40?r+1:r)))}function Ob(r){for(;(st=bn())&&st<33;)zt();return ia(r)>2||ia(st)>3?"":" "}function Tb(r,s){for(;--s&&zt()&&!(st<48||st>102||st>57&&st<65||st>70&&st<97););return ma(r,Ai()+(s<6&&bn()==32&&zt()==32))}function Sc(r){for(;zt();)switch(st){case r:return Dt;case 34:case 39:r!==34&&r!==39&&Sc(st);break;case 40:r===41&&Sc(r);break;case 92:zt();break}return Dt}function Ab(r,s){for(;zt()&&r+st!==57;)if(r+st===84&&bn()===47)break;return"/*"+ma(s,Dt-1)+"*"+tl(r===47?r:zt())}function Mb(r){for(;!ia(bn());)zt();return ma(r,Dt)}function Db(r){return Gp(Di("",null,null,null,[""],r=Wp(r),0,[0],r))}function Di(r,s,i,o,l,u,m,h,f){for(var g=0,y=0,b=m,S=0,C=0,v=0,_=1,j=1,O=1,P=0,I="",F=l,E=u,D=o,W=I;j;)switch(v=P,P=zt()){case 40:if(v!=108&&gt(W,b-1)==58){Nc(W+=Le(Mi(P),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:W+=Mi(P);break;case 9:case 10:case 13:case 32:W+=Ob(v);break;case 92:W+=Tb(Ai()-1,7);continue;case 47:switch(bn()){case 42:case 47:Ci(Ib(Ab(zt(),Ai()),s,i),f);break;default:W+="/"}break;case 123*_:h[g++]=vn(W)*O;case 125*_:case 59:case 0:switch(P){case 0:case 125:j=0;case 59+y:O==-1&&(W=Le(W,/\f/g,"")),C>0&&vn(W)-b&&Ci(C>32?gf(W+";",o,i,b-1):gf(Le(W," ","")+";",o,i,b-2),f);break;case 59:W+=";";default:if(Ci(D=hf(W,s,i,g,y,l,h,I,F=[],E=[],b),u),P===123)if(y===0)Di(W,s,D,D,F,u,b,h,E);else switch(S===99&&gt(W,3)===110?100:S){case 100:case 108:case 109:case 115:Di(r,D,D,o&&Ci(hf(r,D,D,0,0,l,h,I,l,F=[],b),E),l,E,b,h,o?F:E);break;default:Di(W,D,D,D,[""],E,0,h,E)}}g=y=C=0,_=O=1,I=W="",b=m;break;case 58:b=1+vn(W),C=v;default:if(_<1){if(P==123)--_;else if(P==125&&_++==0&&Pb()==125)continue}switch(W+=tl(P),P*_){case 38:O=y>0?1:(W+="\f",-1);break;case 44:h[g++]=(vn(W)-1)*O,O=1;break;case 64:bn()===45&&(W+=Mi(zt())),S=bn(),y=b=vn(I=W+=Mb(Ai())),P++;break;case 45:v===45&&vn(W)==2&&(_=0)}}return u}function hf(r,s,i,o,l,u,m,h,f,g,y){for(var b=l-1,S=l===0?u:[""],C=Hc(S),v=0,_=0,j=0;v<o;++v)for(var O=0,P=aa(r,b+1,b=Sb(_=m[v])),I=r;O<C;++O)(I=Up(_>0?S[O]+" "+P:Le(P,/&\f/g,S[O])))&&(f[j++]=I);return rl(r,s,i,l===0?Vc:h,f,g,y)}function Ib(r,s,i){return rl(r,s,i,zp,tl(Rb()),aa(r,2,-2),0)}function gf(r,s,i,o){return rl(r,s,i,Uc,aa(r,0,o),aa(r,o+1,-1),o)}function is(r,s){for(var i="",o=Hc(r),l=0;l<o;l++)i+=s(r[l],l,r,s)||"";return i}function Fb(r,s,i,o){switch(r.type){case Nb:if(r.children.length)break;case wb:case Uc:return r.return=r.return||r.value;case zp:return"";case Vp:return r.return=r.value+"{"+is(r.children,o)+"}";case Vc:r.value=r.props.join(",")}return vn(i=is(r.children,o))?r.return=r.value+"{"+i+"}":""}function Lb(r){var s=Hc(r);return function(i,o,l,u){for(var m="",h=0;h<s;h++)m+=r[h](i,o,l,u)||"";return m}}function $b(r){return function(s){s.root||(s=s.return)&&r(s)}}function Bb(r){var s=Object.create(null);return function(i){return s[i]===void 0&&(s[i]=r(i)),s[i]}}var zb=function(s,i,o){for(var l=0,u=0;l=u,u=bn(),l===38&&u===12&&(i[o]=1),!ia(u);)zt();return ma(s,Dt)},Vb=function(s,i){var o=-1,l=44;do switch(ia(l)){case 0:l===38&&bn()===12&&(i[o]=1),s[o]+=zb(Dt-1,i,o);break;case 2:s[o]+=Mi(l);break;case 4:if(l===44){s[++o]=bn()===58?"&\f":"",i[o]=s[o].length;break}default:s[o]+=tl(l)}while(l=zt());return s},Ub=function(s,i){return Gp(Vb(Wp(s),i))},xf=new WeakMap,Hb=function(s){if(!(s.type!=="rule"||!s.parent||s.length<1)){for(var i=s.value,o=s.parent,l=s.column===o.column&&s.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(s.props.length===1&&i.charCodeAt(0)!==58&&!xf.get(o))&&!l){xf.set(s,!0);for(var u=[],m=Ub(i,u),h=o.props,f=0,g=0;f<m.length;f++)for(var y=0;y<h.length;y++,g++)s.props[g]=u[f]?m[f].replace(/&\f/g,h[y]):h[y]+" "+m[f]}}},Wb=function(s){if(s.type==="decl"){var i=s.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(s.return="",s.value="")}};function qp(r,s){switch(_b(r,s)){case 5103:return Fe+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fe+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Fe+r+zi+r+jt+r+r;case 6828:case 4268:return Fe+r+jt+r+r;case 6165:return Fe+r+jt+"flex-"+r+r;case 5187:return Fe+r+Le(r,/(\w+).+(:[^]+)/,Fe+"box-$1$2"+jt+"flex-$1$2")+r;case 5443:return Fe+r+jt+"flex-item-"+Le(r,/flex-|-self/,"")+r;case 4675:return Fe+r+jt+"flex-line-pack"+Le(r,/align-content|flex-|-self/,"")+r;case 5548:return Fe+r+jt+Le(r,"shrink","negative")+r;case 5292:return Fe+r+jt+Le(r,"basis","preferred-size")+r;case 6060:return Fe+"box-"+Le(r,"-grow","")+Fe+r+jt+Le(r,"grow","positive")+r;case 4554:return Fe+Le(r,/([^-])(transform)/g,"$1"+Fe+"$2")+r;case 6187:return Le(Le(Le(r,/(zoom-|grab)/,Fe+"$1"),/(image-set)/,Fe+"$1"),r,"")+r;case 5495:case 3959:return Le(r,/(image-set\([^]*)/,Fe+"$1$`$1");case 4968:return Le(Le(r,/(.+:)(flex-)?(.*)/,Fe+"box-pack:$3"+jt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fe+r+r;case 4095:case 3583:case 4068:case 2532:return Le(r,/(.+)-inline(.+)/,Fe+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vn(r)-1-s>6)switch(gt(r,s+1)){case 109:if(gt(r,s+4)!==45)break;case 102:return Le(r,/(.+:)(.+)-([^]+)/,"$1"+Fe+"$2-$3$1"+zi+(gt(r,s+3)==108?"$3":"$2-$3"))+r;case 115:return~Nc(r,"stretch")?qp(Le(r,"stretch","fill-available"),s)+r:r}break;case 4949:if(gt(r,s+1)!==115)break;case 6444:switch(gt(r,vn(r)-3-(~Nc(r,"!important")&&10))){case 107:return Le(r,":",":"+Fe)+r;case 101:return Le(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fe+(gt(r,14)===45?"inline-":"")+"box$3$1"+Fe+"$2$3$1"+jt+"$2box$3")+r}break;case 5936:switch(gt(r,s+11)){case 114:return Fe+r+jt+Le(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Fe+r+jt+Le(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Fe+r+jt+Le(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return Fe+r+jt+r+r}return r}var Gb=function(s,i,o,l){if(s.length>-1&&!s.return)switch(s.type){case Uc:s.return=qp(s.value,s.length);break;case Vp:return is([ea(s,{value:Le(s.value,"@","@"+Fe)})],l);case Vc:if(s.length)return Eb(s.props,function(u){switch(kb(u,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return is([ea(s,{props:[Le(u,/:(read-\w+)/,":"+zi+"$1")]})],l);case"::placeholder":return is([ea(s,{props:[Le(u,/:(plac\w+)/,":"+Fe+"input-$1")]}),ea(s,{props:[Le(u,/:(plac\w+)/,":"+zi+"$1")]}),ea(s,{props:[Le(u,/:(plac\w+)/,jt+"input-$1")]})],l)}return""})}},qb=[Gb],Kb=function(s){var i=s.key;if(i==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(_){var j=_.getAttribute("data-emotion");j.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var l=s.stylisPlugins||qb,u={},m,h=[];m=s.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(_){for(var j=_.getAttribute("data-emotion").split(" "),O=1;O<j.length;O++)u[j[O]]=!0;h.push(_)});var f,g=[Hb,Wb];{var y,b=[Fb,$b(function(_){y.insert(_)})],S=Lb(g.concat(l,b)),C=function(j){return is(Db(j),S)};f=function(j,O,P,I){y=P,C(j?j+"{"+O.styles+"}":O.styles),I&&(v.inserted[O.name]=!0)}}var v={key:i,sheet:new jb({key:i,container:m,nonce:s.nonce,speedy:s.speedy,prepend:s.prepend,insertionPoint:s.insertionPoint}),nonce:s.nonce,inserted:u,registered:{},insert:f};return v.sheet.hydrate(h),v},tc={exports:{}},$e={};var vf;function Yb(){if(vf)return $e;vf=1;var r=typeof Symbol=="function"&&Symbol.for,s=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,m=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,g=r?Symbol.for("react.concurrent_mode"):60111,y=r?Symbol.for("react.forward_ref"):60112,b=r?Symbol.for("react.suspense"):60113,S=r?Symbol.for("react.suspense_list"):60120,C=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,_=r?Symbol.for("react.block"):60121,j=r?Symbol.for("react.fundamental"):60117,O=r?Symbol.for("react.responder"):60118,P=r?Symbol.for("react.scope"):60119;function I(E){if(typeof E=="object"&&E!==null){var D=E.$$typeof;switch(D){case s:switch(E=E.type,E){case f:case g:case o:case u:case l:case b:return E;default:switch(E=E&&E.$$typeof,E){case h:case y:case v:case C:case m:return E;default:return D}}case i:return D}}}function F(E){return I(E)===g}return $e.AsyncMode=f,$e.ConcurrentMode=g,$e.ContextConsumer=h,$e.ContextProvider=m,$e.Element=s,$e.ForwardRef=y,$e.Fragment=o,$e.Lazy=v,$e.Memo=C,$e.Portal=i,$e.Profiler=u,$e.StrictMode=l,$e.Suspense=b,$e.isAsyncMode=function(E){return F(E)||I(E)===f},$e.isConcurrentMode=F,$e.isContextConsumer=function(E){return I(E)===h},$e.isContextProvider=function(E){return I(E)===m},$e.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===s},$e.isForwardRef=function(E){return I(E)===y},$e.isFragment=function(E){return I(E)===o},$e.isLazy=function(E){return I(E)===v},$e.isMemo=function(E){return I(E)===C},$e.isPortal=function(E){return I(E)===i},$e.isProfiler=function(E){return I(E)===u},$e.isStrictMode=function(E){return I(E)===l},$e.isSuspense=function(E){return I(E)===b},$e.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===o||E===g||E===u||E===l||E===b||E===S||typeof E=="object"&&E!==null&&(E.$$typeof===v||E.$$typeof===C||E.$$typeof===m||E.$$typeof===h||E.$$typeof===y||E.$$typeof===j||E.$$typeof===O||E.$$typeof===P||E.$$typeof===_)},$e.typeOf=I,$e}var yf;function Qb(){return yf||(yf=1,tc.exports=Yb()),tc.exports}var nc,bf;function Xb(){if(bf)return nc;bf=1;var r=Qb(),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[r.ForwardRef]=o,u[r.Memo]=l;function m(v){return r.isMemo(v)?l:u[v.$$typeof]||s}var h=Object.defineProperty,f=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,S=Object.prototype;function C(v,_,j){if(typeof _!="string"){if(S){var O=b(_);O&&O!==S&&C(v,O,j)}var P=f(_);g&&(P=P.concat(g(_)));for(var I=m(v),F=m(_),E=0;E<P.length;++E){var D=P[E];if(!i[D]&&!(j&&j[D])&&!(F&&F[D])&&!(I&&I[D])){var W=y(_,D);try{h(v,D,W)}catch{}}}}return v}return nc=C,nc}Xb();var Zb=!0;function Jb(r,s,i){var o="";return i.split(" ").forEach(function(l){r[l]!==void 0?s.push(r[l]+";"):l&&(o+=l+" ")}),o}var Kp=function(s,i,o){var l=s.key+"-"+i.name;(o===!1||Zb===!1)&&s.registered[l]===void 0&&(s.registered[l]=i.styles)},ej=function(s,i,o){Kp(s,i,o);var l=s.key+"-"+i.name;if(s.inserted[i.name]===void 0){var u=i;do s.insert(i===u?"."+l:"",u,s.sheet,!0),u=u.next;while(u!==void 0)}};function tj(r){for(var s=0,i,o=0,l=r.length;l>=4;++o,l-=4)i=r.charCodeAt(o)&255|(r.charCodeAt(++o)&255)<<8|(r.charCodeAt(++o)&255)<<16|(r.charCodeAt(++o)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,s=(i&65535)*1540483477+((i>>>16)*59797<<16)^(s&65535)*1540483477+((s>>>16)*59797<<16);switch(l){case 3:s^=(r.charCodeAt(o+2)&255)<<16;case 2:s^=(r.charCodeAt(o+1)&255)<<8;case 1:s^=r.charCodeAt(o)&255,s=(s&65535)*1540483477+((s>>>16)*59797<<16)}return s^=s>>>13,s=(s&65535)*1540483477+((s>>>16)*59797<<16),((s^s>>>15)>>>0).toString(36)}var nj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rj=/[A-Z]|^ms/g,sj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Yp=function(s){return s.charCodeAt(1)===45},jf=function(s){return s!=null&&typeof s!="boolean"},rc=Bb(function(r){return Yp(r)?r:r.replace(rj,"-$&").toLowerCase()}),wf=function(s,i){switch(s){case"animation":case"animationName":if(typeof i=="string")return i.replace(sj,function(o,l,u){return yn={name:l,styles:u,next:yn},l})}return nj[s]!==1&&!Yp(s)&&typeof i=="number"&&i!==0?i+"px":i};function la(r,s,i){if(i==null)return"";var o=i;if(o.__emotion_styles!==void 0)return o;switch(typeof i){case"boolean":return"";case"object":{var l=i;if(l.anim===1)return yn={name:l.name,styles:l.styles,next:yn},l.name;var u=i;if(u.styles!==void 0){var m=u.next;if(m!==void 0)for(;m!==void 0;)yn={name:m.name,styles:m.styles,next:yn},m=m.next;var h=u.styles+";";return h}return aj(r,s,i)}case"function":{if(r!==void 0){var f=yn,g=i(r);return yn=f,la(r,s,g)}break}}var y=i;return y}function aj(r,s,i){var o="";if(Array.isArray(i))for(var l=0;l<i.length;l++)o+=la(r,s,i[l])+";";else for(var u in i){var m=i[u];if(typeof m!="object"){var h=m;jf(h)&&(o+=rc(u)+":"+wf(u,h)+";")}else if(Array.isArray(m)&&typeof m[0]=="string"&&s==null)for(var f=0;f<m.length;f++)jf(m[f])&&(o+=rc(u)+":"+wf(u,m[f])+";");else{var g=la(r,s,m);switch(u){case"animation":case"animationName":{o+=rc(u)+":"+g+";";break}default:o+=u+"{"+g+"}"}}}return o}var Nf=/label:\s*([^\s;{]+)\s*(;|$)/g,yn;function Qp(r,s,i){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var o=!0,l="";yn=void 0;var u=r[0];if(u==null||u.raw===void 0)o=!1,l+=la(i,s,u);else{var m=u;l+=m[0]}for(var h=1;h<r.length;h++)if(l+=la(i,s,r[h]),o){var f=u;l+=f[h]}Nf.lastIndex=0;for(var g="",y;(y=Nf.exec(l))!==null;)g+="-"+y[1];var b=tj(l)+g;return{name:b,styles:l,next:yn}}var ij=function(s){return s()},lj=fc.useInsertionEffect?fc.useInsertionEffect:!1,oj=lj||ij,Xp=x.createContext(typeof HTMLElement<"u"?Kb({key:"css"}):null);Xp.Provider;var cj=function(s){return x.forwardRef(function(i,o){var l=x.useContext(Xp);return s(i,l,o)})},uj=x.createContext({}),Wc={}.hasOwnProperty,Cc="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",dj=function(s,i){var o={};for(var l in i)Wc.call(i,l)&&(o[l]=i[l]);return o[Cc]=s,o},mj=function(s){var i=s.cache,o=s.serialized,l=s.isStringTag;return Kp(i,o,l),oj(function(){return ej(i,o,l)}),null},fj=cj(function(r,s,i){var o=r.css;typeof o=="string"&&s.registered[o]!==void 0&&(o=s.registered[o]);var l=r[Cc],u=[o],m="";typeof r.className=="string"?m=Jb(s.registered,u,r.className):r.className!=null&&(m=r.className+" ");var h=Qp(u,void 0,x.useContext(uj));m+=s.key+"-"+h.name;var f={};for(var g in r)Wc.call(r,g)&&g!=="css"&&g!==Cc&&(f[g]=r[g]);return f.className=m,i&&(f.ref=i),x.createElement(x.Fragment,null,x.createElement(mj,{cache:s,serialized:h,isStringTag:typeof l=="string"}),x.createElement(l,f))}),pj=fj,be=function(s,i){var o=arguments;if(i==null||!Wc.call(i,"css"))return x.createElement.apply(void 0,o);var l=o.length,u=new Array(l);u[0]=pj,u[1]=dj(s,i);for(var m=2;m<l;m++)u[m]=o[m];return x.createElement.apply(null,u)};(function(r){var s;s||(s=r.JSX||(r.JSX={}))})(be||(be={}));function Gc(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return Qp(s)}function hj(){var r=Gc.apply(void 0,arguments),s="animation-"+r.name;return{name:s,styles:"@keyframes "+s+"{"+r.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function gj(r,s){return s||(s=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(s)}}))}const xj=Math.min,vj=Math.max,Vi=Math.round,_i=Math.floor,Ui=r=>({x:r,y:r});function yj(r){const{x:s,y:i,width:o,height:l}=r;return{width:o,height:l,top:i,left:s,right:s+o,bottom:i+l,x:s,y:i}}function sl(){return typeof window<"u"}function Zp(r){return eh(r)?(r.nodeName||"").toLowerCase():"#document"}function On(r){var s;return(r==null||(s=r.ownerDocument)==null?void 0:s.defaultView)||window}function Jp(r){var s;return(s=(eh(r)?r.ownerDocument:r.document)||window.document)==null?void 0:s.documentElement}function eh(r){return sl()?r instanceof Node||r instanceof On(r).Node:!1}function bj(r){return sl()?r instanceof Element||r instanceof On(r).Element:!1}function qc(r){return sl()?r instanceof HTMLElement||r instanceof On(r).HTMLElement:!1}function Sf(r){return!sl()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof On(r).ShadowRoot}const jj=new Set(["inline","contents"]);function th(r){const{overflow:s,overflowX:i,overflowY:o,display:l}=Kc(r);return/auto|scroll|overlay|hidden|clip/.test(s+o+i)&&!jj.has(l)}function wj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Nj=new Set(["html","body","#document"]);function Sj(r){return Nj.has(Zp(r))}function Kc(r){return On(r).getComputedStyle(r)}function Cj(r){if(Zp(r)==="html")return r;const s=r.assignedSlot||r.parentNode||Sf(r)&&r.host||Jp(r);return Sf(s)?s.host:s}function nh(r){const s=Cj(r);return Sj(s)?r.ownerDocument?r.ownerDocument.body:r.body:qc(s)&&th(s)?s:nh(s)}function Hi(r,s,i){var o;s===void 0&&(s=[]),i===void 0&&(i=!0);const l=nh(r),u=l===((o=r.ownerDocument)==null?void 0:o.body),m=On(l);if(u){const h=_c(m);return s.concat(m,m.visualViewport||[],th(l)?l:[],h&&i?Hi(h):[])}return s.concat(l,Hi(l,[],i))}function _c(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function _j(r){const s=Kc(r);let i=parseFloat(s.width)||0,o=parseFloat(s.height)||0;const l=qc(r),u=l?r.offsetWidth:i,m=l?r.offsetHeight:o,h=Vi(i)!==u||Vi(o)!==m;return h&&(i=u,o=m),{width:i,height:o,$:h}}function Yc(r){return bj(r)?r:r.contextElement}function Cf(r){const s=Yc(r);if(!qc(s))return Ui(1);const i=s.getBoundingClientRect(),{width:o,height:l,$:u}=_j(s);let m=(u?Vi(i.width):i.width)/o,h=(u?Vi(i.height):i.height)/l;return(!m||!Number.isFinite(m))&&(m=1),(!h||!Number.isFinite(h))&&(h=1),{x:m,y:h}}const kj=Ui(0);function Ej(r){const s=On(r);return!wj()||!s.visualViewport?kj:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function Rj(r,s,i){return!1}function _f(r,s,i,o){s===void 0&&(s=!1);const l=r.getBoundingClientRect(),u=Yc(r);let m=Ui(1);s&&(m=Cf(r));const h=Rj()?Ej(u):Ui(0);let f=(l.left+h.x)/m.x,g=(l.top+h.y)/m.y,y=l.width/m.x,b=l.height/m.y;if(u){const S=On(u),C=o;let v=S,_=_c(v);for(;_&&o&&C!==v;){const j=Cf(_),O=_.getBoundingClientRect(),P=Kc(_),I=O.left+(_.clientLeft+parseFloat(P.paddingLeft))*j.x,F=O.top+(_.clientTop+parseFloat(P.paddingTop))*j.y;f*=j.x,g*=j.y,y*=j.x,b*=j.y,f+=I,g+=F,v=On(_),_=_c(v)}}return yj({width:y,height:b,x:f,y:g})}function rh(r,s){return r.x===s.x&&r.y===s.y&&r.width===s.width&&r.height===s.height}function Pj(r,s){let i=null,o;const l=Jp(r);function u(){var h;clearTimeout(o),(h=i)==null||h.disconnect(),i=null}function m(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),u();const g=r.getBoundingClientRect(),{left:y,top:b,width:S,height:C}=g;if(h||s(),!S||!C)return;const v=_i(b),_=_i(l.clientWidth-(y+S)),j=_i(l.clientHeight-(b+C)),O=_i(y),I={rootMargin:-v+"px "+-_+"px "+-j+"px "+-O+"px",threshold:vj(0,xj(1,f))||1};let F=!0;function E(D){const W=D[0].intersectionRatio;if(W!==f){if(!F)return m();W?m(!1,W):o=setTimeout(()=>{m(!1,1e-7)},1e3)}W===1&&!rh(g,r.getBoundingClientRect())&&m(),F=!1}try{i=new IntersectionObserver(E,{...I,root:l.ownerDocument})}catch{i=new IntersectionObserver(E,I)}i.observe(r)}return m(!0),u}function Oj(r,s,i,o){o===void 0&&(o={});const{ancestorScroll:l=!0,ancestorResize:u=!0,elementResize:m=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,g=Yc(r),y=l||u?[...g?Hi(g):[],...Hi(s)]:[];y.forEach(O=>{l&&O.addEventListener("scroll",i,{passive:!0}),u&&O.addEventListener("resize",i)});const b=g&&h?Pj(g,i):null;let S=-1,C=null;m&&(C=new ResizeObserver(O=>{let[P]=O;P&&P.target===g&&C&&(C.unobserve(s),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var I;(I=C)==null||I.observe(s)})),i()}),g&&!f&&C.observe(g),C.observe(s));let v,_=f?_f(r):null;f&&j();function j(){const O=_f(r);_&&!rh(_,O)&&i(),_=O,v=requestAnimationFrame(j)}return i(),()=>{var O;y.forEach(P=>{l&&P.removeEventListener("scroll",i),u&&P.removeEventListener("resize",i)}),b?.(),(O=C)==null||O.disconnect(),C=null,f&&cancelAnimationFrame(v)}}var kc=x.useLayoutEffect,Tj=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Wi=function(){};function Aj(r,s){return s?s[0]==="-"?r+s:r+"__"+s:r}function Mj(r,s){for(var i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l];var u=[].concat(o);if(s&&r)for(var m in s)s.hasOwnProperty(m)&&s[m]&&u.push("".concat(Aj(r,m)));return u.filter(function(h){return h}).map(function(h){return String(h).trim()}).join(" ")}var kf=function(s){return Uj(s)?s.filter(Boolean):Tr(s)==="object"&&s!==null?[s]:[]},sh=function(s){s.className,s.clearValue,s.cx,s.getStyles,s.getClassNames,s.getValue,s.hasValue,s.isMulti,s.isRtl,s.options,s.selectOption,s.selectProps,s.setValue,s.theme;var i=An(s,Tj);return Ne({},i)},Xe=function(s,i,o){var l=s.cx,u=s.getStyles,m=s.getClassNames,h=s.className;return{css:u(i,s),className:l(o??{},m(i,s),h)}};function al(r){return[document.documentElement,document.body,window].indexOf(r)>-1}function Dj(r){return al(r)?window.innerHeight:r.clientHeight}function ah(r){return al(r)?window.pageYOffset:r.scrollTop}function Gi(r,s){if(al(r)){window.scrollTo(0,s);return}r.scrollTop=s}function Ij(r){var s=getComputedStyle(r),i=s.position==="absolute",o=/(auto|scroll)/;if(s.position==="fixed")return document.documentElement;for(var l=r;l=l.parentElement;)if(s=getComputedStyle(l),!(i&&s.position==="static")&&o.test(s.overflow+s.overflowY+s.overflowX))return l;return document.documentElement}function Fj(r,s,i,o){return i*((r=r/o-1)*r*r+1)+s}function ki(r,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Wi,l=ah(r),u=s-l,m=10,h=0;function f(){h+=m;var g=Fj(h,l,u,i);Gi(r,g),h<i?window.requestAnimationFrame(f):o(r)}f()}function Ef(r,s){var i=r.getBoundingClientRect(),o=s.getBoundingClientRect(),l=s.offsetHeight/3;o.bottom+l>i.bottom?Gi(r,Math.min(s.offsetTop+s.clientHeight-r.offsetHeight+l,r.scrollHeight)):o.top-l<i.top&&Gi(r,Math.max(s.offsetTop-l,0))}function Lj(r){var s=r.getBoundingClientRect();return{bottom:s.bottom,height:s.height,left:s.left,right:s.right,top:s.top,width:s.width}}function Rf(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function $j(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ih=!1,Bj={get passive(){return ih=!0}},Ei=typeof window<"u"?window:{};Ei.addEventListener&&Ei.removeEventListener&&(Ei.addEventListener("p",Wi,Bj),Ei.removeEventListener("p",Wi,!1));var zj=ih;function Vj(r){return r!=null}function Uj(r){return Array.isArray(r)}function Ri(r,s,i){return r?s:i}var Hj=function(s){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];var u=Object.entries(s).filter(function(m){var h=Pn(m,1),f=h[0];return!o.includes(f)});return u.reduce(function(m,h){var f=Pn(h,2),g=f[0],y=f[1];return m[g]=y,m},{})},Wj=["children","innerProps"],Gj=["children","innerProps"];function qj(r){var s=r.maxHeight,i=r.menuEl,o=r.minHeight,l=r.placement,u=r.shouldScroll,m=r.isFixedPosition,h=r.controlHeight,f=Ij(i),g={placement:"bottom",maxHeight:s};if(!i||!i.offsetParent)return g;var y=f.getBoundingClientRect(),b=y.height,S=i.getBoundingClientRect(),C=S.bottom,v=S.height,_=S.top,j=i.offsetParent.getBoundingClientRect(),O=j.top,P=m?window.innerHeight:Dj(f),I=ah(f),F=parseInt(getComputedStyle(i).marginBottom,10),E=parseInt(getComputedStyle(i).marginTop,10),D=O-E,W=P-_,$=D+I,Q=b-I-_,le=C-P+I+F,re=I+_-E,z=160;switch(l){case"auto":case"bottom":if(W>=v)return{placement:"bottom",maxHeight:s};if(Q>=v&&!m)return u&&ki(f,le,z),{placement:"bottom",maxHeight:s};if(!m&&Q>=o||m&&W>=o){u&&ki(f,le,z);var he=m?W-F:Q-F;return{placement:"bottom",maxHeight:he}}if(l==="auto"||m){var oe=s,me=m?D:$;return me>=o&&(oe=Math.min(me-F-h,s)),{placement:"top",maxHeight:oe}}if(l==="bottom")return u&&Gi(f,le),{placement:"bottom",maxHeight:s};break;case"top":if(D>=v)return{placement:"top",maxHeight:s};if($>=v&&!m)return u&&ki(f,re,z),{placement:"top",maxHeight:s};if(!m&&$>=o||m&&D>=o){var U=s;return(!m&&$>=o||m&&D>=o)&&(U=m?D-E:$-E),u&&ki(f,re,z),{placement:"top",maxHeight:U}}return{placement:"bottom",maxHeight:s};default:throw new Error('Invalid placement provided "'.concat(l,'".'))}return g}function Kj(r){var s={bottom:"top",top:"bottom"};return r?s[r]:"bottom"}var lh=function(s){return s==="auto"?"bottom":s},Yj=function(s,i){var o,l=s.placement,u=s.theme,m=u.borderRadius,h=u.spacing,f=u.colors;return Ne((o={label:"menu"},na(o,Kj(l),"100%"),na(o,"position","absolute"),na(o,"width","100%"),na(o,"zIndex",1),o),i?{}:{backgroundColor:f.neutral0,borderRadius:m,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:h.menuGutter,marginTop:h.menuGutter})},oh=x.createContext(null),Qj=function(s){var i=s.children,o=s.minMenuHeight,l=s.maxMenuHeight,u=s.menuPlacement,m=s.menuPosition,h=s.menuShouldScrollIntoView,f=s.theme,g=x.useContext(oh)||{},y=g.setPortalPlacement,b=x.useRef(null),S=x.useState(l),C=Pn(S,2),v=C[0],_=C[1],j=x.useState(null),O=Pn(j,2),P=O[0],I=O[1],F=f.spacing.controlHeight;return kc(function(){var E=b.current;if(E){var D=m==="fixed",W=h&&!D,$=qj({maxHeight:l,menuEl:E,minHeight:o,placement:u,shouldScroll:W,isFixedPosition:D,controlHeight:F});_($.maxHeight),I($.placement),y?.($.placement)}},[l,u,m,h,o,y,F]),i({ref:b,placerProps:Ne(Ne({},s),{},{placement:P||lh(u),maxHeight:v})})},Xj=function(s){var i=s.children,o=s.innerRef,l=s.innerProps;return be("div",Ce({},Xe(s,"menu",{menu:!0}),{ref:o},l),i)},Zj=Xj,Jj=function(s,i){var o=s.maxHeight,l=s.theme.spacing.baseUnit;return Ne({maxHeight:o,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},i?{}:{paddingBottom:l,paddingTop:l})},ew=function(s){var i=s.children,o=s.innerProps,l=s.innerRef,u=s.isMulti;return be("div",Ce({},Xe(s,"menuList",{"menu-list":!0,"menu-list--is-multi":u}),{ref:l},o),i)},ch=function(s,i){var o=s.theme,l=o.spacing.baseUnit,u=o.colors;return Ne({textAlign:"center"},i?{}:{color:u.neutral40,padding:"".concat(l*2,"px ").concat(l*3,"px")})},tw=ch,nw=ch,rw=function(s){var i=s.children,o=i===void 0?"No options":i,l=s.innerProps,u=An(s,Wj);return be("div",Ce({},Xe(Ne(Ne({},u),{},{children:o,innerProps:l}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),l),o)},sw=function(s){var i=s.children,o=i===void 0?"Loading...":i,l=s.innerProps,u=An(s,Gj);return be("div",Ce({},Xe(Ne(Ne({},u),{},{children:o,innerProps:l}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),l),o)},aw=function(s){var i=s.rect,o=s.offset,l=s.position;return{left:i.left,position:l,top:o,width:i.width,zIndex:1}},iw=function(s){var i=s.appendTo,o=s.children,l=s.controlElement,u=s.innerProps,m=s.menuPlacement,h=s.menuPosition,f=x.useRef(null),g=x.useRef(null),y=x.useState(lh(m)),b=Pn(y,2),S=b[0],C=b[1],v=x.useMemo(function(){return{setPortalPlacement:C}},[]),_=x.useState(null),j=Pn(_,2),O=j[0],P=j[1],I=x.useCallback(function(){if(l){var W=Lj(l),$=h==="fixed"?0:window.pageYOffset,Q=W[S]+$;(Q!==O?.offset||W.left!==O?.rect.left||W.width!==O?.rect.width)&&P({offset:Q,rect:W})}},[l,h,S,O?.offset,O?.rect.left,O?.rect.width]);kc(function(){I()},[I]);var F=x.useCallback(function(){typeof g.current=="function"&&(g.current(),g.current=null),l&&f.current&&(g.current=Oj(l,f.current,I,{elementResize:"ResizeObserver"in window}))},[l,I]);kc(function(){F()},[F]);var E=x.useCallback(function(W){f.current=W,F()},[F]);if(!i&&h!=="fixed"||!O)return null;var D=be("div",Ce({ref:E},Xe(Ne(Ne({},s),{},{offset:O.offset,position:h,rect:O.rect}),"menuPortal",{"menu-portal":!0}),u),o);return be(oh.Provider,{value:v},i?dv.createPortal(D,i):D)},lw=function(s){var i=s.isDisabled,o=s.isRtl;return{label:"container",direction:o?"rtl":void 0,pointerEvents:i?"none":void 0,position:"relative"}},ow=function(s){var i=s.children,o=s.innerProps,l=s.isDisabled,u=s.isRtl;return be("div",Ce({},Xe(s,"container",{"--is-disabled":l,"--is-rtl":u}),o),i)},cw=function(s,i){var o=s.theme.spacing,l=s.isMulti,u=s.hasValue,m=s.selectProps.controlShouldRenderValue;return Ne({alignItems:"center",display:l&&u&&m?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},i?{}:{padding:"".concat(o.baseUnit/2,"px ").concat(o.baseUnit*2,"px")})},uw=function(s){var i=s.children,o=s.innerProps,l=s.isMulti,u=s.hasValue;return be("div",Ce({},Xe(s,"valueContainer",{"value-container":!0,"value-container--is-multi":l,"value-container--has-value":u}),o),i)},dw=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},mw=function(s){var i=s.children,o=s.innerProps;return be("div",Ce({},Xe(s,"indicatorsContainer",{indicators:!0}),o),i)},Pf,fw=["size"],pw=["innerProps","isRtl","size"],hw={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},uh=function(s){var i=s.size,o=An(s,fw);return be("svg",Ce({height:i,width:i,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:hw},o))},Qc=function(s){return be(uh,Ce({size:20},s),be("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},dh=function(s){return be(uh,Ce({size:20},s),be("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},mh=function(s,i){var o=s.isFocused,l=s.theme,u=l.spacing.baseUnit,m=l.colors;return Ne({label:"indicatorContainer",display:"flex",transition:"color 150ms"},i?{}:{color:o?m.neutral60:m.neutral20,padding:u*2,":hover":{color:o?m.neutral80:m.neutral40}})},gw=mh,xw=function(s){var i=s.children,o=s.innerProps;return be("div",Ce({},Xe(s,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),o),i||be(dh,null))},vw=mh,yw=function(s){var i=s.children,o=s.innerProps;return be("div",Ce({},Xe(s,"clearIndicator",{indicator:!0,"clear-indicator":!0}),o),i||be(Qc,null))},bw=function(s,i){var o=s.isDisabled,l=s.theme,u=l.spacing.baseUnit,m=l.colors;return Ne({label:"indicatorSeparator",alignSelf:"stretch",width:1},i?{}:{backgroundColor:o?m.neutral10:m.neutral20,marginBottom:u*2,marginTop:u*2})},jw=function(s){var i=s.innerProps;return be("span",Ce({},i,Xe(s,"indicatorSeparator",{"indicator-separator":!0})))},ww=hj(Pf||(Pf=gj([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Nw=function(s,i){var o=s.isFocused,l=s.size,u=s.theme,m=u.colors,h=u.spacing.baseUnit;return Ne({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:l,lineHeight:1,marginRight:l,textAlign:"center",verticalAlign:"middle"},i?{}:{color:o?m.neutral60:m.neutral20,padding:h*2})},sc=function(s){var i=s.delay,o=s.offset;return be("span",{css:Gc({animation:"".concat(ww," 1s ease-in-out ").concat(i,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:o?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Sw=function(s){var i=s.innerProps,o=s.isRtl,l=s.size,u=l===void 0?4:l,m=An(s,pw);return be("div",Ce({},Xe(Ne(Ne({},m),{},{innerProps:i,isRtl:o,size:u}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),i),be(sc,{delay:0,offset:o}),be(sc,{delay:160,offset:!0}),be(sc,{delay:320,offset:!o}))},Cw=function(s,i){var o=s.isDisabled,l=s.isFocused,u=s.theme,m=u.colors,h=u.borderRadius,f=u.spacing;return Ne({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},i?{}:{backgroundColor:o?m.neutral5:m.neutral0,borderColor:o?m.neutral10:l?m.primary:m.neutral20,borderRadius:h,borderStyle:"solid",borderWidth:1,boxShadow:l?"0 0 0 1px ".concat(m.primary):void 0,"&:hover":{borderColor:l?m.primary:m.neutral30}})},_w=function(s){var i=s.children,o=s.isDisabled,l=s.isFocused,u=s.innerRef,m=s.innerProps,h=s.menuIsOpen;return be("div",Ce({ref:u},Xe(s,"control",{control:!0,"control--is-disabled":o,"control--is-focused":l,"control--menu-is-open":h}),m,{"aria-disabled":o||void 0}),i)},kw=_w,Ew=["data"],Rw=function(s,i){var o=s.theme.spacing;return i?{}:{paddingBottom:o.baseUnit*2,paddingTop:o.baseUnit*2}},Pw=function(s){var i=s.children,o=s.cx,l=s.getStyles,u=s.getClassNames,m=s.Heading,h=s.headingProps,f=s.innerProps,g=s.label,y=s.theme,b=s.selectProps;return be("div",Ce({},Xe(s,"group",{group:!0}),f),be(m,Ce({},h,{selectProps:b,theme:y,getStyles:l,getClassNames:u,cx:o}),g),be("div",null,i))},Ow=function(s,i){var o=s.theme,l=o.colors,u=o.spacing;return Ne({label:"group",cursor:"default",display:"block"},i?{}:{color:l.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:u.baseUnit*3,paddingRight:u.baseUnit*3,textTransform:"uppercase"})},Tw=function(s){var i=sh(s);i.data;var o=An(i,Ew);return be("div",Ce({},Xe(s,"groupHeading",{"group-heading":!0}),o))},Aw=Pw,Mw=["innerRef","isDisabled","isHidden","inputClassName"],Dw=function(s,i){var o=s.isDisabled,l=s.value,u=s.theme,m=u.spacing,h=u.colors;return Ne(Ne({visibility:o?"hidden":"visible",transform:l?"translateZ(0)":""},Iw),i?{}:{margin:m.baseUnit/2,paddingBottom:m.baseUnit/2,paddingTop:m.baseUnit/2,color:h.neutral80})},fh={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Iw={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ne({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},fh)},Fw=function(s){return Ne({label:"input",color:"inherit",background:0,opacity:s?0:1,width:"100%"},fh)},Lw=function(s){var i=s.cx,o=s.value,l=sh(s),u=l.innerRef,m=l.isDisabled,h=l.isHidden,f=l.inputClassName,g=An(l,Mw);return be("div",Ce({},Xe(s,"input",{"input-container":!0}),{"data-value":o||""}),be("input",Ce({className:i({input:!0},f),ref:u,style:Fw(h),disabled:m},g)))},$w=Lw,Bw=function(s,i){var o=s.theme,l=o.spacing,u=o.borderRadius,m=o.colors;return Ne({label:"multiValue",display:"flex",minWidth:0},i?{}:{backgroundColor:m.neutral10,borderRadius:u/2,margin:l.baseUnit/2})},zw=function(s,i){var o=s.theme,l=o.borderRadius,u=o.colors,m=s.cropWithEllipsis;return Ne({overflow:"hidden",textOverflow:m||m===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},i?{}:{borderRadius:l/2,color:u.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Vw=function(s,i){var o=s.theme,l=o.spacing,u=o.borderRadius,m=o.colors,h=s.isFocused;return Ne({alignItems:"center",display:"flex"},i?{}:{borderRadius:u/2,backgroundColor:h?m.dangerLight:void 0,paddingLeft:l.baseUnit,paddingRight:l.baseUnit,":hover":{backgroundColor:m.dangerLight,color:m.danger}})},ph=function(s){var i=s.children,o=s.innerProps;return be("div",o,i)},Uw=ph,Hw=ph;function Ww(r){var s=r.children,i=r.innerProps;return be("div",Ce({role:"button"},i),s||be(Qc,{size:14}))}var Gw=function(s){var i=s.children,o=s.components,l=s.data,u=s.innerProps,m=s.isDisabled,h=s.removeProps,f=s.selectProps,g=o.Container,y=o.Label,b=o.Remove;return be(g,{data:l,innerProps:Ne(Ne({},Xe(s,"multiValue",{"multi-value":!0,"multi-value--is-disabled":m})),u),selectProps:f},be(y,{data:l,innerProps:Ne({},Xe(s,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},i),be(b,{data:l,innerProps:Ne(Ne({},Xe(s,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(i||"option")},h),selectProps:f}))},qw=Gw,Kw=function(s,i){var o=s.isDisabled,l=s.isFocused,u=s.isSelected,m=s.theme,h=m.spacing,f=m.colors;return Ne({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},i?{}:{backgroundColor:u?f.primary:l?f.primary25:"transparent",color:o?f.neutral20:u?f.neutral0:"inherit",padding:"".concat(h.baseUnit*2,"px ").concat(h.baseUnit*3,"px"),":active":{backgroundColor:o?void 0:u?f.primary:f.primary50}})},Yw=function(s){var i=s.children,o=s.isDisabled,l=s.isFocused,u=s.isSelected,m=s.innerRef,h=s.innerProps;return be("div",Ce({},Xe(s,"option",{option:!0,"option--is-disabled":o,"option--is-focused":l,"option--is-selected":u}),{ref:m,"aria-disabled":o},h),i)},Qw=Yw,Xw=function(s,i){var o=s.theme,l=o.spacing,u=o.colors;return Ne({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},i?{}:{color:u.neutral50,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},Zw=function(s){var i=s.children,o=s.innerProps;return be("div",Ce({},Xe(s,"placeholder",{placeholder:!0}),o),i)},Jw=Zw,e1=function(s,i){var o=s.isDisabled,l=s.theme,u=l.spacing,m=l.colors;return Ne({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},i?{}:{color:o?m.neutral40:m.neutral80,marginLeft:u.baseUnit/2,marginRight:u.baseUnit/2})},t1=function(s){var i=s.children,o=s.isDisabled,l=s.innerProps;return be("div",Ce({},Xe(s,"singleValue",{"single-value":!0,"single-value--is-disabled":o}),l),i)},n1=t1,r1={ClearIndicator:yw,Control:kw,DropdownIndicator:xw,DownChevron:dh,CrossIcon:Qc,Group:Aw,GroupHeading:Tw,IndicatorsContainer:mw,IndicatorSeparator:jw,Input:$w,LoadingIndicator:Sw,Menu:Zj,MenuList:ew,MenuPortal:iw,LoadingMessage:sw,NoOptionsMessage:rw,MultiValue:qw,MultiValueContainer:Uw,MultiValueLabel:Hw,MultiValueRemove:Ww,Option:Qw,Placeholder:Jw,SelectContainer:ow,SingleValue:n1,ValueContainer:uw},s1=function(s){return Ne(Ne({},r1),s.components)},Of=Number.isNaN||function(s){return typeof s=="number"&&s!==s};function a1(r,s){return!!(r===s||Of(r)&&Of(s))}function i1(r,s){if(r.length!==s.length)return!1;for(var i=0;i<r.length;i++)if(!a1(r[i],s[i]))return!1;return!0}function l1(r,s){s===void 0&&(s=i1);var i=null;function o(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];if(i&&i.lastThis===this&&s(l,i.lastArgs))return i.lastResult;var m=r.apply(this,l);return i={lastResult:m,lastArgs:l,lastThis:this},m}return o.clear=function(){i=null},o}var o1={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},c1=function(s){return be("span",Ce({css:o1},s))},Tf=c1,u1={guidance:function(s){var i=s.isSearchable,o=s.isMulti,l=s.tabSelectsValue,u=s.context,m=s.isInitialFocus;switch(u){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(l?", press Tab to select the option and exit the menu":"",".");case"input":return m?"".concat(s["aria-label"]||"Select"," is focused ").concat(i?",type to refine list":"",", press Down to open the menu, ").concat(o?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(s){var i=s.action,o=s.label,l=o===void 0?"":o,u=s.labels,m=s.isDisabled;switch(i){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(l,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(u.length>1?"s":""," ").concat(u.join(","),", selected.");case"select-option":return m?"option ".concat(l," is disabled. Select another option."):"option ".concat(l,", selected.");default:return""}},onFocus:function(s){var i=s.context,o=s.focused,l=s.options,u=s.label,m=u===void 0?"":u,h=s.selectValue,f=s.isDisabled,g=s.isSelected,y=s.isAppleDevice,b=function(_,j){return _&&_.length?"".concat(_.indexOf(j)+1," of ").concat(_.length):""};if(i==="value"&&h)return"value ".concat(m," focused, ").concat(b(h,o),".");if(i==="menu"&&y){var S=f?" disabled":"",C="".concat(g?" selected":"").concat(S);return"".concat(m).concat(C,", ").concat(b(l,o),".")}return""},onFilter:function(s){var i=s.inputValue,o=s.resultsMessage;return"".concat(o).concat(i?" for search term "+i:"",".")}},d1=function(s){var i=s.ariaSelection,o=s.focusedOption,l=s.focusedValue,u=s.focusableOptions,m=s.isFocused,h=s.selectValue,f=s.selectProps,g=s.id,y=s.isAppleDevice,b=f.ariaLiveMessages,S=f.getOptionLabel,C=f.inputValue,v=f.isMulti,_=f.isOptionDisabled,j=f.isSearchable,O=f.menuIsOpen,P=f.options,I=f.screenReaderStatus,F=f.tabSelectsValue,E=f.isLoading,D=f["aria-label"],W=f["aria-live"],$=x.useMemo(function(){return Ne(Ne({},u1),b||{})},[b]),Q=x.useMemo(function(){var me="";if(i&&$.onChange){var U=i.option,se=i.options,K=i.removedValue,B=i.removedValues,Y=i.value,N=function(fe){return Array.isArray(fe)?null:fe},k=K||U||N(Y),X=k?S(k):"",ie=se||B||void 0,de=ie?ie.map(S):[],T=Ne({isDisabled:k&&_(k,h),label:X,labels:de},i);me=$.onChange(T)}return me},[i,$,_,h,S]),le=x.useMemo(function(){var me="",U=o||l,se=!!(o&&h&&h.includes(o));if(U&&$.onFocus){var K={focused:U,label:S(U),isDisabled:_(U,h),isSelected:se,options:u,context:U===o?"menu":"value",selectValue:h,isAppleDevice:y};me=$.onFocus(K)}return me},[o,l,S,_,$,u,h,y]),re=x.useMemo(function(){var me="";if(O&&P.length&&!E&&$.onFilter){var U=I({count:u.length});me=$.onFilter({inputValue:C,resultsMessage:U})}return me},[u,C,O,$,P,I,E]),z=i?.action==="initial-input-focus",he=x.useMemo(function(){var me="";if($.guidance){var U=l?"value":O?"menu":"input";me=$.guidance({"aria-label":D,context:U,isDisabled:o&&_(o,h),isMulti:v,isSearchable:j,tabSelectsValue:F,isInitialFocus:z})}return me},[D,o,l,v,_,j,O,$,h,F,z]),oe=be(x.Fragment,null,be("span",{id:"aria-selection"},Q),be("span",{id:"aria-focused"},le),be("span",{id:"aria-results"},re),be("span",{id:"aria-guidance"},he));return be(x.Fragment,null,be(Tf,{id:g},z&&oe),be(Tf,{"aria-live":W,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},m&&!z&&oe))},m1=d1,Ec=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],f1=new RegExp("["+Ec.map(function(r){return r.letters}).join("")+"]","g"),hh={};for(var ac=0;ac<Ec.length;ac++)for(var ic=Ec[ac],lc=0;lc<ic.letters.length;lc++)hh[ic.letters[lc]]=ic.base;var gh=function(s){return s.replace(f1,function(i){return hh[i]})},p1=l1(gh),Af=function(s){return s.replace(/^\s+|\s+$/g,"")},h1=function(s){return"".concat(s.label," ").concat(s.value)},g1=function(s){return function(i,o){if(i.data.__isNew__)return!0;var l=Ne({ignoreCase:!0,ignoreAccents:!0,stringify:h1,trim:!0,matchFrom:"any"},s),u=l.ignoreCase,m=l.ignoreAccents,h=l.stringify,f=l.trim,g=l.matchFrom,y=f?Af(o):o,b=f?Af(h(i)):h(i);return u&&(y=y.toLowerCase(),b=b.toLowerCase()),m&&(y=p1(y),b=gh(b)),g==="start"?b.substr(0,y.length)===y:b.indexOf(y)>-1}},x1=["innerRef"];function v1(r){var s=r.innerRef,i=An(r,x1),o=Hj(i,"onExited","in","enter","exit","appear");return be("input",Ce({ref:s},o,{css:Gc({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var y1=function(s){s.cancelable&&s.preventDefault(),s.stopPropagation()};function b1(r){var s=r.isEnabled,i=r.onBottomArrive,o=r.onBottomLeave,l=r.onTopArrive,u=r.onTopLeave,m=x.useRef(!1),h=x.useRef(!1),f=x.useRef(0),g=x.useRef(null),y=x.useCallback(function(j,O){if(g.current!==null){var P=g.current,I=P.scrollTop,F=P.scrollHeight,E=P.clientHeight,D=g.current,W=O>0,$=F-E-I,Q=!1;$>O&&m.current&&(o&&o(j),m.current=!1),W&&h.current&&(u&&u(j),h.current=!1),W&&O>$?(i&&!m.current&&i(j),D.scrollTop=F,Q=!0,m.current=!0):!W&&-O>I&&(l&&!h.current&&l(j),D.scrollTop=0,Q=!0,h.current=!0),Q&&y1(j)}},[i,o,l,u]),b=x.useCallback(function(j){y(j,j.deltaY)},[y]),S=x.useCallback(function(j){f.current=j.changedTouches[0].clientY},[]),C=x.useCallback(function(j){var O=f.current-j.changedTouches[0].clientY;y(j,O)},[y]),v=x.useCallback(function(j){if(j){var O=zj?{passive:!1}:!1;j.addEventListener("wheel",b,O),j.addEventListener("touchstart",S,O),j.addEventListener("touchmove",C,O)}},[C,S,b]),_=x.useCallback(function(j){j&&(j.removeEventListener("wheel",b,!1),j.removeEventListener("touchstart",S,!1),j.removeEventListener("touchmove",C,!1))},[C,S,b]);return x.useEffect(function(){if(s){var j=g.current;return v(j),function(){_(j)}}},[s,v,_]),function(j){g.current=j}}var Mf=["boxSizing","height","overflow","paddingRight","position"],Df={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function If(r){r.cancelable&&r.preventDefault()}function Ff(r){r.stopPropagation()}function Lf(){var r=this.scrollTop,s=this.scrollHeight,i=r+this.offsetHeight;r===0?this.scrollTop=1:i===s&&(this.scrollTop=r-1)}function $f(){return"ontouchstart"in window||navigator.maxTouchPoints}var Bf=!!(typeof window<"u"&&window.document&&window.document.createElement),ta=0,rs={capture:!1,passive:!1};function j1(r){var s=r.isEnabled,i=r.accountForScrollbars,o=i===void 0?!0:i,l=x.useRef({}),u=x.useRef(null),m=x.useCallback(function(f){if(Bf){var g=document.body,y=g&&g.style;if(o&&Mf.forEach(function(v){var _=y&&y[v];l.current[v]=_}),o&&ta<1){var b=parseInt(l.current.paddingRight,10)||0,S=document.body?document.body.clientWidth:0,C=window.innerWidth-S+b||0;Object.keys(Df).forEach(function(v){var _=Df[v];y&&(y[v]=_)}),y&&(y.paddingRight="".concat(C,"px"))}g&&$f()&&(g.addEventListener("touchmove",If,rs),f&&(f.addEventListener("touchstart",Lf,rs),f.addEventListener("touchmove",Ff,rs))),ta+=1}},[o]),h=x.useCallback(function(f){if(Bf){var g=document.body,y=g&&g.style;ta=Math.max(ta-1,0),o&&ta<1&&Mf.forEach(function(b){var S=l.current[b];y&&(y[b]=S)}),g&&$f()&&(g.removeEventListener("touchmove",If,rs),f&&(f.removeEventListener("touchstart",Lf,rs),f.removeEventListener("touchmove",Ff,rs)))}},[o]);return x.useEffect(function(){if(s){var f=u.current;return m(f),function(){h(f)}}},[s,m,h]),function(f){u.current=f}}var w1=function(s){var i=s.target;return i.ownerDocument.activeElement&&i.ownerDocument.activeElement.blur()},N1={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function S1(r){var s=r.children,i=r.lockEnabled,o=r.captureEnabled,l=o===void 0?!0:o,u=r.onBottomArrive,m=r.onBottomLeave,h=r.onTopArrive,f=r.onTopLeave,g=b1({isEnabled:l,onBottomArrive:u,onBottomLeave:m,onTopArrive:h,onTopLeave:f}),y=j1({isEnabled:i}),b=function(C){g(C),y(C)};return be(x.Fragment,null,i&&be("div",{onClick:w1,css:N1}),s(b))}var C1={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},_1=function(s){var i=s.name,o=s.onFocus;return be("input",{required:!0,name:i,tabIndex:-1,"aria-hidden":"true",onFocus:o,css:C1,value:"",onChange:function(){}})},k1=_1;function Xc(r){var s;return typeof window<"u"&&window.navigator!=null?r.test(((s=window.navigator.userAgentData)===null||s===void 0?void 0:s.platform)||window.navigator.platform):!1}function E1(){return Xc(/^iPhone/i)}function xh(){return Xc(/^Mac/i)}function R1(){return Xc(/^iPad/i)||xh()&&navigator.maxTouchPoints>1}function P1(){return E1()||R1()}function O1(){return xh()||P1()}var T1=function(s){return s.label},A1=function(s){return s.label},M1=function(s){return s.value},D1=function(s){return!!s.isDisabled},I1={clearIndicator:vw,container:lw,control:Cw,dropdownIndicator:gw,group:Rw,groupHeading:Ow,indicatorsContainer:dw,indicatorSeparator:bw,input:Dw,loadingIndicator:Nw,loadingMessage:nw,menu:Yj,menuList:Jj,menuPortal:aw,multiValue:Bw,multiValueLabel:zw,multiValueRemove:Vw,noOptionsMessage:tw,option:Kw,placeholder:Xw,singleValue:e1,valueContainer:cw},F1={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},L1=4,vh=4,$1=38,B1=vh*2,z1={baseUnit:vh,controlHeight:$1,menuGutter:B1},oc={borderRadius:L1,colors:F1,spacing:z1},V1={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Rf(),captureMenuScroll:!Rf(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:g1(),formatGroupLabel:T1,getOptionLabel:A1,getOptionValue:M1,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:D1,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!$j(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(s){var i=s.count;return"".concat(i," result").concat(i!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function zf(r,s,i,o){var l=jh(r,s,i),u=wh(r,s,i),m=bh(r,s),h=qi(r,s);return{type:"option",data:s,isDisabled:l,isSelected:u,label:m,value:h,index:o}}function Ii(r,s){return r.options.map(function(i,o){if("options"in i){var l=i.options.map(function(m,h){return zf(r,m,s,h)}).filter(function(m){return Uf(r,m)});return l.length>0?{type:"group",data:i,options:l,index:o}:void 0}var u=zf(r,i,s,o);return Uf(r,u)?u:void 0}).filter(Vj)}function yh(r){return r.reduce(function(s,i){return i.type==="group"?s.push.apply(s,zc(i.options.map(function(o){return o.data}))):s.push(i.data),s},[])}function Vf(r,s){return r.reduce(function(i,o){return o.type==="group"?i.push.apply(i,zc(o.options.map(function(l){return{data:l.data,id:"".concat(s,"-").concat(o.index,"-").concat(l.index)}}))):i.push({data:o.data,id:"".concat(s,"-").concat(o.index)}),i},[])}function U1(r,s){return yh(Ii(r,s))}function Uf(r,s){var i=r.inputValue,o=i===void 0?"":i,l=s.data,u=s.isSelected,m=s.label,h=s.value;return(!Sh(r)||!u)&&Nh(r,{label:m,value:h,data:l},o)}function H1(r,s){var i=r.focusedValue,o=r.selectValue,l=o.indexOf(i);if(l>-1){var u=s.indexOf(i);if(u>-1)return i;if(l<s.length)return s[l]}return null}function W1(r,s){var i=r.focusedOption;return i&&s.indexOf(i)>-1?i:s[0]}var cc=function(s,i){var o,l=(o=s.find(function(u){return u.data===i}))===null||o===void 0?void 0:o.id;return l||null},bh=function(s,i){return s.getOptionLabel(i)},qi=function(s,i){return s.getOptionValue(i)};function jh(r,s,i){return typeof r.isOptionDisabled=="function"?r.isOptionDisabled(s,i):!1}function wh(r,s,i){if(i.indexOf(s)>-1)return!0;if(typeof r.isOptionSelected=="function")return r.isOptionSelected(s,i);var o=qi(r,s);return i.some(function(l){return qi(r,l)===o})}function Nh(r,s,i){return r.filterOption?r.filterOption(s,i):!0}var Sh=function(s){var i=s.hideSelectedOptions,o=s.isMulti;return i===void 0?o:i},G1=1,Ch=(function(r){mb(i,r);var s=hb(i);function i(o){var l;if(ub(this,i),l=s.call(this,o),l.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},l.blockOptionHover=!1,l.isComposing=!1,l.commonProps=void 0,l.initialTouchX=0,l.initialTouchY=0,l.openAfterFocus=!1,l.scrollToFocusedOptionOnUpdate=!1,l.userIsDragging=void 0,l.controlRef=null,l.getControlRef=function(f){l.controlRef=f},l.focusedOptionRef=null,l.getFocusedOptionRef=function(f){l.focusedOptionRef=f},l.menuListRef=null,l.getMenuListRef=function(f){l.menuListRef=f},l.inputRef=null,l.getInputRef=function(f){l.inputRef=f},l.focus=l.focusInput,l.blur=l.blurInput,l.onChange=function(f,g){var y=l.props,b=y.onChange,S=y.name;g.name=S,l.ariaOnChange(f,g),b(f,g)},l.setValue=function(f,g,y){var b=l.props,S=b.closeMenuOnSelect,C=b.isMulti,v=b.inputValue;l.onInputChange("",{action:"set-value",prevInputValue:v}),S&&(l.setState({inputIsHiddenAfterUpdate:!C}),l.onMenuClose()),l.setState({clearFocusValueOnUpdate:!0}),l.onChange(f,{action:g,option:y})},l.selectOption=function(f){var g=l.props,y=g.blurInputOnSelect,b=g.isMulti,S=g.name,C=l.state.selectValue,v=b&&l.isOptionSelected(f,C),_=l.isOptionDisabled(f,C);if(v){var j=l.getOptionValue(f);l.setValue(C.filter(function(O){return l.getOptionValue(O)!==j}),"deselect-option",f)}else if(!_)b?l.setValue([].concat(zc(C),[f]),"select-option",f):l.setValue(f,"select-option");else{l.ariaOnChange(f,{action:"select-option",option:f,name:S});return}y&&l.blurInput()},l.removeValue=function(f){var g=l.props.isMulti,y=l.state.selectValue,b=l.getOptionValue(f),S=y.filter(function(v){return l.getOptionValue(v)!==b}),C=Ri(g,S,S[0]||null);l.onChange(C,{action:"remove-value",removedValue:f}),l.focusInput()},l.clearValue=function(){var f=l.state.selectValue;l.onChange(Ri(l.props.isMulti,[],null),{action:"clear",removedValues:f})},l.popValue=function(){var f=l.props.isMulti,g=l.state.selectValue,y=g[g.length-1],b=g.slice(0,g.length-1),S=Ri(f,b,b[0]||null);y&&l.onChange(S,{action:"pop-value",removedValue:y})},l.getFocusedOptionId=function(f){return cc(l.state.focusableOptionsWithIds,f)},l.getFocusableOptionsWithIds=function(){return Vf(Ii(l.props,l.state.selectValue),l.getElementId("option"))},l.getValue=function(){return l.state.selectValue},l.cx=function(){for(var f=arguments.length,g=new Array(f),y=0;y<f;y++)g[y]=arguments[y];return Mj.apply(void 0,[l.props.classNamePrefix].concat(g))},l.getOptionLabel=function(f){return bh(l.props,f)},l.getOptionValue=function(f){return qi(l.props,f)},l.getStyles=function(f,g){var y=l.props.unstyled,b=I1[f](g,y);b.boxSizing="border-box";var S=l.props.styles[f];return S?S(b,g):b},l.getClassNames=function(f,g){var y,b;return(y=(b=l.props.classNames)[f])===null||y===void 0?void 0:y.call(b,g)},l.getElementId=function(f){return"".concat(l.state.instancePrefix,"-").concat(f)},l.getComponents=function(){return s1(l.props)},l.buildCategorizedOptions=function(){return Ii(l.props,l.state.selectValue)},l.getCategorizedOptions=function(){return l.props.menuIsOpen?l.buildCategorizedOptions():[]},l.buildFocusableOptions=function(){return yh(l.buildCategorizedOptions())},l.getFocusableOptions=function(){return l.props.menuIsOpen?l.buildFocusableOptions():[]},l.ariaOnChange=function(f,g){l.setState({ariaSelection:Ne({value:f},g)})},l.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),l.focusInput())},l.onMenuMouseMove=function(f){l.blockOptionHover=!1},l.onControlMouseDown=function(f){if(!f.defaultPrevented){var g=l.props.openMenuOnClick;l.state.isFocused?l.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&l.onMenuClose():g&&l.openMenu("first"):(g&&(l.openAfterFocus=!0),l.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},l.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!l.props.isDisabled){var g=l.props,y=g.isMulti,b=g.menuIsOpen;l.focusInput(),b?(l.setState({inputIsHiddenAfterUpdate:!y}),l.onMenuClose()):l.openMenu("first"),f.preventDefault()}},l.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(l.clearValue(),f.preventDefault(),l.openAfterFocus=!1,f.type==="touchend"?l.focusInput():setTimeout(function(){return l.focusInput()}))},l.onScroll=function(f){typeof l.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&al(f.target)&&l.props.onMenuClose():typeof l.props.closeMenuOnScroll=="function"&&l.props.closeMenuOnScroll(f)&&l.props.onMenuClose()},l.onCompositionStart=function(){l.isComposing=!0},l.onCompositionEnd=function(){l.isComposing=!1},l.onTouchStart=function(f){var g=f.touches,y=g&&g.item(0);y&&(l.initialTouchX=y.clientX,l.initialTouchY=y.clientY,l.userIsDragging=!1)},l.onTouchMove=function(f){var g=f.touches,y=g&&g.item(0);if(y){var b=Math.abs(y.clientX-l.initialTouchX),S=Math.abs(y.clientY-l.initialTouchY),C=5;l.userIsDragging=b>C||S>C}},l.onTouchEnd=function(f){l.userIsDragging||(l.controlRef&&!l.controlRef.contains(f.target)&&l.menuListRef&&!l.menuListRef.contains(f.target)&&l.blurInput(),l.initialTouchX=0,l.initialTouchY=0)},l.onControlTouchEnd=function(f){l.userIsDragging||l.onControlMouseDown(f)},l.onClearIndicatorTouchEnd=function(f){l.userIsDragging||l.onClearIndicatorMouseDown(f)},l.onDropdownIndicatorTouchEnd=function(f){l.userIsDragging||l.onDropdownIndicatorMouseDown(f)},l.handleInputChange=function(f){var g=l.props.inputValue,y=f.currentTarget.value;l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange(y,{action:"input-change",prevInputValue:g}),l.props.menuIsOpen||l.onMenuOpen()},l.onInputFocus=function(f){l.props.onFocus&&l.props.onFocus(f),l.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(l.openAfterFocus||l.props.openMenuOnFocus)&&l.openMenu("first"),l.openAfterFocus=!1},l.onInputBlur=function(f){var g=l.props.inputValue;if(l.menuListRef&&l.menuListRef.contains(document.activeElement)){l.inputRef.focus();return}l.props.onBlur&&l.props.onBlur(f),l.onInputChange("",{action:"input-blur",prevInputValue:g}),l.onMenuClose(),l.setState({focusedValue:null,isFocused:!1})},l.onOptionHover=function(f){if(!(l.blockOptionHover||l.state.focusedOption===f)){var g=l.getFocusableOptions(),y=g.indexOf(f);l.setState({focusedOption:f,focusedOptionId:y>-1?l.getFocusedOptionId(f):null})}},l.shouldHideSelectedOptions=function(){return Sh(l.props)},l.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),l.focus()},l.onKeyDown=function(f){var g=l.props,y=g.isMulti,b=g.backspaceRemovesValue,S=g.escapeClearsValue,C=g.inputValue,v=g.isClearable,_=g.isDisabled,j=g.menuIsOpen,O=g.onKeyDown,P=g.tabSelectsValue,I=g.openMenuOnFocus,F=l.state,E=F.focusedOption,D=F.focusedValue,W=F.selectValue;if(!_&&!(typeof O=="function"&&(O(f),f.defaultPrevented))){switch(l.blockOptionHover=!0,f.key){case"ArrowLeft":if(!y||C)return;l.focusValue("previous");break;case"ArrowRight":if(!y||C)return;l.focusValue("next");break;case"Delete":case"Backspace":if(C)return;if(D)l.removeValue(D);else{if(!b)return;y?l.popValue():v&&l.clearValue()}break;case"Tab":if(l.isComposing||f.shiftKey||!j||!P||!E||I&&l.isOptionSelected(E,W))return;l.selectOption(E);break;case"Enter":if(f.keyCode===229)break;if(j){if(!E||l.isComposing)return;l.selectOption(E);break}return;case"Escape":j?(l.setState({inputIsHiddenAfterUpdate:!1}),l.onInputChange("",{action:"menu-close",prevInputValue:C}),l.onMenuClose()):v&&S&&l.clearValue();break;case" ":if(C)return;if(!j){l.openMenu("first");break}if(!E)return;l.selectOption(E);break;case"ArrowUp":j?l.focusOption("up"):l.openMenu("last");break;case"ArrowDown":j?l.focusOption("down"):l.openMenu("first");break;case"PageUp":if(!j)return;l.focusOption("pageup");break;case"PageDown":if(!j)return;l.focusOption("pagedown");break;case"Home":if(!j)return;l.focusOption("first");break;case"End":if(!j)return;l.focusOption("last");break;default:return}f.preventDefault()}},l.state.instancePrefix="react-select-"+(l.props.instanceId||++G1),l.state.selectValue=kf(o.value),o.menuIsOpen&&l.state.selectValue.length){var u=l.getFocusableOptionsWithIds(),m=l.buildFocusableOptions(),h=m.indexOf(l.state.selectValue[0]);l.state.focusableOptionsWithIds=u,l.state.focusedOption=m[h],l.state.focusedOptionId=cc(u,m[h])}return l}return db(i,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Ef(this.menuListRef,this.focusedOptionRef),O1()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(l){var u=this.props,m=u.isDisabled,h=u.menuIsOpen,f=this.state.isFocused;(f&&!m&&l.isDisabled||f&&h&&!l.menuIsOpen)&&this.focusInput(),f&&m&&!l.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!m&&l.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Ef(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(l,u){this.props.onInputChange(l,u)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(l){var u=this,m=this.state,h=m.selectValue,f=m.isFocused,g=this.buildFocusableOptions(),y=l==="first"?0:g.length-1;if(!this.props.isMulti){var b=g.indexOf(h[0]);b>-1&&(y=b)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:g[y],focusedOptionId:this.getFocusedOptionId(g[y])},function(){return u.onMenuOpen()})}},{key:"focusValue",value:function(l){var u=this.state,m=u.selectValue,h=u.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=m.indexOf(h);h||(f=-1);var g=m.length-1,y=-1;if(m.length){switch(l){case"previous":f===0?y=0:f===-1?y=g:y=f-1;break;case"next":f>-1&&f<g&&(y=f+1);break}this.setState({inputIsHidden:y!==-1,focusedValue:m[y]})}}}},{key:"focusOption",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",u=this.props.pageSize,m=this.state.focusedOption,h=this.getFocusableOptions();if(h.length){var f=0,g=h.indexOf(m);m||(g=-1),l==="up"?f=g>0?g-1:h.length-1:l==="down"?f=(g+1)%h.length:l==="pageup"?(f=g-u,f<0&&(f=0)):l==="pagedown"?(f=g+u,f>h.length-1&&(f=h.length-1)):l==="last"&&(f=h.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:h[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(h[f])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(oc):Ne(Ne({},oc),this.props.theme):oc})},{key:"getCommonProps",value:function(){var l=this.clearValue,u=this.cx,m=this.getStyles,h=this.getClassNames,f=this.getValue,g=this.selectOption,y=this.setValue,b=this.props,S=b.isMulti,C=b.isRtl,v=b.options,_=this.hasValue();return{clearValue:l,cx:u,getStyles:m,getClassNames:h,getValue:f,hasValue:_,isMulti:S,isRtl:C,options:v,selectOption:g,selectProps:b,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var l=this.state.selectValue;return l.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var l=this.props,u=l.isClearable,m=l.isMulti;return u===void 0?m:u}},{key:"isOptionDisabled",value:function(l,u){return jh(this.props,l,u)}},{key:"isOptionSelected",value:function(l,u){return wh(this.props,l,u)}},{key:"filterOption",value:function(l,u){return Nh(this.props,l,u)}},{key:"formatOptionLabel",value:function(l,u){if(typeof this.props.formatOptionLabel=="function"){var m=this.props.inputValue,h=this.state.selectValue;return this.props.formatOptionLabel(l,{context:u,inputValue:m,selectValue:h})}else return this.getOptionLabel(l)}},{key:"formatGroupLabel",value:function(l){return this.props.formatGroupLabel(l)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var l=this.props,u=l.isDisabled,m=l.isSearchable,h=l.inputId,f=l.inputValue,g=l.tabIndex,y=l.form,b=l.menuIsOpen,S=l.required,C=this.getComponents(),v=C.Input,_=this.state,j=_.inputIsHidden,O=_.ariaSelection,P=this.commonProps,I=h||this.getElementId("input"),F=Ne(Ne(Ne({"aria-autocomplete":"list","aria-expanded":b,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":S,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},b&&{"aria-controls":this.getElementId("listbox")}),!m&&{"aria-readonly":!0}),this.hasValue()?O?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return m?x.createElement(v,Ce({},P,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:I,innerRef:this.getInputRef,isDisabled:u,isHidden:j,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:g,form:y,type:"text",value:f},F)):x.createElement(v1,Ce({id:I,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Wi,onFocus:this.onInputFocus,disabled:u,tabIndex:g,inputMode:"none",form:y,value:""},F))})},{key:"renderPlaceholderOrValue",value:function(){var l=this,u=this.getComponents(),m=u.MultiValue,h=u.MultiValueContainer,f=u.MultiValueLabel,g=u.MultiValueRemove,y=u.SingleValue,b=u.Placeholder,S=this.commonProps,C=this.props,v=C.controlShouldRenderValue,_=C.isDisabled,j=C.isMulti,O=C.inputValue,P=C.placeholder,I=this.state,F=I.selectValue,E=I.focusedValue,D=I.isFocused;if(!this.hasValue()||!v)return O?null:x.createElement(b,Ce({},S,{key:"placeholder",isDisabled:_,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),P);if(j)return F.map(function($,Q){var le=$===E,re="".concat(l.getOptionLabel($),"-").concat(l.getOptionValue($));return x.createElement(m,Ce({},S,{components:{Container:h,Label:f,Remove:g},isFocused:le,isDisabled:_,key:re,index:Q,removeProps:{onClick:function(){return l.removeValue($)},onTouchEnd:function(){return l.removeValue($)},onMouseDown:function(he){he.preventDefault()}},data:$}),l.formatOptionLabel($,"value"))});if(O)return null;var W=F[0];return x.createElement(y,Ce({},S,{data:W,isDisabled:_}),this.formatOptionLabel(W,"value"))}},{key:"renderClearIndicator",value:function(){var l=this.getComponents(),u=l.ClearIndicator,m=this.commonProps,h=this.props,f=h.isDisabled,g=h.isLoading,y=this.state.isFocused;if(!this.isClearable()||!u||f||!this.hasValue()||g)return null;var b={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(u,Ce({},m,{innerProps:b,isFocused:y}))}},{key:"renderLoadingIndicator",value:function(){var l=this.getComponents(),u=l.LoadingIndicator,m=this.commonProps,h=this.props,f=h.isDisabled,g=h.isLoading,y=this.state.isFocused;if(!u||!g)return null;var b={"aria-hidden":"true"};return x.createElement(u,Ce({},m,{innerProps:b,isDisabled:f,isFocused:y}))}},{key:"renderIndicatorSeparator",value:function(){var l=this.getComponents(),u=l.DropdownIndicator,m=l.IndicatorSeparator;if(!u||!m)return null;var h=this.commonProps,f=this.props.isDisabled,g=this.state.isFocused;return x.createElement(m,Ce({},h,{isDisabled:f,isFocused:g}))}},{key:"renderDropdownIndicator",value:function(){var l=this.getComponents(),u=l.DropdownIndicator;if(!u)return null;var m=this.commonProps,h=this.props.isDisabled,f=this.state.isFocused,g={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(u,Ce({},m,{innerProps:g,isDisabled:h,isFocused:f}))}},{key:"renderMenu",value:function(){var l=this,u=this.getComponents(),m=u.Group,h=u.GroupHeading,f=u.Menu,g=u.MenuList,y=u.MenuPortal,b=u.LoadingMessage,S=u.NoOptionsMessage,C=u.Option,v=this.commonProps,_=this.state.focusedOption,j=this.props,O=j.captureMenuScroll,P=j.inputValue,I=j.isLoading,F=j.loadingMessage,E=j.minMenuHeight,D=j.maxMenuHeight,W=j.menuIsOpen,$=j.menuPlacement,Q=j.menuPosition,le=j.menuPortalTarget,re=j.menuShouldBlockScroll,z=j.menuShouldScrollIntoView,he=j.noOptionsMessage,oe=j.onMenuScrollToTop,me=j.onMenuScrollToBottom;if(!W)return null;var U=function(X,ie){var de=X.type,T=X.data,J=X.isDisabled,fe=X.isSelected,Te=X.label,at=X.value,Ct=_===T,Ge=J?void 0:function(){return l.onOptionHover(T)},_t=J?void 0:function(){return l.selectOption(T)},an="".concat(l.getElementId("option"),"-").concat(ie),ue={id:an,onClick:_t,onMouseMove:Ge,onMouseOver:Ge,tabIndex:-1,role:"option","aria-selected":l.state.isAppleDevice?void 0:fe};return x.createElement(C,Ce({},v,{innerProps:ue,data:T,isDisabled:J,isSelected:fe,key:an,label:Te,type:de,value:at,isFocused:Ct,innerRef:Ct?l.getFocusedOptionRef:void 0}),l.formatOptionLabel(X.data,"menu"))},se;if(this.hasOptions())se=this.getCategorizedOptions().map(function(k){if(k.type==="group"){var X=k.data,ie=k.options,de=k.index,T="".concat(l.getElementId("group"),"-").concat(de),J="".concat(T,"-heading");return x.createElement(m,Ce({},v,{key:T,data:X,options:ie,Heading:h,headingProps:{id:J,data:k.data},label:l.formatGroupLabel(k.data)}),k.options.map(function(fe){return U(fe,"".concat(de,"-").concat(fe.index))}))}else if(k.type==="option")return U(k,"".concat(k.index))});else if(I){var K=F({inputValue:P});if(K===null)return null;se=x.createElement(b,v,K)}else{var B=he({inputValue:P});if(B===null)return null;se=x.createElement(S,v,B)}var Y={minMenuHeight:E,maxMenuHeight:D,menuPlacement:$,menuPosition:Q,menuShouldScrollIntoView:z},N=x.createElement(Qj,Ce({},v,Y),function(k){var X=k.ref,ie=k.placerProps,de=ie.placement,T=ie.maxHeight;return x.createElement(f,Ce({},v,Y,{innerRef:X,innerProps:{onMouseDown:l.onMenuMouseDown,onMouseMove:l.onMenuMouseMove},isLoading:I,placement:de}),x.createElement(S1,{captureEnabled:O,onTopArrive:oe,onBottomArrive:me,lockEnabled:re},function(J){return x.createElement(g,Ce({},v,{innerRef:function(Te){l.getMenuListRef(Te),J(Te)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:l.getElementId("listbox")},isLoading:I,maxHeight:T,focusedOption:_}),se)}))});return le||Q==="fixed"?x.createElement(y,Ce({},v,{appendTo:le,controlElement:this.controlRef,menuPlacement:$,menuPosition:Q}),N):N}},{key:"renderFormField",value:function(){var l=this,u=this.props,m=u.delimiter,h=u.isDisabled,f=u.isMulti,g=u.name,y=u.required,b=this.state.selectValue;if(y&&!this.hasValue()&&!h)return x.createElement(k1,{name:g,onFocus:this.onValueInputFocus});if(!(!g||h))if(f)if(m){var S=b.map(function(_){return l.getOptionValue(_)}).join(m);return x.createElement("input",{name:g,type:"hidden",value:S})}else{var C=b.length>0?b.map(function(_,j){return x.createElement("input",{key:"i-".concat(j),name:g,type:"hidden",value:l.getOptionValue(_)})}):x.createElement("input",{name:g,type:"hidden",value:""});return x.createElement("div",null,C)}else{var v=b[0]?this.getOptionValue(b[0]):"";return x.createElement("input",{name:g,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var l=this.commonProps,u=this.state,m=u.ariaSelection,h=u.focusedOption,f=u.focusedValue,g=u.isFocused,y=u.selectValue,b=this.getFocusableOptions();return x.createElement(m1,Ce({},l,{id:this.getElementId("live-region"),ariaSelection:m,focusedOption:h,focusedValue:f,isFocused:g,selectValue:y,focusableOptions:b,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var l=this.getComponents(),u=l.Control,m=l.IndicatorsContainer,h=l.SelectContainer,f=l.ValueContainer,g=this.props,y=g.className,b=g.id,S=g.isDisabled,C=g.menuIsOpen,v=this.state.isFocused,_=this.commonProps=this.getCommonProps();return x.createElement(h,Ce({},_,{className:y,innerProps:{id:b,onKeyDown:this.onKeyDown},isDisabled:S,isFocused:v}),this.renderLiveRegion(),x.createElement(u,Ce({},_,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:S,isFocused:v,menuIsOpen:C}),x.createElement(f,Ce({},_,{isDisabled:S}),this.renderPlaceholderOrValue(),this.renderInput()),x.createElement(m,Ce({},_,{isDisabled:S}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(l,u){var m=u.prevProps,h=u.clearFocusValueOnUpdate,f=u.inputIsHiddenAfterUpdate,g=u.ariaSelection,y=u.isFocused,b=u.prevWasFocused,S=u.instancePrefix,C=l.options,v=l.value,_=l.menuIsOpen,j=l.inputValue,O=l.isMulti,P=kf(v),I={};if(m&&(v!==m.value||C!==m.options||_!==m.menuIsOpen||j!==m.inputValue)){var F=_?U1(l,P):[],E=_?Vf(Ii(l,P),"".concat(S,"-option")):[],D=h?H1(u,P):null,W=W1(u,F),$=cc(E,W);I={selectValue:P,focusedOption:W,focusedOptionId:$,focusableOptionsWithIds:E,focusedValue:D,clearFocusValueOnUpdate:!1}}var Q=f!=null&&l!==m?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},le=g,re=y&&b;return y&&!re&&(le={value:Ri(O,P,P[0]||null),options:P,action:"initial-input-focus"},re=!b),g?.action==="initial-input-focus"&&(le=null),Ne(Ne(Ne({},I),Q),{},{prevProps:l,ariaSelection:le,prevWasFocused:re})}}]),i})(x.Component);Ch.defaultProps=V1;var q1=x.forwardRef(function(r,s){var i=cb(r);return x.createElement(Ch,Ce({ref:s},i))}),K1=q1;const Y1={container:r=>({...r,minWidth:"220px"}),control:(r,s)=>({...r,backgroundColor:"rgba(255, 255, 255, 0.1)",borderColor:s.isFocused?"#3b82f6":"rgba(255, 255, 255, 0.2)",borderRadius:"0.25rem",minHeight:"34px",boxShadow:s.isFocused?"0 0 0 1px #3b82f6":"none",cursor:"pointer","&:hover":{borderColor:"#3b82f6"}}),valueContainer:r=>({...r,padding:"0 8px"}),input:r=>({...r,color:"white",margin:0,padding:0}),singleValue:r=>({...r,color:"white",overflow:"visible",textOverflow:"clip"}),placeholder:r=>({...r,color:"rgba(255, 255, 255, 0.5)"}),menu:r=>({...r,backgroundColor:"#1f2937",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"0.25rem",zIndex:9999,minWidth:"280px",width:"max-content",maxWidth:"400px"}),menuList:r=>({...r,maxHeight:"250px",padding:0}),option:(r,s)=>({...r,backgroundColor:s.isSelected?"#3b82f6":s.isFocused?"rgba(59, 130, 246, 0.3)":"transparent",color:"white",cursor:"pointer",padding:"10px 14px",whiteSpace:"nowrap","&:active":{backgroundColor:"#3b82f6"}}),noOptionsMessage:r=>({...r,color:"rgba(255, 255, 255, 0.5)"}),dropdownIndicator:(r,s)=>({...r,color:"rgba(255, 255, 255, 0.5)",padding:"4px",transform:s.selectProps.menuIsOpen?"rotate(180deg)":null,transition:"transform 0.2s ease","&:hover":{color:"white"}}),clearIndicator:r=>({...r,color:"rgba(255, 255, 255, 0.5)",padding:"4px","&:hover":{color:"white"}}),indicatorSeparator:r=>({...r,backgroundColor:"rgba(255, 255, 255, 0.2)"}),multiValue:r=>({...r,backgroundColor:"rgba(59, 130, 246, 0.3)",borderRadius:"4px"}),multiValueLabel:r=>({...r,color:"white",padding:"2px 6px"}),multiValueRemove:r=>({...r,color:"rgba(255, 255, 255, 0.7)",cursor:"pointer","&:hover":{backgroundColor:"rgba(239, 68, 68, 0.5)",color:"white"}})};function Bt({options:r,value:s,onChange:i,placeholder:o="-- Select --",isClearable:l=!0,isMulti:u=!1,className:m=""}){let h;u?s&&typeof s=="string"?h=s.split(",").map(y=>y.trim()).filter(y=>y).map(y=>r.find(b=>b.value===y)).filter(Boolean):h=[]:h=s?r.find(g=>g.value===s):null;const f=g=>{if(u){const y=g?g.map(b=>b.value).join(", "):"";i(y)}else i(g?g.value:"")};return n.jsx(K1,{options:r,value:h,onChange:f,placeholder:o,isClearable:l,isSearchable:!0,isMulti:u,styles:Y1,className:m,classNamePrefix:"searchable-select",noOptionsMessage:()=>"No matches found",menuPlacement:"auto",closeMenuOnSelect:!u})}const _h=["[REDACTED]","Abandoned","Abandoned Crucible","Abandoned Paradise","Acidic","Acrid","Airless","Arctic","Arid","Ash-shrouded","Ashen","Azure","Barren","Basalt","Bladed","Bleached Ruin","Bleak","Blighted","Blood","Boggy","Boiling","Boiling Doom","Bountiful","Breached","Bubbling","Cabled","Calcified","Capped","Caustic","Caustic Nightmare","Cerulean","Charred","Chromatic Fog","Claimed By Decay","Cloudy","Columned","Contaminated","Contoured","Corrosive","Crimson","Damp","Dead","Deathly Green Anomaly","Decaying Nuclear","Desert","Desolate","Doomed","Doomed Jade","Drowning","Dusty","Empty","Endless","Endless Morass","Erased","Erupting","Exotic","Fiery","Fiery Dreadworld","Fissured","Flame-Ruptured","Flourishing","Foaming","Foggy","Forsaken","Fractured","Fragmented","Freezing","Frostbound","Frothing","Frozen","Frozen Anomaly","Frozen Hell","Fungal","Gamma Intensive","Gas Giant","Glacial","Grassy","Harsh Blue Globe","Haunted Emeril","Hazardous Moisture","Hazy","Hexagonal","Hiemal","High Energy","High Radio Source","High Temperature","Hot","Humid","Hyperborean","Icebound","Icy","Icy Abhorrence","Imminent Core Detonation","Incandescent","Infested","Infested Paradise","Irradiated","Isotopic","Lava","Life-Incompatible","Lifeless","Lost Blue","Lost Green","Lost Red","Lost To Fire","Low Atmosphere","Lush","Magma","Malfunctioning","Marshy","Mechanical","Metallic","Metallurgic","Miasmatic","Misty","Molten","Murky","Mutated","Mutating Relic","Noxious","Nuclear","Obsidian Bead","Of Light","Ossified","Overgrown","Overgrown Relic","Paradise","Parched","Petrified","Pillared","Planetary Anomaly","Plated","Poisonous","Quagmire","Radioactive","Radioactive Abomination","Rainy","Rattling","Reeking","Rocky","Rotting","Ruined","Ruined Dustbowl","Scalding","Scaly","Scarlet","Scorched","Scorched Relic","Sharded","Shattered","Shell-Strewn","Skeletal","Spined","Sporal","Stellar Corruption","Sub-Zero","Supercritical","Swamp","Tectonic","Temperate","Temporary","Terraforming Catastrophe","The Nest","Thirsty","Torrid","Toxic","Toxic Anomaly","Tropical","Ultramarine","Unstable","Vapour","Verdant","Vermillion Globe","Vile Anomaly","Violent","Viridescent","Volcanic","Webbed","Wind-Swept","Wine Dark","Worm-Ridden","Xeno-Colony"].sort((r,s)=>r.localeCompare(s)),kh=["[REDACTED]","Absent","Acid Rain","Acidic Deluges","Acidic Dust","Acidic Dust Pockets","Airless","Alkaline Cloudbursts","Alkaline Rain","Alkaline Storms","All-Consuming Cold","All-Consuming Fog","Angered Clouds","Anomalous","Arid","Ashen Destruction","Atmospheric Corruption","Atmospheric Heat Instabilities","Azure Storms","Baked","Balmy","Beautiful","Bilious Storms","Billowing Dust Storms","Blasted Atmosphere","Blazed","Blissful","Blistering Damp","Blistering Floods","Blizzard","Blood Rain","Boiling Catastrophe","Boiling Monsoons","Boiling Puddles","Boiling Superstorms","Bone-Stripping Acid Storms","Broiling Humidity","Burning","Burning Air","Burning Crimson","Burning Gas Clouds","Carmine Winds","Cataclysmic Monsoons","Caustic Dust","Caustic Floods","Caustic Moisture","Caustic Winds","Ceaseless Drought","Choking Clouds","Choking Humidity","Choking Sandstorms","Cinderfalls","Clammy Menace","Clear","Clouds of Haunted Green","Coastal Storms","Cold","Colossal Firestorms","Combustible Dust","Contaminated","Contaminated Puddles","Contaminated Squalls","Corrosive Cyclones","Corrosive Damp","Corrosive Rainstorms","Corrosive Sleet Storms","Corrosive Storms","Corrupted Blood","Crimson Heat","Crisp","Damp","Damp Misery","Dangerously Hot","Dangerously Hot Fog","Dangerously Toxic Rain","Dead Wastes","Deadly Pressure Variations","Death Fog","Deep Freeze","Dehydrated","Deluge","Desiccated","Desolate","Direct Sunlight","Downpours","Drifting Firestorms","Drifting Snowstorms","Drizzle","Droughty","Dry Gusts","Dust-Choked Winds","Echoes of Acid","Eerily Calm","Electric Rain","Elevated Radioactivity","Emollient","Energetic Storms","Enormous Nuclear Storms","Enveloping Ash","Explosive Gas Eruptions","Extreme Acidity","Extreme Atmospheric Decay","Extreme Cold","Extreme Contamination","Extreme Heat","Extreme Low Pressure","Extreme Nuclear Decay","Extreme Radioactivity","Extreme Thermonuclear Fog","Extreme Toxicity","Extreme Wind Blasting","Extreme Winds","Fair","Fevered Clouds","Fine","Firestorms","Flaming Hail","Freezing","Freezing Night Winds","Freezing Rain","Frequent Blizzards","Frequent Firestorms","Frequent Particle Eruptions","Frequent Toxic Floods","Frigid","Frost","Frozen","Frozen Clouds","Gamma Cyclones","Gamma Dust","Gas Clouds","Gas Storms","Gelid","Gentle Mist","Glacial","Harmful Rain","Harsh Toxic Wind","Harsh Winds","Harsh, Icy Winds","Haunted Frost","Hazardous Moisture","Hazardous Temperature Extremes","Hazardous Whiteouts","Heated","Heated Atmosphere","Heated Gas Pockets","Heavily Toxic Rain","Heavy Rain","High Energy","Highly Variable Temperatures","Hot","Howling Blizzards","Howling Gales","Humid","Ice Storms","Icebound","Icy","Icy Blasts","Icy Nights","Icy Tempests","Incendiary Dust","Incendiary Winds","Indetectable Burning","Inert","Inescapeable Toxins","Inferno","Infinite Toxic Mist","Infrequent Blizzards","Infrequent Dust Storms","Infrequent Heat Storms","Infrequent Toxic Drizzle","Intense Cold","Intense Dust","Intense Heat","Intense Heatbursts","Intense Rainfall","Intermittent Wind Blasting","Internal Rain","Inverted Superstorms","Invisible Jade Winds","Invisible Mist","Irradiated","Irradiated Downpours","Irradiated Storms","Irradiated Thunderstorms","Irradiated Winds","Lethal Ash Storms","Lethal Atmosphere","Lethal Humidity Outbreaks","Light Showers","Liquid Hell","Lost Clouds","Lung-Burning Night Wind","Magma Geysers","Magma Rain","Mellow","Memories of Frost","Migratory Blizzards","Mild","Mild Rain","Moderate","Moistureless","Monsoon","Mostly Calm","Muggy Haze","No Atmosphere","Noxious Gas Storms","Noxious Gases","Nuclear Emission","Nuclidic Atmosphere","Obsidian Heat","Occasional Acid Storms","Occasional Ash Storms","Occasional Boiling Fog","Occasional Firestorms","Occasional Radiation Outbursts","Occasional Sandstorms","Occasional Scalding Cloudbursts","Occasional Snowfall","Oppressive","Outbreaks of Frozen Rain","Overly Warm","Painful Mist","Painfully Hot Rain","Parched","Parched Sands","Particulate Winds","Passing Toxic Fronts","Peaceful","Peaceful Climate","Perfectly Clear","Permafrost","Pillars of Flame","Planetwide Desiccation","Planetwide Radiation Storms","Pleasant","Plumes of Fire","Poison Cyclones","Poison Flurries","Poison Rain","Poisonous Dust","Poisonous Gas","Pouring Rain","Pouring Toxic Rain","Powder Snow","Radioactive","Radioactive Damp","Radioactive Decay","Radioactive Dust Storms","Radioactive Humidity","Radioactive Storms","Radioactivity","Raging Snowstorms","Rain of Atlas","Rainstorms","Rare Firestorms","Reactive","Reactive Dust","Reactive Rain","Red Mist","Refreshing Breeze","Roaring Ice Storms","Roaring Nuclear Wind","Sand Blizzards","Sandstorms","Scalding Heat","Scalding Rainstorms","Scorched","Self-Igniting Storm","Silent","Smothering Ash","Smouldering","Snow","Snowfall","Snowstorms","Snowy","Soggy Danger","Sporadic Grit Storms","Sterile","Sticky Heat","Stinging Atmosphere","Stinging Puddles","Storms of Desolation","Sulphurous Inferno","Sunny","Supercooled Storms","Superheated Air","Superheated Drizzle","Superheated Gas Pockets","Superheated Mists","Superheated Rain","Sweltering","Sweltering Damp","Tectonic Storms","Temperate","Tempered","Tepid Damp","Thirsty Clouds","Torrential Acid","Torrential Heat","Torrential Rain","Torrid Deluges","Toxic Clouds","Toxic Damp","Toxic Dust","Toxic Horror","Toxic Monsoons","Toxic Outbreaks","Toxic Rain","Toxic Superstorms","Tropical Storms","Ultramarine Wind","Unclouded Skies","Unending Sunlight","Unfathomable Storms","Unimaginable Blue","Unstable","Unstable Atmosphere","Unstable Fog","Unusually Mild","Usually Mild","Utterly Still","Vermillion Storms","Volatile","Volatile Dust Storms","Volatile Storms","Volatile Winds","Volatile Windstorms","Wandering Frosts","Wandering Hot Spots","Warm","Warm Dewdrops","Wet","Whiteout","Wind","Winds From Beyond","Winds of Glass","Wintry","Withered"].sort((r,s)=>r.localeCompare(s)),Eh=["Absent","Aggressive","Answer To None","Attentive","Corrupted","De-Harmonised","Dissonant","Enforcing","Ever-Present","Few","Forsaken","Frenzied","Frequent","Hateful","High Security","Hostile Patrols","Inescapable","Infrequent","Intermittent","Irregular Patrols","Isolated","Limited","Low","Low Security","Malicious","Minimal","Missing","None","None Present","Normal","Not Present","Observant","Rebellious","Regular Patrols","Remote","Require Obedience","Require Orthodoxy","Sharded from the Atlas","Sparce","Spread Thin","Threatening","Unwavering","Zealous"].sort((r,s)=>r.localeCompare(s)),Rh=["Absent","Abundant","Ample","Average","Barren","Between Worlds","Bountiful","Common","Copious","Deficient","Devoid","Diseased","Displaced","Empty","Fair","Few","Forfeited","Frequent","From Elsewhere","Full","Generous","High","Infected","Infrequent","Intermittent","Invasive","Lacking","Limited","Lost","Low","Lush","Medium","Misplaced","Moderate","None","Nonexistent","Not Present","Numerous","Occasional","Ordinary","Rare","Regular","Rich","Scarce","Screaming","Sparce","Sporadic","Typical","Twisted","Uncommon","Undetected","Unusual","Uprooted","Viral"].sort((r,s)=>r.localeCompare(s)),Ph=["Absent","Abundant","Ample","Average","Barren","Between Worlds","Bountiful","Common","Copious","Deficient","Devoid","Diseased","Displaced","Empty","Fair","Few","Forfeited","Frequent","From Elsewhere","Full","Generous","High","Infected","Infrequent","Intermittent","Invasive","Lacking","Limited","Lost","Low","Medium","Misplaced","Moderate","None","Nonexistent","Not Present","Numerous","Occasional","Ordinary","Rare","Regular","Rich","Scarce","Screaming","Sparce","Sporadic","Synthetic","Typical","Twisted","Uncommon","Undetected","Unusual","Uprooted","Viral"].sort((r,s)=>r.localeCompare(s)),Oh=["Activated Cadmium","Activated Copper","Activated Emeril","Activated Indium","Activated Quartzite","Ammonia","Ancestral Memories","Atlantideum","Basalt","Cactus Flesh","Cadmium","Carbon","Chlorine","Chromatic Metal","Cobalt","Condensed Carbon","Copper","Crystallised Helium","Cursed Dust","Cyto-Phosphate","Deuterium","Di-hydrogen","Dioxite","Emeril","Faecium","Ferrite Dust","Fragmented Qualia","Frost Crystal","Fungal Mould","Gamma Root","Gold","Hexite","Indium","Ionised Cobalt","Kelp Sac","Liquid Sun","Lithium","Living Slime","Magnetised Ferrite","Marrow Bulb","Methane","Mordite","Nitrogen","Oxygen","Paraffinium","Phosphorus","Platinum","Polished Stone","Pugneum","Pure Ferrite","Pyrite","Quartzite","Radon","Residual Goop","Runaway Mould","Rusted Metal","Salt","Shattered Qualia","Silicate Powder","Silver","Sodium","Sodium Nitrate","Solanium","Somnal Dust","Star Bulb","Sulphurine","Tainted Metal","Tritium","Uranium","Viscous Fluids","Void Mote","Ancient Bones","Salvageable Scrap","Storm Crystals","Albumen Pearl","Vortex Cube","Submerged Relic","Gravitino Ball","Sac Venom","Larval Core","Living Pearl","Crystal Sulphide","Hadal Core","Hypnotic Eye","Bubble Cluster","Cable Pod","Calcishroom","Capillary Shell","Electric Cube","Glitching Separator","Hexplate Bush","Light Fissure","Ossified Star","Rattle Spine","Terbium Growth","Quad Servo","Walker Brain","Hyaline Brain","Salvaged Data","Geode","Gold Nugget","Crystal Fragment","Echo Seed","Tritium Hypercluster"].sort((r,s)=>r.localeCompare(s)),Kt=r=>r.map(s=>({value:s,label:s})),Q1=Kt(_h),X1=Kt(kh),Z1=Kt(Eh),J1=Kt(Rh),eN=Kt(Ph),tN=Kt(Oh);function Hf({moon:r,index:s,onChange:i,onRemove:o,onSave:l}){const[u,m]=x.useState(!1);function h(g,y){const b={...r,[g]:y};i(s,b)}async function f(g){m(!0);try{const y=g.target.files[0];if(!y)return;const b=await Fp(y);h("photo",b.path)}catch(y){alert("Upload failed: "+y)}m(!1)}return n.jsxs("div",{className:"p-2 border rounded my-2 bg-white/5",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm",children:"Moon Name"}),n.jsx("input",{placeholder:"Moon name",className:"mt-1 p-1 rounded w-full",value:r.name||"",onChange:g=>h("name",g.target.value)})]}),n.jsxs("div",{className:"min-w-56",children:[n.jsx("label",{className:"block text-sm",children:"Biome"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:Q1,value:r.biome||"",onChange:g=>h("biome",g),placeholder:"Search biome..."})})]}),n.jsxs("div",{className:"min-w-56",children:[n.jsx("label",{className:"block text-sm",children:"Weather"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:X1,value:r.weather||"",onChange:g=>h("weather",g),placeholder:"Search weather..."})})]}),n.jsx("div",{className:"pl-2",children:n.jsx("button",{type:"button",onClick:()=>o(s),className:"px-2 py-1 bg-red-600 rounded",children:"Remove Moon"})})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Sentinels"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:Z1,value:r.sentinel||"",onChange:g=>h("sentinel",g),placeholder:"Search sentinels..."})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Flora"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:J1,value:r.flora||"",onChange:g=>h("flora",g),placeholder:"Search flora..."})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Fauna"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:eN,value:r.fauna||"",onChange:g=>h("fauna",g),placeholder:"Search fauna..."})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Materials"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:tN,value:r.materials||"",onChange:g=>h("materials",g),placeholder:"Search resources...",isMulti:!0})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Notes"}),n.jsx("input",{placeholder:"Optional notes",className:"mt-1 p-1 rounded w-full",value:r.notes||"",onChange:g=>h("notes",g.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Photo"}),n.jsx("input",{"aria-label":"Moon Photo",type:"file",onChange:f,className:"mt-1"}),u&&n.jsx("div",{className:"muted text-sm mt-1",children:"Uploading..."}),!u&&r.photo&&n.jsxs("div",{className:"mt-2 relative inline-block group",children:[n.jsx("img",{src:r.photo.startsWith("http")?r.photo:`/haven-ui-photos/${r.photo.replace(/^photos[\\/]/,"").split(/[\\/]/).pop()}`,alt:"Moon photo",className:"max-w-xs max-h-32 rounded border border-gray-600"}),n.jsx("button",{type:"button",onClick:()=>h("photo",null),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-sm font-bold",title:"Remove photo",children:"X"}),n.jsx("div",{className:"text-xs text-gray-400 mt-1 break-all",children:r.photo})]})]})]}),n.jsx("div",{className:"mt-2",children:l&&n.jsx("button",{type:"button",onClick:()=>l(r),className:"px-3 py-1 bg-blue-600 rounded",children:"Save"})})]})}const nN=Kt(_h),rN=Kt(kh),sN=Kt(Eh),aN=Kt(Rh),iN=Kt(Ph),lN=Kt(Oh);function Wf({planet:r,index:s,onChange:i,onRemove:o,onSave:l}){const[u,m]=x.useState(!1),[h,f]=x.useState(!1),[g,y]=x.useState(null),[b,S]=x.useState(null);function C(F,E){const D={...r,[F]:E};i(s,D)}function v(){y(-1),S({name:"",biome:"",weather:"",sentinel:"None",fauna:"N/A",flora:"N/A",materials:"",notes:"",photo:null}),f(!0)}function _(F,E){const D=[...r.moons||[]];D[F]=E,C("moons",D)}function j(F){const E=[...r.moons||[]];E.splice(F,1),C("moons",E)}function O(F){y(F),S(r.moons[F]),f(!0)}function P(F){const E=[...r.moons||[]];g===-1?E.push(F):E[g]=F,C("moons",E),f(!1)}async function I(F){m(!0);try{const E=F.target.files[0];if(!E)return;const D=await Fp(E);C("photo",D.path)}catch(E){alert("Upload failed: "+E)}m(!1)}return n.jsxs("div",{className:"p-3 my-3 border rounded bg-white/5",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm",children:"Planet Name"}),n.jsx("input",{className:"mt-1 p-1 rounded w-full",value:r.name||"",onChange:F=>C("name",F.target.value),placeholder:"Planet name"})]}),n.jsxs("div",{className:"min-w-56",children:[n.jsx("label",{className:"block text-sm",children:"Biome"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:nN,value:r.biome||"",onChange:F=>C("biome",F),placeholder:"Search biome..."})})]}),n.jsxs("div",{className:"min-w-56",children:[n.jsx("label",{className:"block text-sm",children:"Weather"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:rN,value:r.weather||"",onChange:F=>C("weather",F),placeholder:"Search weather..."})})]})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Sentinels"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:sN,value:r.sentinel||"",onChange:F=>C("sentinel",F),placeholder:"Search sentinels..."})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Flora"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:aN,value:r.flora||"",onChange:F=>C("flora",F),placeholder:"Search flora..."})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Fauna"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:iN,value:r.fauna||"",onChange:F=>C("fauna",F),placeholder:"Search fauna..."})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Resources / Materials"}),n.jsx("div",{className:"mt-1",children:n.jsx(Bt,{options:lN,value:r.materials||"",onChange:F=>C("materials",F),placeholder:"Search resources...",isMulti:!0})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Base Location"}),n.jsx("input",{"aria-label":"Planet Base",placeholder:"Base location",className:"mt-1 p-1 rounded w-full",value:r.base_location||"",onChange:F=>C("base_location",F.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Photo"}),n.jsx("input",{"aria-label":"Planet Photo",type:"file",onChange:I,className:"mt-1"}),u&&n.jsx("div",{className:"muted text-sm mt-1",children:"Uploading..."}),!u&&r.photo&&n.jsxs("div",{className:"mt-2 relative inline-block group",children:[n.jsx("img",{src:r.photo.startsWith("http")?r.photo:`/haven-ui-photos/${r.photo.replace(/^photos[\\/]/,"").split(/[\\/]/).pop()}`,alt:"Planet photo",className:"max-w-xs max-h-32 rounded border border-gray-600"}),n.jsx("button",{type:"button",onClick:()=>C("photo",null),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-sm font-bold",title:"Remove photo",children:"X"}),n.jsx("div",{className:"text-xs text-gray-400 mt-1 break-all",children:r.photo})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Notes"}),n.jsx("input",{placeholder:"Notes",className:"mt-1 p-1 rounded w-full",value:r.notes||"",onChange:F=>C("notes",F.target.value)})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("button",{type:"button",onClick:v,className:"px-3 py-1 bg-green-600 rounded",children:" Add Moon"}),n.jsx("button",{type:"button",onClick:()=>o(s),className:"ml-3 px-3 py-1 bg-red-600 rounded",children:"Remove Planet"}),l&&n.jsx("button",{type:"button",onClick:()=>l(r),className:"ml-3 px-3 py-1 bg-blue-600 rounded",children:"Save"})]}),n.jsx("div",{className:"mt-3",children:(r.moons||[]).map((F,E)=>n.jsxs("div",{children:[n.jsx(Hf,{index:E,moon:F,onChange:_,onRemove:j}),n.jsx("div",{className:"mt-1",children:n.jsx("button",{type:"button",onClick:()=>O(E),className:"px-2 py-1 bg-sky-600 text-white rounded",children:"Edit Moon"})})]},E))}),h&&n.jsx(Qe,{title:g===-1?"Add Moon":"Edit Moon",onClose:()=>f(!1),children:n.jsx(Hf,{moon:b,index:g,onChange:(F,E)=>S(E),onSave:P,onRemove:()=>{f(!1)}})})]})}const oN=({value:r,onChange:s,onDecoded:i})=>{const[o,l]=x.useState(r||""),[u,m]=x.useState([]),[h,f]=x.useState({}),[g,y]=x.useState("visual"),[b,S]=x.useState({valid:null,message:null}),[C,v]=x.useState(null),[_,j]=x.useState(!1);x.useEffect(()=>{ce.get("/api/glyph_images").then(Q=>{f(Q.data)}).catch(Q=>{console.error("Failed to load glyph images:",Q)})},[]),x.useEffect(()=>{r&&r!==o&&(l(r),m(r.split("")))},[r]),x.useEffect(()=>{s&&s(o)},[o,s]),x.useEffect(()=>{o.length===12?O(o):(v(null),S({valid:null,message:null}))},[o]);const O=async Q=>{j(!0);try{const le=await ce.post("/api/validate_glyph",{glyph:Q});if(!le.data.valid){S({valid:!1,message:le.data.error}),v(null),j(!1);return}const re=await ce.post("/api/decode_glyph",{glyph:Q,apply_scale:!1});v(re.data);const z=[];le.data.warning&&z.push(le.data.warning),re.data.warnings&&z.push(re.data.warnings),S({valid:!0,message:z.length>0?z.join("; "):null}),i&&i(re.data)}catch(le){S({valid:!1,message:le.response?.data?.detail||"Failed to decode glyph"}),v(null)}j(!1)},P=Q=>{if(u.length<12){const le=[...u,Q];m(le),l(le.join(""))}},I=()=>{if(u.length>0){const Q=u.slice(0,-1);m(Q),l(Q.join(""))}},F=()=>{m([]),l(""),v(null),S({valid:null,message:null})},E=Q=>{const le=Q.target.value.toUpperCase().replace(/[^0-9A-F]/g,"").slice(0,12);l(le),m(le.split(""))},D=Q=>Q?Q.length===12?`${Q[0]}-${Q.slice(1,4)}-${Q.slice(4,6)}-${Q.slice(6,9)}-${Q.slice(9,12)}`:Q:"",W=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],$={0:"Sunset",1:"Bird",2:"Face",3:"Diplo",4:"Eclipse",5:"Balloon",6:"Boat",7:"Bug",8:"Dragonfly",9:"Galaxy",A:"Voxel",B:"Fish",C:"Tent",D:"Rocket",E:"Tree",F:"Atlas"};return n.jsxs("div",{className:"glyph-picker bg-gray-900 p-4 rounded-lg border border-purple-500",children:[n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx("button",{type:"button",onClick:()=>y("visual"),className:`px-4 py-2 rounded ${g==="visual"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Visual Picker"}),n.jsx("button",{type:"button",onClick:()=>y("text"),className:`px-4 py-2 rounded ${g==="text"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Text Input"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Portal Glyph Code (12 digits)"}),n.jsx("div",{className:"bg-gray-800 p-3 rounded border border-gray-700 font-mono text-xl text-center",children:o.length>0?n.jsx("span",{className:b.valid===!1?"text-red-400":"text-green-400",children:D(o)}):n.jsx("span",{className:"text-gray-500",children:"Enter or select glyphs..."})}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1 text-center",children:[o.length,"/12 digits"]})]}),g==="visual"&&n.jsxs("div",{children:[n.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-8 gap-2 sm:gap-2 mb-4",children:W.map(Q=>n.jsxs("button",{type:"button",onClick:()=>P(Q),disabled:u.length>=12,className:"relative aspect-square border-2 border-purple-500 rounded hover:border-purple-300 hover:bg-purple-900/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden bg-gray-800",title:`${$[Q]} (${Q})`,children:[h[Q]?n.jsx("img",{src:`/haven-ui-photos/${h[Q]}`,alt:$[Q],className:"w-full h-full object-contain p-1 sm:p-1 pb-4 sm:pb-4"}):n.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-purple-300 font-mono text-2xl sm:text-lg pb-4",children:Q}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/80 text-[10px] sm:text-xs text-purple-300 py-0.5 text-center font-mono",children:Q})]},Q))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:I,disabled:u.length===0,className:"flex-1 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Backspace"}),n.jsx("button",{type:"button",onClick:F,disabled:u.length===0,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear All"})]})]}),g==="text"&&n.jsxs("div",{children:[n.jsx("input",{type:"text",value:o,onChange:E,placeholder:"Paste 12-digit hex code (e.g., 10A4F3E7B2C1)",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded text-white font-mono uppercase focus:border-purple-500 focus:outline-none",maxLength:12}),n.jsx("button",{type:"button",onClick:F,className:"w-full mt-2 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded",children:"Clear"})]}),b.message&&n.jsxs("div",{className:`mt-4 p-3 rounded ${b.valid===!1?"bg-red-900/50 border border-red-500 text-red-300":"bg-yellow-900/50 border border-yellow-500 text-yellow-300"}`,children:[n.jsx("div",{className:"font-semibold mb-1",children:b.valid===!1?" Invalid Glyph":" Warning"}),n.jsx("div",{className:"text-sm",children:b.message})]}),_&&n.jsx("div",{className:"mt-4 p-3 bg-gray-800 rounded border border-purple-500 text-center text-purple-300",children:"Decoding glyph..."}),C&&!_&&n.jsxs("div",{className:`mt-4 p-3 rounded border ${C.is_phantom||C.is_in_core?"bg-orange-900/30 border-orange-500":"bg-green-900/30 border-green-500"}`,children:[n.jsx("div",{className:"font-semibold mb-2 flex items-center gap-2",children:C.is_phantom||C.is_in_core?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-orange-300",children:" Decoded Coordinates"}),C.is_phantom&&n.jsx("span",{className:"text-xs bg-purple-600 text-white px-2 py-0.5 rounded",title:"Phantom Star - Not normally accessible on Galactic Map",children:" PHANTOM"}),C.is_in_core&&n.jsx("span",{className:"text-xs bg-red-600 text-white px-2 py-0.5 rounded",title:"Located in Galactic Core Void",children:" CORE"})]}):n.jsx("span",{className:"text-green-300",children:" Decoded Coordinates"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-300",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"X:"})," ",n.jsx("span",{className:`font-mono ${C.is_phantom||C.is_in_core?"text-orange-300":"text-green-300"}`,children:C.x})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Y:"})," ",n.jsx("span",{className:`font-mono ${C.is_phantom||C.is_in_core?"text-orange-300":"text-green-300"}`,children:C.y})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Z:"})," ",n.jsx("span",{className:`font-mono ${C.is_phantom||C.is_in_core?"text-orange-300":"text-green-300"}`,children:C.z})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Planet:"})," ",n.jsx("span",{className:`font-mono ${C.is_phantom||C.is_in_core?"text-orange-300":"text-green-300"}`,children:C.planet})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-400",children:"Region:"})," ",n.jsxs("span",{className:`font-mono ${C.is_phantom||C.is_in_core?"text-orange-300":"text-green-300"}`,children:["[",C.region_x,", ",C.region_y,", ",C.region_z,"]"]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-400",children:"Solar System Index:"})," ",n.jsxs("span",{className:`font-mono ${C.is_phantom||C.is_in_core?"text-orange-300":"text-green-300"}`,children:[C.solar_system," (0x",C.solar_system?.toString(16).toUpperCase().padStart(3,"0"),")"]})]})]}),(C.is_phantom||C.is_in_core)&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-orange-700 text-xs text-orange-200",children:[n.jsx("strong",{children:"Classification:"})," ",C.classification?.replace("_"," ").toUpperCase(),n.jsx("div",{className:"mt-1 text-orange-300/80",children:"This system will be recorded for tracking purposes but may not appear on standard maps."})]}),C.star_x!==void 0&&n.jsxs("div",{className:`mt-3 pt-3 border-t ${C.is_phantom||C.is_in_core?"border-orange-700":"border-green-700"}`,children:[n.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"3D Map Position (calculated from region + SSS):"}),n.jsxs("div",{className:"font-mono text-xs text-cyan-300",children:["(",C.star_x?.toFixed(2),", ",C.star_y?.toFixed(2),", ",C.star_z?.toFixed(2),")"]})]})]})]})},er={STATION_TO_SUN:1.5,STATION_TO_PLANET:2,STATION_TO_MOON:1.5,STATION_TO_STATION:1.5};function uc(r,s,i,o,l,u){return Math.sqrt((o-r)**2+(l-s)**2+(u-i)**2)}function cN(r,s){const i=s.orbit_radius||s.orbit_distance||.5;return{x:r.x,y:r.y,z:r.z,radius:i}}function uN(r,s,i,o,l=[]){const u=Math.sqrt(r*r+s*s+i*i);if(u<er.STATION_TO_SUN)return{collision:!0,reason:`Too close to sun (${u.toFixed(2)} < ${er.STATION_TO_SUN})`};for(const m of o){const h=uc(r,s,i,m.x||0,m.y||0,m.z||0);if(h<er.STATION_TO_PLANET)return{collision:!0,reason:`Too close to planet "${m.name}" (${h.toFixed(2)} < ${er.STATION_TO_PLANET})`};if(m.moons&&Array.isArray(m.moons))for(const f of m.moons){const g=cN(m,f),y=uc(r,s,i,g.x,g.y,g.z),b=er.STATION_TO_MOON+g.radius;if(y<b)return{collision:!0,reason:`Too close to moon "${f.name}" orbit (${y.toFixed(2)} < ${b.toFixed(2)})`}}}for(const m of l){const h=uc(r,s,i,m.x||0,m.y||0,m.z||0);if(h<er.STATION_TO_STATION)return{collision:!0,reason:`Too close to station "${m.name}" (${h.toFixed(2)} < ${er.STATION_TO_STATION})`}}return{collision:!1}}function Gf(r=[],s=[],i={}){const{maxAttempts:o=100,minOrbitMultiplier:l=.5,maxOrbitMultiplier:u=1.5,defaultMinOrbit:m=5,defaultMaxOrbit:h=40,phiRange:f=.5,preferTradeRoutes:g=!1}=i;let y=m,b=h;if(r.length>0){const _=r.map(P=>Math.sqrt((P.x||0)**2+(P.y||0)**2+(P.z||0)**2)),j=Math.min(..._),O=Math.max(..._);y=j*l,b=O*u,y=Math.max(y,er.STATION_TO_SUN+1)}console.log(`[Station Placement] Orbital range: ${y.toFixed(2)} to ${b.toFixed(2)} units`),console.log(`[Station Placement] Avoiding ${r.length} planets and ${s.length} existing stations`);for(let _=0;_<o;_++){const j=y+Math.random()*(b-y),O=Math.random()*Math.PI*2,P=(Math.random()-.5)*Math.PI*f,I=j*Math.cos(P)*Math.cos(O),F=j*Math.sin(P),E=j*Math.cos(P)*Math.sin(O),D=uN(I,F,E,r,s);if(D.collision)_%20===0&&_>0&&console.log(`[Station Placement] Attempt ${_}: ${D.reason}`);else return console.log(`[Station Placement]  Found safe position after ${_+1} attempts`),console.log(`[Station Placement] Position: (${I.toFixed(2)}, ${F.toFixed(2)}, ${E.toFixed(2)})`),{x:parseFloat(I.toFixed(2)),y:parseFloat(F.toFixed(2)),z:parseFloat(E.toFixed(2)),attempts:_+1,fallback:!1}}console.warn(`[Station Placement]  Could not find collision-free position after ${o} attempts`),console.warn("[Station Placement] Using fallback position");const S=y+5;return{x:parseFloat(S.toFixed(2)),y:parseFloat(0 .toFixed(2)),z:parseFloat(0 .toFixed(2)),attempts:o,fallback:!0}}const dN=[{index:0,name:"Euclid"},{index:1,name:"Hilbert Dimension"},{index:2,name:"Calypso"},{index:3,name:"Hesperius Dimension"},{index:4,name:"Hyades"},{index:5,name:"Ickjamatew"},{index:6,name:"Budullangr"},{index:7,name:"Kikolgallr"},{index:8,name:"Eltiensleen"},{index:9,name:"Eissentam"},{index:10,name:"Elkupalos"},{index:11,name:"Aptarkaba"},{index:12,name:"Ontiniangp"},{index:13,name:"Odiwagiri"},{index:14,name:"Ogtialabi"},{index:15,name:"Muhacksonto"},{index:16,name:"Hitonskyer"},{index:17,name:"Rerasmutul"},{index:18,name:"Isdoraijung"},{index:19,name:"Doctinawyra"},{index:20,name:"Loychazinq"},{index:21,name:"Zukasizawa"},{index:22,name:"Ekwathore"},{index:23,name:"Yeberhahne"},{index:24,name:"Twerbetek"},{index:25,name:"Sivarates"},{index:26,name:"Eajerandal"},{index:27,name:"Aldukesci"},{index:28,name:"Wotyarogii"},{index:29,name:"Sudzerbal"},{index:30,name:"Maupenzhay"},{index:31,name:"Sugueziume"},{index:32,name:"Brogoweldian"},{index:33,name:"Ehbogdenbu"},{index:34,name:"Ijsenufryos"},{index:35,name:"Nipikulha"},{index:36,name:"Autsurabin"},{index:37,name:"Lusontrygiamh"},{index:38,name:"Rewmanawa"},{index:39,name:"Ethiophodhe"},{index:40,name:"Urastrykle"},{index:41,name:"Xobeurindj"},{index:42,name:"Oniijialdu"},{index:43,name:"Wucetosucc"},{index:44,name:"Ebyeloof"},{index:45,name:"Odyavanta"},{index:46,name:"Milekistri"},{index:47,name:"Waferganh"},{index:48,name:"Agnusopwit"},{index:49,name:"Teyaypilny"},{index:50,name:"Zalienkosm"},{index:51,name:"Ladgudiraf"},{index:52,name:"Mushonponte"},{index:53,name:"Amsentisz"},{index:54,name:"Fladiselm"},{index:55,name:"Laanawemb"},{index:56,name:"Ilkerloor"},{index:57,name:"Davanossi"},{index:58,name:"Ploehrliou"},{index:59,name:"Corpinyaya"},{index:60,name:"Leckandmeram"},{index:61,name:"Quulngais"},{index:62,name:"Nokokipsechl"},{index:63,name:"Rinblodesa"},{index:64,name:"Loydporpen"},{index:65,name:"Ibtrevskip"},{index:66,name:"Elkowaldb"},{index:67,name:"Heholhofsko"},{index:68,name:"Yebrilowisod"},{index:69,name:"Husalvangewi"},{index:70,name:"Ovna'uesed"},{index:71,name:"Bahibusey"},{index:72,name:"Nuybeliaure"},{index:73,name:"Doshawchuc"},{index:74,name:"Ruckinarkh"},{index:75,name:"Thorettac"},{index:76,name:"Nuponoparau"},{index:77,name:"Moglaschil"},{index:78,name:"Uiweupose"},{index:79,name:"Nasmilete"},{index:80,name:"Ekdaluskin"},{index:81,name:"Hakapanasy"},{index:82,name:"Dimonimba"},{index:83,name:"Cajaccari"},{index:84,name:"Olonerovo"},{index:85,name:"Umlanswick"},{index:86,name:"Henayliszm"},{index:87,name:"Utzenmate"},{index:88,name:"Umirpaiya"},{index:89,name:"Paholiang"},{index:90,name:"Iaereznika"},{index:91,name:"Yudukagath"},{index:92,name:"Boealalosnj"},{index:93,name:"Yaevarcko"},{index:94,name:"Coellosipp"},{index:95,name:"Wayndohalou"},{index:96,name:"Smoduraykl"},{index:97,name:"Apmaneessu"},{index:98,name:"Hicanpaav"},{index:99,name:"Akvasanta"},{index:100,name:"Tuychelisaor"},{index:101,name:"Rivskimbe"},{index:102,name:"Daksanquix"},{index:103,name:"Kissonlin"},{index:104,name:"Aediabiel"},{index:105,name:"Ulosaginyik"},{index:106,name:"Roclaytonycar"},{index:107,name:"Kichiaroa"},{index:108,name:"Irceauffey"},{index:109,name:"Nudquathsenfe"},{index:110,name:"Getaizakaal"},{index:111,name:"Hansolmien"},{index:112,name:"Bloytisagra"},{index:113,name:"Ladsenlay"},{index:114,name:"Luyugoslasr"},{index:115,name:"Ubredhatk"},{index:116,name:"Cidoniana"},{index:117,name:"Jasinessa"},{index:118,name:"Torweierf"},{index:119,name:"Saffneckm"},{index:120,name:"Thnistner"},{index:121,name:"Dotusingg"},{index:122,name:"Luleukous"},{index:123,name:"Jelmandan"},{index:124,name:"Otimanaso"},{index:125,name:"Enjaxusanto"},{index:126,name:"Sezviktorew"},{index:127,name:"Zikehpm"},{index:128,name:"Bephembah"},{index:129,name:"Broomerrai"},{index:130,name:"Meximicka"},{index:131,name:"Venessika"},{index:132,name:"Gaiteseling"},{index:133,name:"Zosakasiro"},{index:134,name:"Drajayanes"},{index:135,name:"Ooibekuar"},{index:136,name:"Urckiansi"},{index:137,name:"Dozivadido"},{index:138,name:"Emiekereks"},{index:139,name:"Meykinunukur"},{index:140,name:"Kimycuristh"},{index:141,name:"Roansfien"},{index:142,name:"Isgarmeso"},{index:143,name:"Daitibeli"},{index:144,name:"Gucuttarik"},{index:145,name:"Enlaythie"},{index:146,name:"Drewweste"},{index:147,name:"Akbulkabi"},{index:148,name:"Homskiw"},{index:149,name:"Zavainlani"},{index:150,name:"Jewijkmas"},{index:151,name:"Itlhotagra"},{index:152,name:"Podalicess"},{index:153,name:"Hiviusauer"},{index:154,name:"Halsebenk"},{index:155,name:"Puikitoac"},{index:156,name:"Gaybakuaria"},{index:157,name:"Grbodubhe"},{index:158,name:"Rycempler"},{index:159,name:"Indjalala"},{index:160,name:"Fontenikk"},{index:161,name:"Pasycihelwhee"},{index:162,name:"Ikbaksmit"},{index:163,name:"Telicianses"},{index:164,name:"Oyleyzhan"},{index:165,name:"Uagerosat"},{index:166,name:"Impoxectin"},{index:167,name:"Twoodmand"},{index:168,name:"Hilfsesorbs"},{index:169,name:"Ezdaranit"},{index:170,name:"Wiensanshe"},{index:171,name:"Ewheelonc"},{index:172,name:"Litzmantufa"},{index:173,name:"Emarmatosi"},{index:174,name:"Mufimbomacvi"},{index:175,name:"Wongquarum"},{index:176,name:"Hapirajua"},{index:177,name:"Igbinduina"},{index:178,name:"Wepaitvas"},{index:179,name:"Sthatigudi"},{index:180,name:"Yekathsebehn"},{index:181,name:"Ebedeagurst"},{index:182,name:"Nolisonia"},{index:183,name:"Ulexovitab"},{index:184,name:"Iodhinxois"},{index:185,name:"Irroswitzs"},{index:186,name:"Bifredait"},{index:187,name:"Beiraghedwe"},{index:188,name:"Yeonatlak"},{index:189,name:"Cugnatachh"},{index:190,name:"Nozoryenki"},{index:191,name:"Ebralduri"},{index:192,name:"Evcickcandj"},{index:193,name:"Ziybosswin"},{index:194,name:"Heperclait"},{index:195,name:"Sugiuniam"},{index:196,name:"Aaseertush"},{index:197,name:"Uglyestemaa"},{index:198,name:"Horeroedsh"},{index:199,name:"Drundemiso"},{index:200,name:"Ityanianat"},{index:201,name:"Purneyrine"},{index:202,name:"Dokiessmat"},{index:203,name:"Nupiacheh"},{index:204,name:"Dihewsonj"},{index:205,name:"Rudrailhik"},{index:206,name:"Tweretnort"},{index:207,name:"Snatreetze"},{index:208,name:"Iwundaracos"},{index:209,name:"Digarlewena"},{index:210,name:"Erquagsta"},{index:211,name:"Logovoloin"},{index:212,name:"Boyaghosganh"},{index:213,name:"Kuolungau"},{index:214,name:"Pehneldept"},{index:215,name:"Yevettiiqidcon"},{index:216,name:"Sahliacabru"},{index:217,name:"Noggalterpor"},{index:218,name:"Chmageaki"},{index:219,name:"Veticueca"},{index:220,name:"Vittesbursul"},{index:221,name:"Nootanore"},{index:222,name:"Innebdjerah"},{index:223,name:"Kisvarcini"},{index:224,name:"Cuzcogipper"},{index:225,name:"Pamanhermonsu"},{index:226,name:"Brotoghek"},{index:227,name:"Mibittara"},{index:228,name:"Huruahili"},{index:229,name:"Raldwicarn"},{index:230,name:"Ezdartlic"},{index:231,name:"Badesclema"},{index:232,name:"Isenkeyan"},{index:233,name:"Iadoitesu"},{index:234,name:"Yagrovoisi"},{index:235,name:"Ewcomechio"},{index:236,name:"Inunnunnoda"},{index:237,name:"Dischiutun"},{index:238,name:"Yuwarugha"},{index:239,name:"Ialmendra"},{index:240,name:"Reponudrle"},{index:241,name:"Rinjanagrbo"},{index:242,name:"Zeziceloh"},{index:243,name:"Oeileutasc"},{index:244,name:"Zicniijinis"},{index:245,name:"Dugnowarilda"},{index:246,name:"Neuxoisan"},{index:247,name:"Ilmenhorn"},{index:248,name:"Rukwatsuku"},{index:249,name:"Nepitzaspru"},{index:250,name:"Chcehoemig"},{index:251,name:"Haffneyrin"},{index:252,name:"Uliciawai"},{index:253,name:"Tuhgrespod"},{index:254,name:"Iousongola"},{index:255,name:"Odyalutai"}],mN=[{value:"Normal",label:"Normal (all non-permadeath modes)"},{value:"Permadeath",label:"Permadeath"}];function fN(){return new URLSearchParams(fs().search)}function qf(){const r=fN(),s=sn(),i=x.useContext(ft),{isAdmin:o,isSuperAdmin:l,isPartner:u,user:m}=i||{},h=r.get("edit"),[f,g]=x.useState({id:"",name:"",galaxy:"Euclid",reality:"Normal",glyph_code:"",x:"",y:"",z:"",description:"",planets:[],space_station:null,region_x:null,region_y:null,region_z:null,glyph_planet:0,glyph_solar_system:1,discord_tag:null,star_type:"",economy_type:"",economy_level:"",conflict_level:"",dominant_lifeform:""}),[y,b]=x.useState(!1),[S,C]=x.useState(null),[v,_]=x.useState(null),[j,O]=x.useState(!1),[P,I]=x.useState(!1),[F,E]=x.useState([]),[D,W]=x.useState(""),[$,Q]=x.useState(null),[le,re]=x.useState("");x.useEffect(()=>{ce.get("/api/discord_tags").then(T=>{E(T.data.tags||[])}).catch(()=>{})},[]),x.useEffect(()=>{h&&ce.get(`/api/systems/${encodeURIComponent(h)}`).then(T=>{g(T.data),Q(T.data.discord_tag)}).catch(()=>{})},[h]);const z=x.useRef(!1);async function he(T){if(T.preventDefault(),!z.current){z.current=!1;return}if(z.current=!1,!f.name||!f.name.trim()){alert("System name is required");return}if(!f.star_type){alert("Star Color is required");return}if(!f.economy_type){alert("Economy Type is required");return}if(!f.economy_level){alert("Economy Tier is required");return}if(!f.conflict_level){alert("Conflict Level is required");return}if(!f.dominant_lifeform){alert("Dominant Lifeform is required");return}if(f.planets)for(const J of f.planets){if(!J.name||!J.name.trim()){alert("All planets must have a name");return}if(J.moons){for(const fe of J.moons)if(!fe.name||!fe.name.trim()){alert("All moons must have a name");return}}}if(!f.discord_tag&&!o){alert('Discord Community is required. Please select a community or choose "Personal" if you are not affiliated with a community.');return}if(!le.trim()&&!o){alert("Your Discord username is required for all submissions.");return}I(!0);try{if(o){const J={...f};u&&h&&!$&&D&&(J.edit_explanation=D);const fe=await ce.post("/api/save_system",J);fe.data.status==="pending_approval"?alert(`Your edit has been submitted for super admin approval.

Request ID: ${fe.data.request_id}

${fe.data.message}`):alert("System saved successfully!"),s("/systems")}else{const J={...f};le.trim()&&(J.personal_discord_username=le.trim());const fe=await ce.post("/api/submit_system",J);alert(`System submitted for approval!

Submission ID: ${fe.data.submission_id}
System Name: ${fe.data.system_name}

An admin will review your submission.`),s("/systems")}}catch(J){const fe=J.response?.data?.detail||J.message||J;alert(`${o?"Save":"Submission"} failed: ${fe}`)}finally{I(!1)}}const oe=u&&h&&!$;function me(T){if(T.key==="Enter"){const J=T.target&&T.target.tagName?T.target.tagName.toUpperCase():"",fe=T.target&&T.target.type?String(T.target.type).toLowerCase():"";if(J==="TEXTAREA"||fe==="submit"||J==="BUTTON")return;T.preventDefault()}}function U(T,J){g(fe=>({...fe,[T]:J}))}function se(T){g(J=>({...J,x:T.x,y:T.y,z:T.z,region_x:T.region_x,region_y:T.region_y,region_z:T.region_z,glyph_planet:T.planet,glyph_solar_system:T.solar_system,glyph_code:T.glyph}))}function K(){C(-1),_({name:"",biome:"",weather:"",sentinel:"None",fauna:"N/A",flora:"N/A",materials:"",base_location:"",photo:"",notes:"",moons:[]}),b(!0)}function B(T){C(T),_(f.planets[T]),b(!0)}function Y(T){const J=[...f.planets||[]];S===-1?J.push(T):J[S]=T,g({...f,planets:J}),b(!1)}function N(T,J){const fe=[...f.planets||[]];fe[T]=J,g({...f,planets:fe})}function k(T){const J=[...f.planets||[]];J.splice(T,1),g({...f,planets:J})}function X(T){if(O(T),T){const J=Gf(f.planets||[]);g({...f,space_station:{name:`${f.name||"System"} Station`,race:"Gek",sell_percent:80,buy_percent:50,...J}})}else g({...f,space_station:null})}function ie(){if(j&&f.space_station){const T=Gf(f.planets||[]);g({...f,space_station:{...f.space_station,...T}}),alert(`New position generated:
X: ${T.x}
Y: ${T.y}
Z: ${T.z}
Attempts: ${T.attempts}${T.fallback?" (fallback used)":""}`)}}function de(T,J){f.space_station&&g({...f,space_station:{...f.space_station,[T]:J}})}return n.jsx("div",{children:n.jsx(Ee,{className:"max-w-4xl",children:n.jsxs("form",{onSubmit:he,onKeyDown:me,children:[n.jsxs("label",{className:"block mb-2",children:["System Name ",n.jsx("input",{placeholder:"Name","aria-label":"Name",className:"w-full mt-1",value:f.name||"",onChange:T=>U("name",T.target.value),required:!0})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2 text-purple-300",children:"Portal Glyph Coordinates"}),n.jsx(oN,{value:f.glyph_code,onChange:T=>U("glyph_code",T),onDecoded:se})]}),f.x&&f.y&&f.z&&n.jsx("div",{className:"mt-4 p-3 bg-gray-800 rounded border border-green-500",children:n.jsxs("div",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-green-300 font-semibold",children:"Coordinates:"})," X: ",f.x,", Y: ",f.y,", Z: ",f.z,f.region_x!==null&&n.jsxs("span",{className:"ml-3",children:[n.jsx("span",{className:"text-purple-300 font-semibold",children:"Region:"})," [",f.region_x,", ",f.region_y,", ",f.region_z,"]"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Reality ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("select",{className:"w-full p-2 border rounded bg-gray-700 border-gray-600",value:f.reality||"Normal",onChange:T=>U("reality",T.target.value),required:!0,children:mN.map(T=>n.jsx("option",{value:T.value,children:T.label},T.value))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Permadeath is separate from all other game modes"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Galaxy ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx(Bt,{options:dN.map(T=>({value:T.name,label:`${T.index}: ${T.name}`})),value:f.galaxy||"Euclid",onChange:T=>U("galaxy",T||"Euclid"),placeholder:"Search by number or name..."}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Search by galaxy index (0-255) or name"})]})]}),n.jsxs("div",{className:"mt-4 p-4 bg-gray-800/50 rounded border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-300",children:"System Attributes"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Star Color ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${f.star_type?"border-gray-600":"border-red-500"}`,value:f.star_type||"",onChange:T=>U("star_type",T.target.value),required:!0,children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Yellow",children:"Yellow"}),n.jsx("option",{value:"Red",children:"Red"}),n.jsx("option",{value:"Green",children:"Green"}),n.jsx("option",{value:"Blue",children:"Blue"}),n.jsx("option",{value:"Purple",children:"Purple"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Economy Type ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${f.economy_type?"border-gray-600":"border-red-500"}`,value:f.economy_type||"",onChange:T=>U("economy_type",T.target.value),required:!0,children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Trading",children:"Trading"}),n.jsx("option",{value:"Mining",children:"Mining"}),n.jsx("option",{value:"Manufacturing",children:"Manufacturing"}),n.jsx("option",{value:"Technology",children:"Technology"}),n.jsx("option",{value:"Scientific",children:"Scientific"}),n.jsx("option",{value:"Power Generation",children:"Power Generation"}),n.jsx("option",{value:"Mass Production",children:"Mass Production"}),n.jsx("option",{value:"Pirate",children:"Pirate"}),n.jsx("option",{value:"None",children:"None (Abandoned)"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Economy Tier ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${f.economy_level?"border-gray-600":"border-red-500"}`,value:f.economy_level||"",onChange:T=>U("economy_level",T.target.value),required:!0,children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"T1",children:"T1 (Low)"}),n.jsx("option",{value:"T2",children:"T2 (Medium)"}),n.jsx("option",{value:"T3",children:"T3 (High)"}),n.jsx("option",{value:"T4",children:"T4 (Pirate)"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Conflict Level ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${f.conflict_level?"border-gray-600":"border-red-500"}`,value:f.conflict_level||"",onChange:T=>U("conflict_level",T.target.value),required:!0,children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Medium",children:"Medium"}),n.jsx("option",{value:"High",children:"High"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Dominant Lifeform ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${f.dominant_lifeform?"border-gray-600":"border-red-500"}`,value:f.dominant_lifeform||"",onChange:T=>U("dominant_lifeform",T.target.value),required:!0,children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Gek",children:"Gek"}),n.jsx("option",{value:"Vy'keen",children:"Vy'keen"}),n.jsx("option",{value:"Korvax",children:"Korvax"}),n.jsx("option",{value:"None",children:"None (Abandoned)"})]})]})]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Discord Community ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${f.discord_tag?"":"border-red-500"}`,value:f.discord_tag||"",onChange:T=>U("discord_tag",T.target.value||null),required:!0,children:[n.jsx("option",{value:"",children:"-- Select a Community (Required) --"}),F.map(T=>n.jsxs("option",{value:T.tag,children:[T.name," (",T.tag,")"]},T.tag)),n.jsx("option",{value:"personal",children:"Personal (No Community Affiliation)"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select which Discord community this system belongs to, or "Personal" if not affiliated with a community.'})]}),!o&&n.jsxs("div",{className:"mt-3",children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Your Discord Username ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"text",className:`w-full p-2 border rounded bg-gray-700 ${le.trim()?"border-gray-600":"border-red-500"}`,value:le,onChange:T=>re(T.target.value),placeholder:"e.g., username or username#1234",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your Discord username is required so we can contact you about your submission if needed."})]}),oe&&n.jsxs("div",{className:"mt-4 p-4 bg-yellow-900/30 border border-yellow-700 rounded",children:[n.jsx("p",{className:"text-yellow-400 font-semibold mb-2",children:"This system is untagged. Your edit will require super admin approval."}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"text-sm",children:"Explanation for edit (required)"}),n.jsx("textarea",{className:"w-full mt-1 p-2 border rounded bg-gray-700",value:D,onChange:T=>W(T.target.value),placeholder:"Explain why you need to edit this system...",rows:3,required:!0})]})]}),n.jsxs("label",{className:"block mt-3",children:["Description ",n.jsx("textarea",{"aria-label":"System description",className:"w-full mt-1",value:f.description||"",onChange:T=>U("description",T.target.value)})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-md font-semibold mb-2",children:"Planets"}),n.jsx("div",{children:(f.planets||[]).map((T,J)=>n.jsxs("div",{className:"mb-2",children:[n.jsx(Wf,{index:J,planet:T,onChange:N,onRemove:k}),n.jsx("div",{className:"mt-1 flex space-x-2",children:n.jsx("button",{className:"px-3 py-1 bg-sky-600 text-white rounded",onClick:()=>B(J),children:"Edit"})})]},J))}),n.jsx("div",{className:"mt-2",children:n.jsx("button",{type:"button",onClick:K,className:"px-3 py-1 bg-green-600 rounded",children:" Add Planet"})})]}),n.jsxs("div",{className:"mt-4 border-t pt-4",children:[n.jsx("h3",{className:"text-md font-semibold mb-2",children:"Space Station"}),n.jsxs("label",{className:"flex items-center space-x-2 mb-3",children:[n.jsx("input",{type:"checkbox",checked:j,onChange:T=>X(T.target.checked),className:"w-4 h-4"}),n.jsx("span",{children:" Has Space Station (randomly placed)"})]}),j&&f.space_station&&n.jsxs("div",{className:"ml-6 p-3 bg-purple-900/30 rounded border border-purple-700",children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"block text-sm",children:"Station Name"}),n.jsx("input",{className:"w-full mt-1",value:f.space_station.name||"",onChange:T=>de("name",T.target.value),placeholder:"Station Name"})]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"block text-sm",children:"Race"}),n.jsxs("select",{className:"w-full mt-1",value:f.space_station.race||"Gek",onChange:T=>de("race",T.target.value),children:[n.jsx("option",{value:"Gek",children:"Gek"}),n.jsx("option",{value:"Korvax",children:"Korvax"}),n.jsx("option",{value:"Vy'keen",children:"Vy'keen"}),n.jsx("option",{value:"Unknown",children:"Unknown"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"X"}),n.jsx("input",{type:"number",step:"0.1",className:"w-full mt-1 bg-gray-100",value:f.space_station.x||0,onChange:T=>de("x",parseFloat(T.target.value)),readOnly:!1})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Y"}),n.jsx("input",{type:"number",step:"0.1",className:"w-full mt-1 bg-gray-100",value:f.space_station.y||0,onChange:T=>de("y",parseFloat(T.target.value)),readOnly:!1})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Z"}),n.jsx("input",{type:"number",step:"0.1",className:"w-full mt-1 bg-gray-100",value:f.space_station.z||0,onChange:T=>de("z",parseFloat(T.target.value)),readOnly:!1})]})]}),n.jsx("button",{type:"button",onClick:ie,className:"px-3 py-1 bg-purple-600 text-white rounded text-sm",children:" Regenerate Random Position"}),f.space_station.fallback&&n.jsx("div",{className:"mt-2 text-xs text-yellow-300 bg-yellow-900/30 border border-yellow-700 p-2 rounded",children:" Fallback position used - couldn't find collision-free spot after 100 attempts"})]})]}),n.jsxs("div",{className:"mt-4 flex flex-col space-y-2",children:[!o&&n.jsx("div",{className:"text-sm text-yellow-300 bg-yellow-900/30 border border-yellow-700 p-2 rounded",children:"Note: You are not logged in as admin. Your system will be submitted for approval."}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(te,{className:"btn-primary",type:"submit",onClick:()=>{z.current=!0},disabled:P,children:P?"Submitting...":o?"Save System":"Submit for Approval"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>s("/systems"),disabled:P,children:"Cancel"})]})]}),y&&n.jsx(Qe,{title:S===-1?"Add Planet":"Edit Planet",onClose:()=>b(!1),children:n.jsx(Wf,{planet:v,index:S,onChange:(T,J)=>{_(J)},onRemove:()=>{},onSave:Y})})]})})})}function pN(){const[r,s]=x.useState([]),i=x.useRef(null),{isDisconnected:o,registerConnection:l,unregisterConnection:u}=el(),m=x.useCallback(()=>{fetch("/api/rtai/history").then(g=>g.json()).then(g=>s(g.messages||[])).catch(()=>{});const h=window.location.protocol==="https:"?"wss":"ws",f=new WebSocket(`${h}://${window.location.host}/ws/rtai`);return f.onmessage=g=>s(y=>[...y,g.data]),i.current=f,f},[]);return x.useEffect(()=>{if(o)return;const h=m();return l("rtai-websocket",{cleanup:()=>{i.current&&(i.current.close(),i.current=null)},restore:()=>{m()}}),()=>{u("rtai-websocket"),h.close()}},[o,m,l,u]),n.jsx("div",{children:n.jsxs(Ee,{children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Round Table AI Chat"}),n.jsx("div",{className:"space-y-2 h-72 overflow-auto bg-cyan-800 p-3 rounded",children:r.map((h,f)=>n.jsx("div",{className:"text-white",children:h},f))}),n.jsx("div",{className:"mt-2",children:n.jsx("button",{className:"px-3 py-2 bg-gray-200 rounded",onClick:()=>fetch("/api/rtai/clear",{method:"POST"}),children:"Clear"})})]})})}function hN(){const r=x.useContext(ft),{isAdmin:s,isSuperAdmin:i,isPartner:o,user:l,logout:u}=r||{},[m,h]=x.useState({}),[f,g]=x.useState({}),[y,b]=x.useState(!0),[S,C]=x.useState(!1),[v,_]=x.useState(""),[j,O]=x.useState(""),[P,I]=x.useState(""),[F,E]=x.useState(!1),[D,W]=x.useState(!1);x.useEffect(()=>{fetch("/api/settings",{credentials:"include"}).then(U=>U.json()).then(U=>h(U||{})).catch(()=>{}).finally(()=>b(!1)),o&&fetch("/api/partner/theme",{credentials:"include"}).then(U=>U.json()).then(U=>g(U.theme||{})).catch(()=>{})},[o]);const $=(U,se)=>{const K={...m.theme||{},[U]:se};h({...m,theme:K}),U==="bg"&&document.documentElement.style.setProperty("--app-bg",se),U==="text"&&document.documentElement.style.setProperty("--app-text",se),U==="card"&&document.documentElement.style.setProperty("--app-card",se),U==="primary"&&document.documentElement.style.setProperty("--app-primary",se)},Q=(U,se)=>{const K={...f,[U]:se};g(K),U==="bg"&&document.documentElement.style.setProperty("--app-bg",se),U==="text"&&document.documentElement.style.setProperty("--app-text",se),U==="card"&&document.documentElement.style.setProperty("--app-card",se),U==="primary"&&document.documentElement.style.setProperty("--app-primary",se)},le=async()=>{C(!0);try{const U=await fetch("/api/settings",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!U.ok)throw new Error(await U.text());alert("Settings saved successfully!")}catch(U){alert("Failed to save settings: "+U)}C(!1)},re=async()=>{C(!0);try{const U=await fetch("/api/partner/theme",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({theme:f})});if(!U.ok)throw new Error(await U.text());alert("Theme saved successfully!")}catch(U){alert("Failed to save theme: "+U)}C(!1)},z=async()=>{try{const U=await fetch("/api/backup",{method:"POST",credentials:"include"});if(!U.ok)throw new Error(await U.text());const se=await U.json();alert("Backup created: "+se.backup_path)}catch(U){alert("Backup failed: "+U)}},he=async U=>{try{const se=U.target.files&&U.target.files[0];if(!se)return;const K=new FormData;K.append("file",se);const B=await fetch("/api/db_upload",{method:"POST",credentials:"include",body:K});if(!B.ok)throw new Error(await B.text());const Y=await B.json();alert("DB uploaded: "+Y.path)}catch(se){alert("DB upload failed: "+se)}},oe=async()=>{if(confirm('This will rename systems that have "HUB Tag:" in their description to use the hub tag as the system name. The original name will be preserved in the notes. Continue?')){W(!0);try{const U=await fetch("/api/migrate_hub_tags",{method:"POST",credentials:"include"});if(!U.ok)throw new Error(await U.text());const se=await U.json();alert(`Migration complete!

Updated: ${se.updated} systems
Total found with HUB Tag: ${se.total_found}`)}catch(U){alert("Migration failed: "+U)}finally{W(!1)}}},me=async()=>{if(!v){alert("Please enter your current password");return}if(!j||j.length<4){alert("New password must be at least 4 characters");return}if(j!==P){alert("New passwords do not match");return}E(!0);try{const U=await fetch("/api/change_password",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:v,new_password:j})});if(!U.ok){const se=await U.json();throw new Error(se.detail||"Failed to change password")}alert("Password changed successfully! Please log in again with your new password."),_(""),O(""),I(""),u()}catch(U){alert("Failed to change password: "+U.message)}finally{E(!1)}};return y?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading settings..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-cyan-400",children:"Settings"}),n.jsx(Ee,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Logged in as"}),n.jsxs("div",{className:"text-gray-300",children:[n.jsx("p",{children:n.jsx("strong",{children:l?.displayName||l?.username})}),i&&n.jsx("p",{className:"text-yellow-400 text-sm",children:"Super Admin"}),o&&l?.discordTag&&n.jsxs("p",{className:"text-cyan-400 text-sm",children:["Partner: ",l.discordTag]})]}),n.jsx(te,{className:"mt-3",variant:"danger",onClick:u,children:"Logout"})]})}),s&&n.jsx(Ee,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Change Password"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Update your password. You will be logged out after changing your password."}),n.jsxs("div",{className:"space-y-4 max-w-md",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Current Password"}),n.jsx("input",{type:"password",value:v,onChange:U=>_(U.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Enter current password"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"New Password"}),n.jsx("input",{type:"password",value:j,onChange:U=>O(U.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Enter new password (min 4 characters)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Confirm New Password"}),n.jsx("input",{type:"password",value:P,onChange:U=>I(U.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Confirm new password"})]}),n.jsx(te,{onClick:me,disabled:F||!v||!j||!P,children:F?"Changing...":"Change Password"})]})]})}),o&&n.jsx(Ee,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Your Theme"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Customize your view of Haven Control Room. These settings only affect your session."}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Background"}),n.jsx("input",{type:"color",value:f.bg||"#1f2937",onChange:U=>Q("bg",U.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Text"}),n.jsx("input",{type:"color",value:f.text||"#f3f4f6",onChange:U=>Q("text",U.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Card"}),n.jsx("input",{type:"color",value:f.card||"#374151",onChange:U=>Q("card",U.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Primary"}),n.jsx("input",{type:"color",value:f.primary||"#06b6d4",onChange:U=>Q("primary",U.target.value),className:"w-full h-10 rounded cursor-pointer"})]})]}),n.jsx(te,{className:"mt-4",onClick:re,disabled:S,children:S?"Saving...":"Save Your Theme"})]})}),i&&n.jsx(Ee,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Global Theme"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Server-side theme controls the color palette for all users (default)."}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Background"}),n.jsx("input",{type:"color",value:m.theme&&m.theme.bg||"#1f2937",onChange:U=>$("bg",U.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Text"}),n.jsx("input",{type:"color",value:m.theme&&m.theme.text||"#f3f4f6",onChange:U=>$("text",U.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Card"}),n.jsx("input",{type:"color",value:m.theme&&m.theme.card||"#374151",onChange:U=>$("card",U.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Primary"}),n.jsx("input",{type:"color",value:m.theme&&m.theme.primary||"#06b6d4",onChange:U=>$("primary",U.target.value),className:"w-full h-10 rounded cursor-pointer"})]})]}),n.jsx(te,{className:"mt-4",onClick:le,disabled:S,children:S?"Saving...":"Save Global Theme"})]})}),i&&n.jsx(Ee,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Database Management"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Create backups or restore the database from a backup file."}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx("div",{children:n.jsx(te,{onClick:z,children:"Create Backup"})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Upload Database (.db file)"}),n.jsx("input",{type:"file",accept:".db",onChange:he,className:"text-sm text-gray-400"})]})]})]})}),i&&n.jsx(Ee,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Data Migration"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"One-time migration tools for updating system data."}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Hub Tag Migration"}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:'Renames systems that have "HUB Tag:" in their description to use the hub tag as the display name. The original system name will be preserved in the notes as "New Name:".'}),n.jsx(te,{onClick:oe,disabled:D,children:D?"Migrating...":"Migrate Hub Tags to Names"})]})})]})})]})}const gN=[{value:"",label:"Select type..."},{value:"",label:" Fauna"},{value:"",label:" Flora"},{value:"",label:" Mineral"},{value:"",label:" Ancient"},{value:"",label:" History"},{value:"",label:" Bones"},{value:"",label:" Alien"},{value:"",label:" Starship"},{value:"",label:" Multi-tool"},{value:"",label:" Lore"},{value:"",label:" Other"}];function xN({isOpen:r,onClose:s,onSuccess:i}){const[o,l]=x.useState({discovery_name:"",discovery_type:"",description:"",system_id:"",planet_id:"",moon_id:"",location_name:"",discovered_by:"",discord_user_id:"",evidence_urls:""}),[u,m]=x.useState([]),[h,f]=x.useState([]),[g,y]=x.useState(null),[b,S]=x.useState(""),[C,v]=x.useState(!1),[_,j]=x.useState(!1),[O,P]=x.useState(""),[I,F]=x.useState(!1),E=x.useRef(null),D=x.useRef(null);x.useEffect(()=>{r&&(l({discovery_name:"",discovery_type:"",description:"",system_id:"",planet_id:"",moon_id:"",location_name:"",discovered_by:"",discord_user_id:"",evidence_urls:""}),m([]),y(null),S(""),P(""))},[r]),x.useEffect(()=>{if(!b||b.length<2){f([]);return}const B=setTimeout(async()=>{try{const N=await(await fetch(`/api/systems/search?q=${encodeURIComponent(b)}&limit=10`)).json();f(N.results||N||[])}catch(Y){console.error("System search error:",Y),f([])}},300);return()=>clearTimeout(B)},[b]),x.useEffect(()=>{if(!o.system_id){y(null);return}fetch(`/api/systems/${o.system_id}`).then(B=>B.json()).then(B=>y(B)).catch(()=>y(null))},[o.system_id]);function W(B,Y){l(N=>({...N,[B]:Y}))}function $(B){W("system_id",B.id),W("planet_id",""),W("moon_id",""),S(B.name),v(!1)}function Q(){W("system_id",""),W("planet_id",""),W("moon_id",""),S(""),y(null)}async function le(B){const Y=Array.from(B.target.files||[]);Y.length&&await re(Y)}async function re(B){F(!0);const Y=[];for(const N of B){if(!N.type.startsWith("image/"))continue;const k=URL.createObjectURL(N),X={file:N,preview:k,uploaded:!1,path:null};Y.push(X);try{const ie=new FormData;ie.append("file",N);const de=await fetch("/api/photos",{method:"POST",body:ie});if(de.ok){const T=await de.json();X.uploaded=!0,X.path=T.path||T.filename}}catch(ie){console.error("Photo upload error:",ie)}}m(N=>[...N,...Y]),F(!1)}function z(B){m(Y=>{const N=[...Y];return N[B]?.preview&&URL.revokeObjectURL(N[B].preview),N.splice(B,1),N})}function he(B){B.preventDefault(),B.stopPropagation()}function oe(B){B.preventDefault(),B.stopPropagation();const Y=Array.from(B.dataTransfer.files||[]);Y.length&&re(Y)}async function me(B){if(B.preventDefault(),P(""),!o.discovery_name.trim()){P("Discovery Name is required");return}if(!o.discovered_by.trim()){P("Discovered By is required");return}j(!0);try{const Y=u.filter(J=>J.uploaded&&J.path),N=Y[0]?.path||"",k=Y.slice(1).map(J=>J.path),X=o.evidence_urls.split(`
`).map(J=>J.trim()).filter(Boolean),ie=[...k,...X],de={discovery_name:o.discovery_name.trim(),discovery_type:o.discovery_type||null,description:o.description.trim()||null,system_id:o.system_id?parseInt(o.system_id):null,planet_id:o.planet_id?parseInt(o.planet_id):null,moon_id:o.moon_id?parseInt(o.moon_id):null,location_name:o.location_name.trim()||null,discovered_by:o.discovered_by.trim(),discord_user_id:o.discord_user_id.trim()||null,photo_url:N||null,evidence_urls:ie.length>0?ie.join(","):null},T=await fetch("/api/discoveries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(de)});if(!T.ok){const J=await T.json().catch(()=>({}));throw new Error(J.detail||J.message||"Failed to submit discovery")}i?.()}catch(Y){P(Y.message||"An error occurred")}finally{j(!1)}}const U=g?.planets||[],K=U.find(B=>B.id===parseInt(o.planet_id))?.moons||[];return n.jsx(Qe,{isOpen:r,onClose:s,title:"Submit Discovery",children:n.jsxs("form",{onSubmit:me,children:[O&&n.jsx("div",{className:"mb-4 p-3 rounded text-sm",style:{backgroundColor:"rgba(239,68,68,0.2)",color:"#fca5a5"},children:O}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Basic Info"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(nn,{label:n.jsxs(n.Fragment,{children:["Discovery Name ",n.jsx("span",{className:"text-red-400",children:"*"})]}),children:n.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:o.discovery_name,onChange:B=>W("discovery_name",B.target.value),placeholder:"e.g., Giant Sand Worm"})}),n.jsx(nn,{label:"Discovery Type",children:n.jsx("select",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:o.discovery_type,onChange:B=>W("discovery_type",B.target.value),children:gN.map(B=>n.jsx("option",{value:B.value,children:B.label},B.value))})})]}),n.jsx(nn,{label:"Description",children:n.jsx("textarea",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)",minHeight:80},value:o.description,onChange:B=>W("description",B.target.value),placeholder:"Describe the discovery, any notable characteristics, behaviors, etc."})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Location"}),n.jsx(nn,{label:"System",hint:"Search by system name to link this discovery",children:n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{ref:D,type:"text",className:"flex-1 p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:b,onChange:B=>{S(B.target.value),v(!0),B.target.value||Q()},onFocus:()=>v(!0),placeholder:"Search for a system..."}),o.system_id&&n.jsx(te,{type:"button",variant:"ghost",onClick:Q,children:"Clear"})]}),C&&h.length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 rounded shadow-lg max-h-48 overflow-y-auto",style:{backgroundColor:"var(--app-card)",border:"1px solid var(--app-accent-3)"},children:h.map(B=>n.jsxs("div",{className:"p-2 cursor-pointer hover:opacity-80",style:{borderBottom:"1px solid var(--app-accent-3)"},onClick:()=>$(B),children:[n.jsx("div",{className:"font-medium",children:B.name}),B.galaxy&&n.jsx("div",{className:"text-xs muted",children:B.galaxy})]},B.id))})]})}),g&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(nn,{label:"Planet",children:n.jsxs("select",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:o.planet_id,onChange:B=>{W("planet_id",B.target.value),W("moon_id","")},children:[n.jsx("option",{value:"",children:"Select planet..."}),U.map(B=>n.jsx("option",{value:B.id,children:B.name||`Planet ${B.planet_index||B.id}`},B.id))]})}),n.jsx(nn,{label:"Moon (optional)",children:n.jsxs("select",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:o.moon_id,onChange:B=>W("moon_id",B.target.value),disabled:!o.planet_id||K.length===0,children:[n.jsx("option",{value:"",children:"Select moon..."}),K.map(B=>n.jsx("option",{value:B.id,children:B.name||`Moon ${B.id}`},B.id))]})})]}),n.jsx(nn,{label:"Location Name",hint:"Specific location on the planet (e.g., 'Near the Archive portal')",children:n.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:o.location_name,onChange:B=>W("location_name",B.target.value),placeholder:"e.g., Trading Post, Near portal, Coordinates +45.2, -12.8"})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Credits"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(nn,{label:n.jsxs(n.Fragment,{children:["Discovered By ",n.jsx("span",{className:"text-red-400",children:"*"})]}),children:n.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:o.discovered_by,onChange:B=>W("discovered_by",B.target.value),placeholder:"In-game name or real name"})}),n.jsx(nn,{label:"Discord Username",hint:"For crediting on Discord",children:n.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:o.discord_user_id,onChange:B=>W("discord_user_id",B.target.value),placeholder:"e.g., username#1234"})})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Photos & Evidence"}),n.jsxs("div",{className:"border-2 border-dashed rounded p-4 mb-4 text-center cursor-pointer transition-colors",style:{borderColor:"var(--app-accent-3)"},onClick:()=>E.current?.click(),onDragOver:he,onDrop:oe,children:[n.jsx("input",{ref:E,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:le}),n.jsx("div",{className:"text-3xl mb-2",children:""}),n.jsx("div",{className:"text-sm",children:I?"Uploading...":"Click to upload or drag & drop photos here"}),n.jsx("div",{className:"text-xs muted mt-1",children:"First photo will be the main image"})]}),u.length>0&&n.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 mb-4",children:u.map((B,Y)=>n.jsxs("div",{className:"relative aspect-square rounded overflow-hidden",style:{backgroundColor:"var(--app-bg)"},children:[n.jsx("img",{src:B.preview,alt:`Upload ${Y+1}`,className:"w-full h-full object-cover"}),Y===0&&n.jsx("div",{className:"absolute top-1 left-1 text-xs px-1 rounded",style:{backgroundColor:"var(--app-primary)",color:"#fff"},children:"Main"}),!B.uploaded&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:n.jsx("div",{className:"text-xs",children:"Uploading..."})}),n.jsx("button",{type:"button",className:"absolute top-1 right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs",style:{backgroundColor:"rgba(0,0,0,0.7)",color:"#fff"},onClick:N=>{N.stopPropagation(),z(Y)},children:""})]},Y))}),n.jsx(nn,{label:"Evidence URLs",hint:"External links to screenshots, videos, etc. (one per line)",children:n.jsx("textarea",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)",minHeight:60},value:o.evidence_urls,onChange:B=>W("evidence_urls",B.target.value),placeholder:`https://imgur.com/abc123
https://youtube.com/watch?v=xyz`})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",style:{borderTop:"1px solid var(--app-accent-3)"},children:[n.jsx(te,{type:"button",variant:"ghost",onClick:s,disabled:_,children:"Cancel"}),n.jsx(te,{type:"submit",disabled:_||I,children:_?"Submitting...":"Submit Discovery"})]})]})})}function vN({url:r,alt:s}){return r?n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:r,alt:s||"",style:{maxWidth:"100%",borderRadius:8}})}):null}function yN(){const[r,s]=x.useState([]),[i,o]=x.useState(""),[l,u]=x.useState(null),[m,h]=x.useState(!1);x.useEffect(()=>{fetch("/api/discoveries").then(S=>S.json()).then(S=>s(S.results||[]))},[]),x.useEffect(()=>{function S(C){const v=C.detail;v&&y(v)}return window.addEventListener("openDetail",S),()=>window.removeEventListener("openDetail",S)},[r]);async function f(){const C=await(await fetch(`/api/discoveries?q=${encodeURIComponent(i)}`)).json();s(C.results||[])}function g(S){if(!S)return null;if(S.startsWith("http"))return S;try{const C=S.replace(/\\/g,"/"),v=C.lastIndexOf("/"),_=v!==-1?C.slice(v+1):C;return`/haven-ui-photos/${encodeURIComponent(_)}`}catch{return null}}async function y(S){try{const C=await fetch(`/api/discoveries/${S.id}`);if(!C.ok){u(S);return}const v=await C.json();v.photo_url&&(v._photo_static=g(v.photo_url));const _=v.evidence_url||v.evidence_urls;_&&typeof _=="string"?v._evidence=_.split(",").map(j=>j.trim()).filter(Boolean).map(j=>g(j)||j):Array.isArray(_)?v._evidence=_.map(j=>g(j)||j):v._evidence=[],u(v)}catch(C){console.error(C),u(S)}}function b(){u(null)}return n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Discoveries"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{className:"p-2 rounded flex-1 sm:flex-initial",value:i,onChange:S=>o(S.target.value),placeholder:"search discoveries"}),n.jsx(te,{onClick:f,children:"Search"}),n.jsx(te,{onClick:()=>h(!0),children:"Submit Discovery"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((S,C)=>n.jsxs(Ee,{className:"cursor-pointer",onClick:()=>bN(S),children:[n.jsx("div",{className:"font-semibold",children:S.discovery_name||S.discovery_type||S.description&&S.description.slice(0,80)||"Discovery #"+(S.id||C)}),n.jsxs("div",{className:"muted text-sm mt-1",children:[S.system_id?`System: ${S.system_id}`:""," ",S.planet_id?`  Planet: ${S.planet_id}`:""]}),n.jsx("div",{className:"mt-2 text-sm",children:S.description||""}),n.jsxs("div",{className:"mt-3 text-sm muted",children:["Discovered by: ",S.discovered_by||S.discord_user_id||"Unknown"]})]},C))}),l&&n.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:b,children:n.jsxs("div",{className:"p-6 rounded",style:{width:"90%",maxWidth:900,backgroundColor:"var(--app-card)"},onClick:S=>S.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:l.discovery_name||l.discovery_type||`Discovery #${l.id}`}),n.jsx(te,{onClick:b,variant:"ghost",children:"Close"})]}),n.jsxs("div",{className:"mt-2 text-sm muted",children:["Submitted: ",l.submission_timestamp]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("strong",{children:"Location:"})," ",l.system_id?`System: ${l.system_id}`:""," ",l.location_name?`  ${l.location_name}`:""]}),n.jsx("div",{className:"mt-3 text-sm",children:l.description}),l._photo_static&&n.jsx(vN,{url:l._photo_static,alt:l.discovery_name}),l._evidence&&l._evidence.length>0&&n.jsxs("div",{className:"mt-3",children:[n.jsx("strong",{children:"Evidence:"}),n.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:l._evidence.map((S,C)=>n.jsx("div",{className:"p-1 rounded",style:{backgroundColor:"rgba(255,255,255,0.03)"},children:S.startsWith("/")?n.jsx("img",{src:S,style:{maxWidth:"100%"}}):n.jsx("a",{href:S,target:"_blank",rel:"noreferrer",children:S})},C))})]}),n.jsxs("div",{className:"mt-4 text-sm muted",children:["Discovered by: ",l.discovered_by||l.discord_user_id||"Unknown"]})]})}),n.jsx(xN,{isOpen:m,onClose:()=>h(!1),onSuccess:()=>{h(!1),fetch("/api/discoveries").then(S=>S.json()).then(S=>s(S.results||[]))}})]})}function bN(r){const s=new CustomEvent("openDetail",{detail:r});window.dispatchEvent(s)}function jN(){const[r,s]=x.useState([]),[i,o]=x.useState(!1);x.useEffect(()=>{fetch("/api/tests").then(u=>u.json()).then(u=>s(u.tests||[]))},[]);async function l(u){o(!0);const h=await(await fetch("/api/tests/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test_path:u})})).json();alert("Return: "+h.returncode+`
`+h.stdout+`
`+h.stderr),o(!1)}return n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Tests"}),n.jsx("div",{className:"space-y-2",children:r.map((u,m)=>n.jsxs("div",{className:"p-2 bg-white/5 rounded flex justify-between items-center",children:[n.jsx("div",{children:u}),n.jsx("button",{className:"px-3 py-1 bg-sky-600 text-white rounded",onClick:()=>l(u),disabled:i,children:"Run"})]},m))})]})}function wN(){const r=x.useContext(ft),{isAdmin:s,isSuperAdmin:i,isPartner:o,user:l}=r||{},[u,m]=x.useState(null),[h,f]=x.useState(null),[g,y]=x.useState(!0);return x.useEffect(()=>{fetch(o?"/api/partner/stats":"/api/db_stats",{credentials:"include"}).then(S=>S.json()).then(S=>{m(S.stats||null),f(S.discord_tag||null)}).catch(()=>m(null)).finally(()=>y(!1))},[o]),g?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading statistics..."})}):n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-2 text-cyan-400",children:o?"Your Statistics":"Database Statistics"}),o&&h&&n.jsx("div",{className:"mb-4 p-3 bg-cyan-900/30 border border-cyan-700 rounded",children:n.jsxs("p",{className:"text-cyan-300 text-sm",children:["Showing statistics for systems tagged with ",n.jsx("strong",{className:"text-cyan-400",children:h})]})}),u?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Object.entries(u).map(([b,S])=>n.jsxs("div",{className:"p-4 bg-gray-800 rounded border border-gray-700",children:[n.jsx("div",{className:"text-2xl font-bold text-white",children:String(S)}),n.jsx("div",{className:"text-sm text-gray-400 capitalize",children:b.replace(/_/g," ")})]},b))}):n.jsx("div",{className:"text-gray-400",children:"No statistics available."}),o&&n.jsxs("div",{className:"mt-6 p-4 bg-gray-800/50 border border-gray-700 rounded",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"About Your Statistics"}),n.jsxs("ul",{className:"text-sm text-gray-400 space-y-1 list-disc list-inside",children:[n.jsxs("li",{children:["These statistics only include systems tagged with your Discord (",h,")"]}),n.jsx("li",{children:"Planets, moons, and space stations are counted from your tagged systems"}),n.jsx("li",{children:"To increase these numbers, create more systems or have the super admin tag existing systems with your Discord"})]})]})]})}function NN(){const r=sn(),s=x.useContext(ft),{isAdmin:i,isSuperAdmin:o,isHavenSubAdmin:l,user:u,loading:m,canAccess:h}=s||{};function f(A){if(!A)return"";let Re=A.toLowerCase().trim();return Re.includes("#")&&(Re=Re.split("#")[0]),Re}function g(A){if(!u||o)return!1;if(A.submitter_account_id&&A.submitter_account_type)return u.type===A.submitter_account_type&&u.accountId===A.submitter_account_id;if(u.username){const Re=f(u.username);if(A.submitted_by&&f(A.submitted_by)===Re||A.personal_discord_username&&f(A.personal_discord_username)===Re)return!0}return!1}const[y,b]=x.useState(!0),[S,C]=x.useState([]),[v,_]=x.useState([]),[j,O]=x.useState([]),[P,I]=x.useState(null),[F,E]=x.useState(null),[D,W]=x.useState(null),[$,Q]=x.useState(!1),[le,re]=x.useState(!1),[z,he]=x.useState(!1),[oe,me]=x.useState(!1),[U,se]=x.useState(""),[K,B]=x.useState(!1),[Y,N]=x.useState(!1),[k,X]=x.useState(new Set),[ie,de]=x.useState(!1),[T,J]=x.useState(!1),[fe,Te]=x.useState(""),[at,Ct]=x.useState(!1),[Ge,_t]=x.useState(null),[an,ue]=x.useState([]),[Se,Ae]=x.useState("all");x.useEffect(()=>{o&&ce.get("/api/discord_tags").then(A=>{ue(A.data.tags||[])}).catch(()=>{})},[o]),x.useEffect(()=>{m||(i?Me():(alert("Admin authentication required"),r("/systems")))},[m,i,r]);async function Me(){b(!0);try{const[A,Re,He]=await Promise.all([ce.get("/api/pending_systems"),ce.get("/api/pending_region_names"),ce.get("/api/pending_edits")]);C(A.data.submissions||[]),_(Re.data.pending||[]),O(He.data.requests||[])}catch(A){alert("Failed to load submissions: "+(A.response?.data?.detail||A.message))}finally{b(!1)}}async function tt(A){try{const Re=await ce.get(`/api/pending_systems/${A.id}`);I(Re.data),Q(!0)}catch(Re){alert("Failed to load submission details: "+(Re.response?.data?.detail||Re.message))}}async function it(A,Re){if(confirm(`Approve system "${Re}"?

This will add it to the main database.`)){B(!0);try{const He=await ce.post(`/api/approve_system/${A}`);alert(`System "${Re}" approved successfully!

System ID: ${He.data.system_id}`),Q(!1),I(null),Me()}catch(He){alert("Approval failed: "+(He.response?.data?.detail||He.message))}finally{B(!1)}}}function lt(A){I(A),se(""),me(!0)}async function sr(){if(!U.trim()){alert("Please provide a rejection reason");return}B(!0);try{await ce.post(`/api/reject_system/${P.id}`,{reason:U}),alert(`System "${P.system_name}" rejected`),me(!1),Q(!1),I(null),se(""),Me()}catch(A){alert("Rejection failed: "+(A.response?.data?.detail||A.message))}finally{B(!1)}}function ln(A){E(A),re(!0)}async function ar(A){if(confirm(`Approve region name "${A.proposed_name}" for coordinates [${A.region_x}, ${A.region_y}, ${A.region_z}]?`)){B(!0);try{await ce.post(`/api/pending_region_names/${A.id}/approve`),alert(`Region name "${A.proposed_name}" approved!`),re(!1),E(null),Me()}catch(Re){alert("Approval failed: "+(Re.response?.data?.detail||Re.message))}finally{B(!1)}}}async function ir(){if(!U.trim()){alert("Please provide a rejection reason");return}B(!0);try{await ce.post(`/api/pending_region_names/${F.id}/reject`,{reason:U}),alert(`Region name "${F.proposed_name}" rejected`),me(!1),re(!1),E(null),se(""),Me()}catch(A){alert("Rejection failed: "+(A.response?.data?.detail||A.message))}finally{B(!1)}}function lr(A){W(A),he(!0)}async function Mn(A){if(confirm(`Approve edit request for system "${A.system_name}"?

This will apply the partner's changes to the system.`)){B(!0);try{await ce.post(`/api/pending_edits/${A.id}/approve`),alert(`Edit request approved! Changes have been applied to "${A.system_name}".`),he(!1),W(null),Me()}catch(Re){alert("Approval failed: "+(Re.response?.data?.detail||Re.message))}finally{B(!1)}}}async function jn(){if(!U.trim()){alert("Please provide a rejection reason");return}B(!0);try{await ce.post(`/api/pending_edits/${D.id}/reject`,{notes:U}),alert("Edit request rejected"),me(!1),he(!1),W(null),se(""),Me()}catch(A){alert("Rejection failed: "+(A.response?.data?.detail||A.message))}finally{B(!1)}}function fa(A){X(Re=>{const He=new Set(Re);return He.has(A)?He.delete(A):He.add(A),He})}function or(){const A=on.filter(Re=>!g(Re)).map(Re=>Re.id);X(new Set(A))}function cr(){X(new Set)}function il(){N(!1),X(new Set)}async function pa(){if(k.size!==0&&confirm(`Approve ${k.size} selected system(s)?

This will add them to the main database.`)){de(!0);try{const A=await ce.post("/api/approve_systems/batch",{submission_ids:Array.from(k)});_t(A.data),Ct(!0),X(new Set),Me()}catch(A){alert("Batch approval failed: "+(A.response?.data?.detail||A.message))}finally{de(!1)}}}async function ha(){if(!fe.trim()){alert("Please provide a rejection reason");return}de(!0);try{const A=await ce.post("/api/reject_systems/batch",{submission_ids:Array.from(k),reason:fe});_t(A.data),J(!1),Te(""),Ct(!0),X(new Set),Me()}catch(A){alert("Batch rejection failed: "+(A.response?.data?.detail||A.message))}finally{de(!1)}}function Ar(A){const Re={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"};return n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${Re[A]||"bg-gray-100 text-gray-800"}`,children:A.toUpperCase()})}if(m||y)return n.jsx("div",{className:"p-4",children:n.jsx(Ee,{children:n.jsx("p",{children:"Loading submissions..."})})});const ur=S.filter(A=>A.status==="pending"),dr=S.filter(A=>A.status!=="pending"),on=o&&Se!=="all"?ur.filter(A=>Se==="untagged"?!A.discord_tag:A.discord_tag===Se):ur,mr=o&&Se!=="all"?dr.filter(A=>Se==="untagged"?!A.discord_tag:A.discord_tag===Se):dr,fr=v.filter(A=>A.status==="pending"),cn=j.filter(A=>A.status==="pending");function un(A,Re=null){if(!A)return n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-gray-500 text-white",children:"UNTAGGED"});if(A==="personal")return n.jsxs("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-fuchsia-600 text-white",children:["PERSONAL",Re?` - ${Re}`:""]});const He={Haven:"bg-cyan-500 text-white",IEA:"bg-green-500 text-white","B.E.S":"bg-orange-500 text-white",ARCH:"bg-purple-500 text-white",TBH:"bg-yellow-500 text-black",EVRN:"bg-pink-500 text-white"};if(He[A])return n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${He[A]}`,children:A});const pr=["bg-indigo-500 text-white","bg-violet-500 text-white","bg-fuchsia-500 text-white","bg-amber-500 text-black","bg-lime-500 text-black","bg-teal-500 text-white","bg-sky-500 text-white","bg-rose-500 text-white"];let hr=0;for(let Mr=0;Mr<A.length;Mr++)hr=A.charCodeAt(Mr)+((hr<<5)-hr);const hs=Math.abs(hr)%pr.length;return n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${pr[hs]}`,children:A})}return n.jsx("div",{className:"p-4",children:n.jsxs(Ee,{className:"max-w-6xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Approvals Queue"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[o&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("label",{className:"text-sm text-gray-300",children:"Filter:"}),n.jsxs("select",{className:"p-2 border rounded bg-gray-700 text-white text-sm",value:Se,onChange:A=>Ae(A.target.value),children:[n.jsx("option",{value:"all",children:"All Communities"}),n.jsx("option",{value:"untagged",children:"Untagged Only"}),an.map(A=>n.jsxs("option",{value:A.tag,children:[A.name," (",A.tag,")"]},A.tag))]})]}),h&&h(xn.BATCH_APPROVALS)&&on.length>0&&n.jsx(te,{className:Y?"bg-amber-600 hover:bg-amber-700":"bg-indigo-600 hover:bg-indigo-700",onClick:()=>Y?il():N(!0),children:Y?"Exit Batch Mode":"Batch Mode"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>r("/systems"),children:"Back to Systems"})]})]}),fr.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-xl font-semibold mb-3",children:["Pending Region Names (",fr.length,")"]}),n.jsx("div",{className:"space-y-2",children:fr.map(A=>n.jsxs("div",{className:"border rounded p-3 bg-purple-700 hover:bg-purple-600 flex justify-between items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold text-lg",children:A.proposed_name}),n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-purple-200 text-purple-800",children:"REGION NAME"}),Ar(A.status)]}),n.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[n.jsxs("span",{children:["Coordinates: [",A.region_x,", ",A.region_y,", ",A.region_z,"]"]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Submitted by: ",A.submitted_by||"Anonymous"]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Date: ",new Date(A.submission_date).toLocaleString()]})]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>ln(A),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Review"})})]},`region-${A.id}`))})]}),o&&cn.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-xl font-semibold mb-3",children:["Pending Edit Requests (",cn.length,")"]}),n.jsx("div",{className:"space-y-2",children:cn.map(A=>n.jsxs("div",{className:"border rounded p-3 bg-orange-700 hover:bg-orange-600 flex justify-between items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold text-lg",children:A.system_name||"Unknown System"}),n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-orange-200 text-orange-800",children:"PARTNER EDIT"}),Ar(A.status)]}),n.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[n.jsxs("span",{children:["Partner: ",A.partner_username||"Unknown"]}),A.partner_discord_tag&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-2",children:""}),n.jsx("span",{className:"text-cyan-300",children:A.partner_discord_tag})]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Date: ",new Date(A.submitted_at).toLocaleString()]})]}),A.explanation&&n.jsxs("div",{className:"text-sm text-yellow-300 mt-1",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",A.explanation]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>lr(A),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Review"})})]},`edit-${A.id}`))})]}),Y&&n.jsxs("div",{className:"mb-4 p-3 bg-indigo-900 border border-indigo-500 rounded flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("span",{className:"text-white font-semibold",children:[k.size," of ",on.filter(A=>!g(A)).length," selected"]}),n.jsx("button",{onClick:or,className:"text-sm text-indigo-300 hover:text-white underline",children:"Select All Eligible"}),k.size>0&&n.jsx("button",{onClick:cr,className:"text-sm text-indigo-300 hover:text-white underline",children:"Clear Selection"})]}),k.size>0&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(te,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:pa,disabled:ie,children:ie?"Processing...":`Approve Selected (${k.size})`}),n.jsx(te,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>J(!0),disabled:ie,children:ie?"Processing...":`Reject Selected (${k.size})`})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-xl font-semibold mb-3",children:["Pending Systems (",on.length,o&&Se!=="all"&&` of ${ur.length}`,")"]}),on.length===0?n.jsx("div",{className:"text-gray-300 italic p-4 bg-cyan-700 rounded",children:Se!=="all"?"No pending submissions match the selected filter":"No pending system submissions"}):n.jsx("div",{className:"space-y-2",children:on.map(A=>n.jsxs("div",{className:`border rounded p-3 bg-cyan-700 hover:bg-cyan-600 flex justify-between items-center ${Y&&k.has(A.id)?"ring-2 ring-indigo-400":""}`,children:[Y&&n.jsx("div",{className:"mr-3",children:n.jsx("input",{type:"checkbox",checked:k.has(A.id),onChange:()=>fa(A.id),disabled:g(A),className:"w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",title:g(A)?"Cannot select your own submission":""})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold text-lg",children:A.system_name}),Ar(A.status),A.edit_system_id&&n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-orange-500 text-white",children:"EDIT"}),!A.edit_system_id&&n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-green-500 text-white",children:"NEW"}),g(A)&&n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-amber-500 text-black",children:"YOUR SUBMISSION"}),(o||l)&&A.discord_tag&&un(A.discord_tag,o?A.personal_discord_username:null),A.source==="companion_app"&&A.api_key_name&&n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyan-200 text-cyan-800",children:A.api_key_name})]}),n.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[n.jsxs("span",{children:["Galaxy: ",A.system_galaxy||"Euclid"]}),n.jsx("span",{className:"mx-2",children:""}),n.jsx("span",{className:A.system_data?.reality==="Permadeath"?"text-red-400":"text-green-400",children:A.system_data?.reality||"Normal"}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Submitted by: ",A.submitted_by||"Anonymous"]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Date: ",new Date(A.submission_date).toLocaleString()]})]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>tt(A),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Review"})})]},A.id))})]}),mr.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-semibold mb-3",children:["Recently Reviewed (",mr.length,o&&Se!=="all"&&` of ${dr.length}`,")"]}),n.jsx("div",{className:"space-y-2",children:mr.slice(0,10).map(A=>n.jsx("div",{className:"border rounded p-3 bg-cyan-700 flex justify-between items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold",children:A.system_name}),Ar(A.status),A.edit_system_id&&n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-orange-500 text-white",children:"EDIT"}),!A.edit_system_id&&n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-green-500 text-white",children:"NEW"}),(o||l)&&A.discord_tag&&un(A.discord_tag,o?A.personal_discord_username:null)]}),n.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[n.jsxs("span",{children:["Reviewed by: ",A.reviewed_by||"Unknown"]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Date: ",A.review_date?new Date(A.review_date).toLocaleString():"Unknown"]}),A.rejection_reason&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Reason: ",A.rejection_reason]})]})]})]})},A.id))})]}),$&&P&&n.jsx(Qe,{title:`Review: ${P.system_name}`,onClose:()=>{Q(!1),I(null)},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"System Information"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",P.system_data?.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Galaxy:"})," ",P.system_data?.galaxy||"Euclid"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Reality:"})," ",n.jsx("span",{className:P.system_data?.reality==="Permadeath"?"text-red-400":"text-green-400",children:P.system_data?.reality||"Normal"})]}),P.system_data?.region_x!==null&&n.jsxs("p",{children:[n.jsx("strong",{children:"Region:"})," [",P.system_data.region_x,", ",P.system_data.region_y,", ",P.system_data.region_z,"]"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Coordinates:"})," (",P.system_data?.x||0,", ",P.system_data?.y||0,", ",P.system_data?.z||0,")"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Description:"})," ",P.system_data?.description||"None"]})]})]}),P.system_data?.planets&&P.system_data.planets.length>0&&n.jsxs("div",{className:"border-b pb-3",children:[n.jsxs("h4",{className:"font-semibold mb-2",children:["Planets (",P.system_data.planets.length,")"]}),n.jsx("div",{className:"space-y-3",children:P.system_data.planets.map((A,Re)=>n.jsxs("div",{className:"text-sm bg-cyan-700 p-3 rounded",children:[n.jsx("div",{className:"flex items-start gap-3",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("p",{className:"font-semibold text-base",children:A.name})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-gray-300",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Sentinel:"})," ",A.sentinel||"None"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Fauna:"})," ",A.fauna||"N/A",A.fauna_count>0&&` (${A.fauna_count})`]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Flora:"})," ",A.flora||"N/A",A.flora_count>0&&` (${A.flora_count})`]}),A.climate&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Climate:"})," ",A.climate]}),A.has_water===1&&n.jsx("div",{children:n.jsx("span",{className:"text-cyan-300",children:"Has Water"})})]})]})}),A.materials&&n.jsxs("div",{className:"mt-2 text-gray-300",children:[n.jsx("span",{className:"text-gray-400",children:"Materials:"})," ",A.materials]}),A.base_location&&n.jsxs("div",{className:"mt-1 text-gray-300",children:[n.jsx("span",{className:"text-gray-400",children:"Base Location:"})," ",A.base_location]}),A.description&&n.jsxs("div",{className:"mt-1 text-gray-300",children:[n.jsx("span",{className:"text-gray-400",children:"Description:"})," ",A.description]}),A.notes&&n.jsxs("div",{className:"mt-1 text-gray-300",children:[n.jsx("span",{className:"text-gray-400",children:"Notes:"})," ",A.notes]}),A.photo&&n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-gray-400",children:"Photo:"})," ",n.jsx("span",{className:"text-cyan-300",children:A.photo})]}),A.moons&&A.moons.length>0&&n.jsxs("div",{className:"mt-2 ml-3 border-l-2 border-cyan-500 pl-3",children:[n.jsxs("p",{className:"text-gray-400 text-xs mb-1",children:["Moons (",A.moons.length,"):"]}),A.moons.map((He,pr)=>n.jsxs("div",{className:"mb-2 text-xs",children:[n.jsx("p",{className:"font-medium",children:He.name}),n.jsxs("div",{className:"grid grid-cols-2 gap-1 mt-1 text-gray-300",children:[n.jsxs("div",{children:["Sentinel: ",He.sentinel||"None"]}),n.jsxs("div",{children:["Fauna: ",He.fauna||"N/A"]}),n.jsxs("div",{children:["Flora: ",He.flora||"N/A"]}),He.materials&&n.jsxs("div",{className:"col-span-2",children:["Materials: ",He.materials]})]})]},pr))]})]},Re))})]}),P.system_data?.space_station&&n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Space Station"}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",P.system_data.space_station.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Race:"})," ",P.system_data.space_station.race]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Position:"})," (",P.system_data.space_station.x,", ",P.system_data.space_station.y,", ",P.system_data.space_station.z,")"]})]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Submitted by:"})," ",P.submitted_by||"Anonymous"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Submission Date:"})," ",new Date(P.submission_date).toLocaleString()]}),n.jsxs("p",{children:[n.jsx("strong",{children:"IP Address:"})," ",P.submitted_by_ip]}),(o||l)&&P.discord_tag&&n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Discord Community:"})," ",un(P.discord_tag,o?P.personal_discord_username:null)]})]}),P.status==="pending"&&n.jsxs("div",{className:"pt-3 border-t",children:[g(P)&&n.jsx("div",{className:"mb-3 p-3 bg-amber-900/50 border border-amber-500 rounded",children:n.jsxs("p",{className:"text-amber-300 text-sm",children:[n.jsx("strong",{children:"You submitted this system."})," Another admin must review and approve it to prevent conflicts of interest."]})}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(te,{className:"btn-primary bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>it(P.id,P.system_name),disabled:K||g(P),title:g(P)?"You cannot approve your own submission":"",children:g(P)?"Cannot Self-Approve":K?"Approving...":"Approve System"}),n.jsx(te,{className:"bg-red-600 text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{Q(!1),lt(P)},disabled:K||g(P),title:g(P)?"You cannot reject your own submission":"",children:g(P)?"Cannot Self-Reject":"Reject System"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>{Q(!1),I(null)},disabled:K,children:"Close"})]})]})]})}),oe&&P&&n.jsx(Qe,{title:`Reject: ${P.system_name}`,onClose:()=>{me(!1),I(null),se("")},children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-700",children:"Please provide a reason for rejecting this submission. This will help the submitter understand why their system was not approved."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Rejection Reason"}),n.jsx("textarea",{className:"w-full border rounded p-2",rows:"4",value:U,onChange:A=>se(A.target.value),placeholder:"e.g., Duplicate system, incomplete information, violates naming guidelines..."})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(te,{className:"bg-red-600 text-white hover:bg-red-700",onClick:sr,disabled:K||!U.trim(),children:K?"Rejecting...":"Confirm Rejection"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>{me(!1),se(""),Q(!0)},disabled:K,children:"Cancel"})]})]})}),le&&F&&n.jsx(Qe,{title:`Review Region Name: ${F.proposed_name}`,onClose:()=>{re(!1),E(null)},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Region Name Submission"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Proposed Name:"})," ",F.proposed_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Region Coordinates:"})," [",F.region_x,", ",F.region_y,", ",F.region_z,"]"]})]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Submitted by:"})," ",F.submitted_by||"Anonymous"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Submission Date:"})," ",new Date(F.submission_date).toLocaleString()]}),F.submitted_by_ip&&n.jsxs("p",{children:[n.jsx("strong",{children:"IP Address:"})," ",F.submitted_by_ip]})]}),F.status==="pending"&&n.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[n.jsx(te,{className:"btn-primary bg-green-600 hover:bg-green-700",onClick:()=>ar(F),disabled:K,children:K?"Approving...":"Approve Region Name"}),n.jsx(te,{className:"bg-red-600 text-white hover:bg-red-700",onClick:()=>{re(!1),se(""),me(!0)},disabled:K,children:"Reject"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>{re(!1),E(null)},disabled:K,children:"Close"})]})]})}),oe&&F&&n.jsx(Qe,{title:`Reject: ${F.proposed_name}`,onClose:()=>{me(!1),E(null),se("")},children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-700",children:"Please provide a reason for rejecting this region name submission."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Rejection Reason"}),n.jsx("textarea",{className:"w-full border rounded p-2",rows:"4",value:U,onChange:A=>se(A.target.value),placeholder:"e.g., Name already in use, inappropriate name, etc..."})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(te,{className:"bg-red-600 text-white hover:bg-red-700",onClick:ir,disabled:K||!U.trim(),children:K?"Rejecting...":"Confirm Rejection"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>{me(!1),se(""),re(!0)},disabled:K,children:"Cancel"})]})]})}),z&&D&&n.jsx(Qe,{title:`Review Edit Request: ${D.system_name||"Unknown System"}`,onClose:()=>{he(!1),W(null)},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Submitted By"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Partner:"})," ",D.partner_username||"Unknown"]}),D.partner_discord_tag&&n.jsxs("p",{children:[n.jsx("strong",{children:"Discord Tag:"})," ",n.jsx("span",{className:"text-cyan-400",children:D.partner_discord_tag})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Submitted:"})," ",new Date(D.submitted_at).toLocaleString()]})]})]}),n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Reason for Edit"}),n.jsx("div",{className:"bg-yellow-900/30 border border-yellow-700 rounded p-3 text-yellow-200",children:D.explanation||"No explanation provided"})]}),n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Proposed Changes"}),n.jsx("div",{className:"text-sm bg-gray-700 p-3 rounded max-h-64 overflow-y-auto",children:D.edit_data?n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"System Name:"})," ",D.edit_data.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Galaxy:"})," ",D.edit_data.galaxy||"Euclid"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Reality:"})," ",n.jsx("span",{className:D.edit_data.reality==="Permadeath"?"text-red-400":"text-green-400",children:D.edit_data.reality||"Normal"})]}),D.edit_data.description&&n.jsxs("p",{children:[n.jsx("strong",{children:"Description:"})," ",D.edit_data.description]}),D.edit_data.planets&&n.jsxs("p",{children:[n.jsx("strong",{children:"Planets:"})," ",D.edit_data.planets.length]}),D.edit_data.discord_tag&&n.jsxs("p",{children:[n.jsx("strong",{children:"New Discord Tag:"})," ",n.jsx("span",{className:"text-cyan-400",children:D.edit_data.discord_tag})]})]}):n.jsx("p",{className:"text-gray-400",children:"No edit data available"})})]}),D.status==="pending"&&n.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[n.jsx(te,{className:"btn-primary bg-green-600 hover:bg-green-700",onClick:()=>Mn(D),disabled:K,children:K?"Approving...":"Approve Edit"}),n.jsx(te,{className:"bg-red-600 text-white hover:bg-red-700",onClick:()=>{he(!1),se(""),me(!0)},disabled:K,children:"Reject Edit"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>{he(!1),W(null)},disabled:K,children:"Close"})]})]})}),oe&&D&&n.jsx(Qe,{title:`Reject Edit: ${D.system_name||"Unknown System"}`,onClose:()=>{me(!1),W(null),se("")},children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-700",children:"Please provide a reason for rejecting this edit request. This will be visible to the partner."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Rejection Reason"}),n.jsx("textarea",{className:"w-full border rounded p-2",rows:"4",value:U,onChange:A=>se(A.target.value),placeholder:"e.g., Edit not appropriate, system belongs to another community, etc..."})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(te,{className:"bg-red-600 text-white hover:bg-red-700",onClick:jn,disabled:K||!U.trim(),children:K?"Rejecting...":"Confirm Rejection"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>{me(!1),se(""),he(!0)},disabled:K,children:"Cancel"})]})]})}),T&&n.jsx(Qe,{title:`Batch Reject ${k.size} Submission(s)`,onClose:()=>{J(!1),Te("")},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("p",{className:"text-sm text-gray-700",children:["Please provide a reason for rejecting these ",k.size," submission(s). This reason will be applied to all selected items."]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Rejection Reason"}),n.jsx("textarea",{className:"w-full border rounded p-2",rows:"4",value:fe,onChange:A=>Te(A.target.value),placeholder:"e.g., Duplicate systems, incomplete information, violates naming guidelines..."})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(te,{className:"bg-red-600 text-white hover:bg-red-700",onClick:ha,disabled:ie||!fe.trim(),children:ie?"Rejecting...":`Reject ${k.size} Submission(s)`}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>{J(!1),Te("")},disabled:ie,children:"Cancel"})]})]})}),at&&Ge&&n.jsx(Qe,{title:"Batch Operation Results",onClose:()=>{Ct(!1),_t(null)},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{className:"p-3 bg-green-900/50 border border-green-500 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-green-400",children:Ge.summary?.approved||Ge.summary?.rejected||0}),n.jsx("div",{className:"text-sm text-green-300",children:Ge.results?.approved?"Approved":"Rejected"})]}),n.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-500 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-red-400",children:Ge.summary?.failed||0}),n.jsx("div",{className:"text-sm text-red-300",children:"Failed"})]}),n.jsxs("div",{className:"p-3 bg-amber-900/50 border border-amber-500 rounded",children:[n.jsx("div",{className:"text-2xl font-bold text-amber-400",children:Ge.summary?.skipped||0}),n.jsx("div",{className:"text-sm text-amber-300",children:"Skipped"})]})]}),n.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-3",children:[(Ge.results?.approved?.length>0||Ge.results?.rejected?.length>0)&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-green-400 mb-1",children:[Ge.results?.approved?"Approved":"Rejected",":"]}),n.jsx("ul",{className:"text-sm space-y-1",children:(Ge.results?.approved||Ge.results?.rejected||[]).map(A=>n.jsx("li",{className:"text-gray-300",children:A.name||`ID: ${A.id}`},A.id))})]}),Ge.results?.failed?.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-red-400 mb-1",children:"Failed:"}),n.jsx("ul",{className:"text-sm space-y-1",children:Ge.results.failed.map(A=>n.jsxs("li",{className:"text-red-300",children:[A.name||`ID: ${A.id}`,": ",A.error]},A.id))})]}),Ge.results?.skipped?.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-amber-400 mb-1",children:"Skipped:"}),n.jsx("ul",{className:"text-sm space-y-1",children:Ge.results.skipped.map(A=>n.jsxs("li",{className:"text-amber-300",children:[A.name||`ID: ${A.id}`,": ",A.reason]},A.id))})]})]}),n.jsx("div",{className:"pt-3 border-t",children:n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>{Ct(!1),_t(null)},children:"Close"})})]})})]})})}function SN(){const r=sn(),[s,i]=x.useState(!1),[o,l]=x.useState(!0),[u,m]=x.useState([]),[h,f]=x.useState(!1),[g,y]=x.useState(!1),[b,S]=x.useState(null),[C,v]=x.useState(!1),[_,j]=x.useState([]),[O,P]=x.useState(!1),[I,F]=x.useState(null),[E,D]=x.useState(""),[W,$]=x.useState(200),[Q,le]=x.useState(""),[re,z]=x.useState(""),[he,oe]=x.useState(200),[me,U]=x.useState("");x.useEffect(()=>{nb().then(T=>{i(T.logged_in),T.logged_in?(K(),se()):(alert("Admin authentication required"),r("/systems"))}).catch(()=>{alert("Failed to verify admin status"),r("/systems")})},[r]);async function se(){try{const T=await ce.get("/api/discord_tags");j(T.data.tags||[])}catch(T){console.error("Failed to load discord tags:",T)}}async function K(){l(!0);try{const T=await ce.get("/api/keys");m(T.data.keys||[])}catch(T){alert("Failed to load API keys: "+(T.response?.data?.detail||T.message))}finally{l(!1)}}async function B(){if(!E.trim()){alert("Please enter a name for the API key");return}v(!0);try{const T=await ce.post("/api/keys",{name:E.trim(),rate_limit:W,permissions:["submit","check_duplicate"],discord_tag:Q||null});S(T.data),f(!1),y(!0),D(""),$(200),le(""),K()}catch(T){alert("Failed to create API key: "+(T.response?.data?.detail||T.message))}finally{v(!1)}}async function Y(T,J){if(confirm(`Revoke API key "${J}"?

This will immediately invalidate the key. Any companion apps using it will stop working.`)){v(!0);try{await ce.delete(`/api/keys/${T}`),alert(`API key "${J}" has been revoked.`),K()}catch(fe){alert("Failed to revoke API key: "+(fe.response?.data?.detail||fe.message))}finally{v(!1)}}}async function N(T,J){v(!0);try{await ce.put(`/api/keys/${T}`,{is_active:!0}),alert(`API key "${J}" has been reactivated.`),K()}catch(fe){alert("Failed to reactivate API key: "+(fe.response?.data?.detail||fe.message))}finally{v(!1)}}function k(T){F(T),z(T.name),oe(T.rate_limit),U(T.discord_tag||""),P(!0)}async function X(){if(!re.trim()){alert("Please enter a name for the API key");return}v(!0);try{await ce.put(`/api/keys/${I.id}`,{name:re.trim(),rate_limit:he,discord_tag:me||null}),alert(`API key "${re}" has been updated.`),P(!1),F(null),K()}catch(T){alert("Failed to update API key: "+(T.response?.data?.detail||T.message))}finally{v(!1)}}function ie(T){navigator.clipboard.writeText(T).then(()=>{alert("API key copied to clipboard!")}).catch(()=>{alert("Failed to copy to clipboard. Please copy manually.")})}function de(T){return T?new Date(T).toLocaleString():"Never"}return o?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading API keys..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-cyan-400",children:"API Keys"}),n.jsx("p",{className:"text-gray-400 mt-1",children:"Manage API keys for the NMS Save Watcher companion app and other integrations"})]}),n.jsx(te,{onClick:()=>f(!0),disabled:C,children:"+ Create New Key"})]}),n.jsx(Ee,{className:"bg-gray-800/50 border border-cyan-900/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-cyan-400 font-semibold mb-2",children:"About API Keys"}),n.jsxs("ul",{className:"text-gray-300 text-sm space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"API keys allow external applications to submit systems to Voyagers Haven"}),n.jsx("li",{children:"Submissions via API key go to the pending approval queue (same as manual submissions)"}),n.jsx("li",{children:"Each key has its own rate limit (default: 200 requests/hour)"}),n.jsx("li",{children:"Keys are shown only once when created - save them securely!"}),n.jsx("li",{children:"Revoked keys can be reactivated if needed"})]})]})}),u.length===0?n.jsx(Ee,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-8 text-center text-gray-400",children:[n.jsx("p",{className:"text-lg mb-2",children:"No API keys yet"}),n.jsx("p",{className:"text-sm",children:"Create an API key to allow the NMS Save Watcher companion app to submit discoveries."})]})}):n.jsx("div",{className:"space-y-4",children:u.map(T=>n.jsx(Ee,{className:`bg-gray-800/50 border ${T.is_active?"border-gray-700":"border-red-900/50"}`,children:n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:T.name}),T.is_active?n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-green-900/50 text-green-400 border border-green-700",children:"Active"}):n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-red-900/50 text-red-400 border border-red-700",children:"Revoked"}),T.discord_tag&&n.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full border ${T.discord_tag==="personal"?"bg-fuchsia-900/50 text-fuchsia-400 border-fuchsia-700":"bg-cyan-900/50 text-cyan-400 border-cyan-700"}`,children:T.discord_tag})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Key Prefix:"}),n.jsxs("p",{className:"text-gray-300 font-mono",children:[T.key_prefix,"..."]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Rate Limit:"}),n.jsxs("p",{className:"text-gray-300",children:[T.rate_limit,"/hour"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Created:"}),n.jsx("p",{className:"text-gray-300",children:de(T.created_at)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Last Used:"}),n.jsx("p",{className:"text-gray-300",children:de(T.last_used_at)})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Permissions: "}),n.jsx("span",{className:"text-gray-400 text-sm",children:(T.permissions||[]).join(", ")||"None"})]})]}),n.jsxs("div",{className:"flex gap-2 ml-4",children:[n.jsx(te,{variant:"secondary",size:"sm",onClick:()=>k(T),disabled:C,children:"Edit"}),T.is_active?n.jsx(te,{variant:"danger",size:"sm",onClick:()=>Y(T.id,T.name),disabled:C,children:"Revoke"}):n.jsx(te,{variant:"secondary",size:"sm",onClick:()=>N(T.id,T.name),disabled:C,children:"Reactivate"})]})]})})},T.id))}),n.jsx(Qe,{isOpen:h,onClose:()=>f(!1),title:"Create API Key",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Key Name *"}),n.jsx("input",{type:"text",value:E,onChange:T=>D(T.target.value),placeholder:"e.g., Parker's Companion App",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"A descriptive name to identify this key"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Rate Limit (requests/hour)"}),n.jsx("input",{type:"number",value:W,onChange:T=>$(parseInt(T.target.value)||200),min:"1",max:"1000",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Maximum submissions per hour (default: 200)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Discord Community Tag"}),n.jsxs("select",{value:Q,onChange:T=>le(T.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[n.jsx("option",{value:"",children:"-- Select a tag --"}),n.jsx("option",{value:"personal",children:"Personal"}),_.map(T=>n.jsxs("option",{value:T.tag,children:[T.name," (",T.tag,")"]},T.tag))]}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Submissions via this key will be auto-tagged with this community"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[n.jsx(te,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),n.jsx(te,{onClick:B,disabled:C||!E.trim(),children:C?"Creating...":"Create Key"})]})]})}),n.jsx(Qe,{isOpen:g,onClose:()=>y(!1),title:"API Key Created",children:b&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-yellow-900/30 border border-yellow-700 rounded p-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-yellow-500 text-xl",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-400 font-semibold",children:"Save this key now!"}),n.jsx("p",{className:"text-yellow-300 text-sm",children:"This is the only time the full key will be shown. Store it securely."})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your API Key"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:b.key,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-600 rounded text-cyan-400 font-mono text-sm"}),n.jsx(te,{onClick:()=>ie(b.key),children:"Copy"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Name:"}),n.jsx("p",{className:"text-white",children:b.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Rate Limit:"}),n.jsxs("p",{className:"text-white",children:[b.rate_limit,"/hour"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Discord Tag:"}),n.jsx("p",{className:"text-white",children:b.discord_tag||"None"})]})]}),n.jsxs("div",{className:"bg-gray-800 rounded p-4 text-sm",children:[n.jsx("p",{className:"text-gray-400 mb-2",children:"To use this key with the NMS Save Watcher companion app:"}),n.jsxs("ol",{className:"list-decimal list-inside text-gray-300 space-y-1",children:[n.jsx("li",{children:"Open the companion app's web dashboard"}),n.jsx("li",{children:"Go to Settings"}),n.jsx("li",{children:"Paste this API key in the API Key field"}),n.jsx("li",{children:"Save your settings"})]})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-700",children:n.jsx(te,{onClick:()=>y(!1),children:"I've Saved the Key"})})]})}),n.jsx(Qe,{isOpen:O,onClose:()=>P(!1),title:"Edit API Key",children:I&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Key Name *"}),n.jsx("input",{type:"text",value:re,onChange:T=>z(T.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Rate Limit (requests/hour)"}),n.jsx("input",{type:"number",value:he,onChange:T=>oe(parseInt(T.target.value)||200),min:"1",max:"1000",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Discord Community Tag"}),n.jsxs("select",{value:me,onChange:T=>U(T.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[n.jsx("option",{value:"",children:"-- No tag --"}),n.jsx("option",{value:"personal",children:"Personal"}),_.map(T=>n.jsxs("option",{value:T.tag,children:[T.name," (",T.tag,")"]},T.tag))]}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Submissions via this key will be auto-tagged with this community"})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"Key Prefix:"})," ",I.key_prefix,"..."]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[n.jsx(te,{variant:"secondary",onClick:()=>P(!1),children:"Cancel"}),n.jsx(te,{onClick:X,disabled:C||!re.trim(),children:C?"Saving...":"Save Changes"})]})]})})]})}const dc=[{id:"system_create",label:"Create Systems",description:"Can create new star systems"},{id:"system_edit",label:"Edit Systems",description:"Can edit systems tagged with their Discord"},{id:"approvals",label:"View Approvals",description:"Can approve/reject pending submissions for their Discord"},{id:"batch_approvals",label:"Batch Approvals",description:"Can approve or reject multiple submissions at once"},{id:"stats",label:"View Statistics",description:"Can view database statistics for their Discord"},{id:"settings",label:"Theme Settings",description:"Can customize their theme colors"},{id:"csv_import",label:"CSV Import",description:"Can bulk import star systems from CSV files"}];function CN(){const r=sn(),s=x.useContext(ft),[i,o]=x.useState([]),[l,u]=x.useState(!0),[m,h]=x.useState(!1),[f,g]=x.useState(!1),[y,b]=x.useState(!1),[S,C]=x.useState(!1),[v,_]=x.useState(null),[j,O]=x.useState({username:"",password:"",discord_tag:"",display_name:"",enabled_features:[]});x.useEffect(()=>{if(!s.isSuperAdmin){alert("Super admin access required"),r("/systems");return}P()},[s.isSuperAdmin,r]);async function P(){u(!0);try{const z=await ce.get("/api/partners");o(z.data.partners||[])}catch(z){alert("Failed to load partners: "+(z.response?.data?.detail||z.message))}finally{u(!1)}}function I(){O({username:"",password:"",discord_tag:"",display_name:"",enabled_features:[]})}async function F(){if(!j.username.trim()||j.username.length<3){alert("Username must be at least 3 characters");return}if(!j.password||j.password.length<4){alert("Password must be at least 4 characters");return}h(!0);try{await ce.post("/api/partners",{username:j.username.trim(),password:j.password,discord_tag:j.discord_tag.trim()||null,display_name:j.display_name.trim()||j.username.trim(),enabled_features:j.enabled_features}),alert("Partner account created successfully!"),g(!1),I(),P()}catch(z){alert("Failed to create partner: "+(z.response?.data?.detail||z.message))}finally{h(!1)}}async function E(){h(!0);try{await ce.put(`/api/partners/${v.id}`,{discord_tag:j.discord_tag.trim()||null,display_name:j.display_name.trim(),enabled_features:j.enabled_features}),alert("Partner updated successfully!"),b(!1),P()}catch(z){alert("Failed to update partner: "+(z.response?.data?.detail||z.message))}finally{h(!1)}}async function D(){if(!j.password||j.password.length<4){alert("Password must be at least 4 characters");return}h(!0);try{await ce.post(`/api/partners/${v.id}/reset_password`,{password:j.password}),alert("Password reset successfully!"),C(!1),I()}catch(z){alert("Failed to reset password: "+(z.response?.data?.detail||z.message))}finally{h(!1)}}async function W(z){const he=z.is_active?"deactivate":"activate";if(!(z.is_active&&!confirm(`Deactivate partner "${z.display_name||z.username}"?

They will not be able to log in until reactivated.`))){h(!0);try{z.is_active?await ce.delete(`/api/partners/${z.id}`):await ce.post(`/api/partners/${z.id}/activate`),P()}catch(oe){alert(`Failed to ${he} partner: `+(oe.response?.data?.detail||oe.message))}finally{h(!1)}}}function $(z){_(z),O({username:z.username,password:"",discord_tag:z.discord_tag||"",display_name:z.display_name||"",enabled_features:z.enabled_features||[]}),b(!0)}function Q(z){_(z),O({...j,password:""}),C(!0)}function le(z){O(he=>({...he,enabled_features:he.enabled_features.includes(z)?he.enabled_features.filter(oe=>oe!==z):[...he.enabled_features,z]}))}function re(z){return z?new Date(z).toLocaleString():"Never"}return l?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading partners..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-cyan-400",children:"Partner Management"}),n.jsx("p",{className:"text-gray-400 mt-1",children:"Create and manage login accounts for partner Discord servers"})]}),n.jsx(te,{onClick:()=>{I(),g(!0)},disabled:m,children:"+ Add Partner"})]}),n.jsx(Ee,{className:"bg-gray-800/50 border border-cyan-900/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-cyan-400 font-semibold mb-2",children:"About Partner Accounts"}),n.jsxs("ul",{className:"text-gray-300 text-sm space-y-1 list-disc list-inside",children:[n.jsx("li",{children:'Each partner account is tied to a Discord server via a short tag (e.g., "GHDF", "NMSHub")'}),n.jsx("li",{children:"Partners can only edit systems/regions tagged with their Discord"}),n.jsx("li",{children:"When partners edit untagged systems, it requires your approval"}),n.jsx("li",{children:"You control which features each partner has access to"}),n.jsx("li",{children:"Multiple admins from the same Discord can share one login"})]})]})}),i.length===0?n.jsx(Ee,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-8 text-center text-gray-400",children:[n.jsx("p",{className:"text-lg mb-2",children:"No partner accounts yet"}),n.jsx("p",{className:"text-sm",children:"Create a partner account to give other Discord servers their own space."})]})}):n.jsx("div",{className:"space-y-4",children:i.map(z=>n.jsx(Ee,{className:`bg-gray-800/50 border ${z.is_active?"border-gray-700":"border-red-900/50"}`,children:n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:z.display_name||z.username}),n.jsxs("span",{className:"text-sm text-gray-400",children:["@",z.username]}),z.is_active?n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-green-900/50 text-green-400 border border-green-700",children:"Active"}):n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-red-900/50 text-red-400 border border-red-700",children:"Inactive"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Discord Tag:"}),n.jsx("p",{className:"text-cyan-400 font-mono",children:z.discord_tag||"Not set"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Created:"}),n.jsx("p",{className:"text-gray-300",children:re(z.created_at)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Last Login:"}),n.jsx("p",{className:"text-gray-300",children:re(z.last_login_at)})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Enabled Features: "}),n.jsx("span",{className:"text-gray-400 text-sm",children:(z.enabled_features||[]).length>0?z.enabled_features.map(he=>{const oe=dc.find(me=>me.id===he);return oe?oe.label:he}).join(", "):"None"})]})]}),n.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[n.jsx(te,{variant:"secondary",size:"sm",onClick:()=>$(z),disabled:m,children:"Edit"}),n.jsx(te,{variant:"secondary",size:"sm",onClick:()=>Q(z),disabled:m,children:"Reset Password"}),n.jsx(te,{variant:z.is_active?"danger":"primary",size:"sm",onClick:()=>W(z),disabled:m,children:z.is_active?"Deactivate":"Activate"})]})]})})},z.id))}),n.jsx(Qe,{isOpen:f,onClose:()=>g(!1),title:"Create Partner Account",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Username *"}),n.jsx("input",{type:"text",value:j.username,onChange:z=>O({...j,username:z.target.value}),placeholder:"e.g., GHDFAdmin",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Login username (min 3 characters)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password *"}),n.jsx("input",{type:"password",value:j.password,onChange:z=>O({...j,password:z.target.value}),placeholder:"Enter password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Min 4 characters"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Discord Tag"}),n.jsx("input",{type:"text",value:j.discord_tag,onChange:z=>O({...j,discord_tag:z.target.value}),placeholder:"e.g., GHDF",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Short identifier for their Discord server. Systems/regions with this tag belong to them."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Display Name"}),n.jsx("input",{type:"text",value:j.display_name,onChange:z=>O({...j,display_name:z.target.value}),placeholder:"e.g., Galactic Hub Defense Force",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Friendly name shown in the UI"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Enabled Features"}),n.jsx("div",{className:"space-y-2 bg-gray-800 p-3 rounded border border-gray-700",children:dc.map(z=>n.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:j.enabled_features.includes(z.id),onChange:()=>le(z.id),className:"mt-1"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white",children:z.label}),n.jsx("p",{className:"text-gray-500 text-xs",children:z.description})]})]},z.id))})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[n.jsx(te,{variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),n.jsx(te,{onClick:F,disabled:m||!j.username.trim()||!j.password,children:m?"Creating...":"Create Partner"})]})]})}),n.jsx(Qe,{isOpen:y,onClose:()=>b(!1),title:`Edit ${v?.display_name||v?.username||"Partner"}`,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Discord Tag"}),n.jsx("input",{type:"text",value:j.discord_tag,onChange:z=>O({...j,discord_tag:z.target.value}),placeholder:"e.g., GHDF",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Display Name"}),n.jsx("input",{type:"text",value:j.display_name,onChange:z=>O({...j,display_name:z.target.value}),placeholder:"e.g., Galactic Hub Defense Force",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Enabled Features"}),n.jsx("div",{className:"space-y-2 bg-gray-800 p-3 rounded border border-gray-700",children:dc.map(z=>n.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:j.enabled_features.includes(z.id),onChange:()=>le(z.id),className:"mt-1"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white",children:z.label}),n.jsx("p",{className:"text-gray-500 text-xs",children:z.description})]})]},z.id))})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[n.jsx(te,{variant:"secondary",onClick:()=>b(!1),children:"Cancel"}),n.jsx(te,{onClick:E,disabled:m,children:m?"Saving...":"Save Changes"})]})]})}),n.jsx(Qe,{isOpen:S,onClose:()=>C(!1),title:`Reset Password for ${v?.display_name||v?.username||"Partner"}`,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password *"}),n.jsx("input",{type:"password",value:j.password,onChange:z=>O({...j,password:z.target.value}),placeholder:"Enter new password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Min 4 characters"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[n.jsx(te,{variant:"secondary",onClick:()=>C(!1),children:"Cancel"}),n.jsx(te,{onClick:D,disabled:m||!j.password||j.password.length<4,children:m?"Resetting...":"Reset Password"})]})]})})]})}const Kf=[{id:"system_create",label:"Create Systems",description:"Can create new star systems"},{id:"system_edit",label:"Edit Systems",description:"Can edit systems tagged with their Discord"},{id:"approvals",label:"Approvals",description:"Can approve/reject pending submissions"},{id:"batch_approvals",label:"Batch Approvals",description:"Can approve or reject multiple submissions at once"},{id:"stats",label:"View Statistics",description:"Can view database statistics"},{id:"settings",label:"Theme Settings",description:"Can customize theme colors"}];function Yf(){const r=sn(),{partnerId:s}=$c(),i=x.useContext(ft),[o,l]=x.useState([]),[u,m]=x.useState([]),[h,f]=x.useState([]),[g,y]=x.useState(!0),[b,S]=x.useState(!1),[C,v]=x.useState(!1),[_,j]=x.useState(!1),[O,P]=x.useState(!1),[I,F]=x.useState(null),[E,D]=x.useState({username:"",password:"",display_name:"",enabled_features:[],parent_partner_id:s||"",additional_discord_tags:[],can_approve_personal_uploads:!1}),[W,$]=x.useState("");x.useEffect(()=>{if(!i.isAdmin){alert("Admin access required"),r("/systems");return}Q(),i.isSuperAdmin&&!s&&(le(),re())},[i.isAdmin,i.isSuperAdmin,r,s]);async function Q(){y(!0);try{const N=s?`/api/sub_admins?partner_id=${s}`:"/api/sub_admins",k=await ce.get(N);l(k.data.sub_admins||[])}catch(N){alert("Failed to load sub-admins: "+(N.response?.data?.detail||N.message))}finally{y(!1)}}async function le(){try{const N=await ce.get("/api/partners");m(N.data.partners||[])}catch(N){console.error("Failed to load partners:",N)}}async function re(){try{const N=await ce.get("/api/available_discord_tags");f(N.data.discord_tags||[])}catch(N){console.error("Failed to load discord tags:",N)}}function z(){D({username:"",password:"",display_name:"",enabled_features:[],parent_partner_id:s||(i.isSuperAdmin?"haven":""),additional_discord_tags:[],can_approve_personal_uploads:!1})}async function he(){if(!E.username.trim()||E.username.length<3){alert("Username must be at least 3 characters");return}if(!E.password||E.password.length<4){alert("Password must be at least 4 characters");return}S(!0);try{const N={username:E.username.trim(),password:E.password,display_name:E.display_name.trim()||E.username.trim(),enabled_features:E.enabled_features};E.parent_partner_id&&E.parent_partner_id!=="haven"?N.parent_partner_id=parseInt(E.parent_partner_id):E.parent_partner_id==="haven"&&(N.additional_discord_tags=E.additional_discord_tags,N.can_approve_personal_uploads=E.can_approve_personal_uploads),await ce.post("/api/sub_admins",N),alert("Sub-admin account created successfully!"),v(!1),z(),Q()}catch(N){alert("Failed to create sub-admin: "+(N.response?.data?.detail||N.message))}finally{S(!1)}}function oe(N){F(N),D({username:N.username,password:"",display_name:N.display_name||"",enabled_features:N.enabled_features||[],parent_partner_id:N.parent_partner_id,additional_discord_tags:N.additional_discord_tags||[],can_approve_personal_uploads:N.can_approve_personal_uploads||!1}),j(!0)}async function me(){S(!0);try{const N={display_name:E.display_name.trim()||null,enabled_features:E.enabled_features,is_active:I.is_active};I.parent_partner_id||(N.additional_discord_tags=E.additional_discord_tags,N.can_approve_personal_uploads=E.can_approve_personal_uploads),await ce.put(`/api/sub_admins/${I.id}`,N),alert("Sub-admin updated successfully!"),j(!1),F(null),z(),Q()}catch(N){alert("Failed to update sub-admin: "+(N.response?.data?.detail||N.message))}finally{S(!1)}}function U(N){F(N),$(""),P(!0)}async function se(){if(!W||W.length<4){alert("New password must be at least 4 characters");return}S(!0);try{await ce.post(`/api/sub_admins/${I.id}/reset_password`,{new_password:W}),alert("Password reset successfully!"),P(!1),F(null),$("")}catch(N){alert("Failed to reset password: "+(N.response?.data?.detail||N.message))}finally{S(!1)}}async function K(N){const k=N.is_active?"deactivate":"reactivate";if(confirm(`Are you sure you want to ${k} "${N.username}"?`)){S(!0);try{N.is_active?await ce.delete(`/api/sub_admins/${N.id}`):await ce.put(`/api/sub_admins/${N.id}`,{is_active:!0}),Q()}catch(X){alert(`Failed to ${k} sub-admin: `+(X.response?.data?.detail||X.message))}finally{S(!1)}}}function B(N){D(k=>{const X=k.enabled_features||[];return X.includes(N)?{...k,enabled_features:X.filter(ie=>ie!==N)}:{...k,enabled_features:[...X,N]}})}function Y(N){D(k=>{const X=k.additional_discord_tags||[];return X.includes(N)?{...k,additional_discord_tags:X.filter(ie=>ie!==N)}:{...k,additional_discord_tags:[...X,N]}})}return g?n.jsx("div",{className:"p-4",children:n.jsx(Ee,{children:n.jsx("p",{children:"Loading sub-admins..."})})}):n.jsxs("div",{className:"p-4",children:[n.jsxs(Ee,{className:"max-w-4xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Sub-Admin Management"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Sub-admins can approve submissions (except their own) and manage content for their community."})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(te,{className:"bg-green-600 text-white hover:bg-green-700",onClick:()=>{z(),v(!0)},children:"+ Create Sub-Admin"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>r(-1),children:"Back"})]})]}),o.length===0?n.jsx("div",{className:"text-gray-400 italic p-4 bg-gray-700 rounded",children:"No sub-admin accounts yet. Create one to allow community members to help with approvals."}):n.jsx("div",{className:"space-y-3",children:o.map(N=>n.jsx("div",{className:`border rounded p-4 ${N.is_active?"bg-cyan-700":"bg-gray-600 opacity-75"}`,children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"text-lg font-semibold",children:N.username}),!N.is_active&&n.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-red-500 text-white",children:"INACTIVE"})]}),N.display_name&&n.jsx("p",{className:"text-sm text-gray-300",children:N.display_name}),n.jsxs("p",{className:"text-sm text-cyan-300 mt-1",children:["Parent: ",N.parent_display_name||"Haven",N.parent_partner_id?` (${N.parent_discord_tag||"No tag"})`:" (Super Admin)"]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[(N.enabled_features||[]).map(k=>n.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-cyan-600 text-white",children:k},k)),(!N.enabled_features||N.enabled_features.length===0)&&n.jsx("span",{className:"text-sm text-gray-400 italic",children:"No features enabled"})]}),!N.parent_partner_id&&N.additional_discord_tags&&N.additional_discord_tags.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-xs text-gray-400",children:"Can also view: "}),n.jsx("span",{className:"text-xs text-yellow-400",children:N.additional_discord_tags.join(", ")})]}),!N.parent_partner_id&&N.can_approve_personal_uploads&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-purple-600 text-white",children:"Can approve personal uploads"})}),n.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Created: ",new Date(N.created_at).toLocaleDateString(),N.last_login_at&&n.jsxs("span",{children:[" | Last login: ",new Date(N.last_login_at).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx(te,{className:"bg-blue-600 text-white text-sm px-3 py-1",onClick:()=>oe(N),children:"Edit"}),n.jsx(te,{className:"bg-yellow-600 text-white text-sm px-3 py-1",onClick:()=>U(N),children:"Reset Password"}),n.jsx(te,{className:`text-sm px-3 py-1 ${N.is_active?"bg-red-600 text-white":"bg-green-600 text-white"}`,onClick:()=>K(N),disabled:b,children:N.is_active?"Deactivate":"Reactivate"})]})]})},N.id))})]}),C&&n.jsx(Qe,{title:"Create Sub-Admin",onClose:()=>v(!1),children:n.jsxs("div",{className:"space-y-4",children:[i.isSuperAdmin&&!s&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Parent"}),n.jsxs("select",{className:"w-full border rounded p-2 bg-gray-700 text-white",value:E.parent_partner_id,onChange:N=>D({...E,parent_partner_id:N.target.value}),children:[n.jsx("option",{value:"haven",children:"Haven (Super Admin)"}),n.jsx("optgroup",{label:"Partners",children:u.filter(N=>N.is_active).map(N=>n.jsxs("option",{value:N.id,children:[N.display_name||N.username," (",N.discord_tag||"No tag",")"]},N.id))})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Haven sub-admins report directly to you (no community tag)."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Username *"}),n.jsx("input",{type:"text",className:"w-full border rounded p-2 bg-gray-700 text-white",value:E.username,onChange:N=>D({...E,username:N.target.value}),placeholder:"min 3 characters"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Password *"}),n.jsx("input",{type:"password",className:"w-full border rounded p-2 bg-gray-700 text-white",value:E.password,onChange:N=>D({...E,password:N.target.value}),placeholder:"min 4 characters"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Display Name"}),n.jsx("input",{type:"text",className:"w-full border rounded p-2 bg-gray-700 text-white",value:E.display_name,onChange:N=>D({...E,display_name:N.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Enabled Features"}),n.jsx("div",{className:"space-y-2",children:Kf.map(N=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:E.enabled_features.includes(N.id),onChange:()=>B(N.id),className:"rounded"}),n.jsx("span",{className:"text-sm",children:N.label}),n.jsxs("span",{className:"text-xs text-gray-400",children:["- ",N.description]})]},N.id))})]}),E.parent_partner_id==="haven"&&i.isSuperAdmin&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Additional Discord Tag Visibility"}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Select which partner discords this Haven sub-admin can see and approve submissions for."}),n.jsx("div",{className:"max-h-32 overflow-y-auto border border-gray-600 rounded p-2 bg-gray-800 space-y-2",children:h.length===0?n.jsx("p",{className:"text-sm text-gray-400 italic",children:"No partner discord tags available"}):h.filter(N=>N.discord_tag!=="Haven").map(N=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:E.additional_discord_tags.includes(N.discord_tag),onChange:()=>Y(N.discord_tag),className:"rounded"}),n.jsx("span",{className:"text-sm",children:N.discord_tag})]},N.discord_tag))})]}),n.jsx("div",{className:"border-t border-gray-600 pt-3",children:n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:E.can_approve_personal_uploads,onChange:N=>D({...E,can_approve_personal_uploads:N.target.checked}),className:"rounded w-5 h-5"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-semibold",children:"Can Approve Personal Uploads"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Allow this sub-admin to approve submissions without a discord tag."})]})]})})]}),n.jsxs("div",{className:"flex space-x-2 pt-3",children:[n.jsx(te,{className:"bg-green-600 text-white",onClick:he,disabled:b,children:b?"Creating...":"Create Sub-Admin"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>v(!1),children:"Cancel"})]})]})}),_&&I&&n.jsx(Qe,{title:`Edit: ${I.username}`,onClose:()=>j(!1),children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Display Name"}),n.jsx("input",{type:"text",className:"w-full border rounded p-2 bg-gray-700 text-white",value:E.display_name,onChange:N=>D({...E,display_name:N.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Enabled Features"}),n.jsx("div",{className:"space-y-2",children:Kf.map(N=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:E.enabled_features.includes(N.id),onChange:()=>B(N.id),className:"rounded"}),n.jsx("span",{className:"text-sm",children:N.label})]},N.id))})]}),!I.parent_partner_id&&i.isSuperAdmin&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-1",children:"Additional Discord Tag Visibility"}),n.jsx("p",{className:"text-xs text-gray-400 mb-2",children:'Select which partner discords this Haven sub-admin can see and approve submissions for (in addition to "Haven").'}),n.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-600 rounded p-2 bg-gray-800 space-y-2",children:h.length===0?n.jsx("p",{className:"text-sm text-gray-400 italic",children:"No partner discord tags available"}):h.filter(N=>N.discord_tag!=="Haven").map(N=>n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:E.additional_discord_tags.includes(N.discord_tag),onChange:()=>Y(N.discord_tag),className:"rounded"}),n.jsx("span",{className:"text-sm",children:N.discord_tag}),N.display_name&&n.jsxs("span",{className:"text-xs text-gray-400",children:["(",N.display_name,")"]})]},N.discord_tag))}),E.additional_discord_tags.length>0&&n.jsxs("p",{className:"text-xs text-cyan-400 mt-1",children:["Can view: Haven + ",E.additional_discord_tags.join(", ")]})]}),!I.parent_partner_id&&i.isSuperAdmin&&n.jsx("div",{className:"border-t border-gray-600 pt-4",children:n.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:E.can_approve_personal_uploads,onChange:N=>D({...E,can_approve_personal_uploads:N.target.checked}),className:"rounded w-5 h-5"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-semibold",children:"Can Approve Personal Uploads"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Allow this sub-admin to see and approve submissions without a discord tag (personal uploads). Note: Discord info will be hidden - only visible to super admin."})]})]})}),n.jsxs("div",{className:"flex space-x-2 pt-3",children:[n.jsx(te,{className:"bg-blue-600 text-white",onClick:me,disabled:b,children:b?"Saving...":"Save Changes"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>j(!1),children:"Cancel"})]})]})}),O&&I&&n.jsx(Qe,{title:`Reset Password: ${I.username}`,onClose:()=>P(!1),children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-1",children:"New Password *"}),n.jsx("input",{type:"password",className:"w-full border rounded p-2 bg-gray-700 text-white",value:W,onChange:N=>$(N.target.value),placeholder:"min 4 characters"})]}),n.jsxs("div",{className:"flex space-x-2 pt-3",children:[n.jsx(te,{className:"bg-yellow-600 text-white",onClick:se,disabled:b,children:b?"Resetting...":"Reset Password"}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>P(!1),children:"Cancel"})]})]})})]})}function _N(){const r=sn(),s=x.useContext(ft),[i,o]=x.useState([]),[l,u]=x.useState(!0),[m,h]=x.useState(0),[f,g]=x.useState(0),y=50,[b,S]=x.useState(""),[C,v]=x.useState(""),[_,j]=x.useState([]);x.useEffect(()=>{if(!s.isSuperAdmin){alert("Super admin access required"),r("/systems");return}O(),P()},[s.isSuperAdmin,r]),x.useEffect(()=>{P()},[f,b,C]);async function O(){try{const D=await ce.get("/api/discord_tags");j(D.data.tags||[])}catch(D){console.error("Failed to load discord tags:",D)}}async function P(){u(!0);try{const D=new URLSearchParams;D.append("limit",y),D.append("offset",f*y),b&&D.append("approver",b),C&&D.append("discord_tag",C);const W=await ce.get(`/api/approval_audit?${D.toString()}`);o(W.data.entries||[]),h(W.data.total||0)}catch(D){alert("Failed to load audit log: "+(D.response?.data?.detail||D.message))}finally{u(!1)}}function I(D){const W={approved:"bg-green-500 text-white",rejected:"bg-red-500 text-white"};return n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${W[D]||"bg-gray-500 text-white"}`,children:D.toUpperCase()})}function F(D){const W={super_admin:"bg-purple-500 text-white",partner:"bg-cyan-500 text-white",sub_admin:"bg-amber-500 text-black"},$={super_admin:"Super Admin",partner:"Partner",sub_admin:"Sub-Admin"};return n.jsx("span",{className:`px-2 py-1 rounded text-xs ${W[D]||"bg-gray-500 text-white"}`,children:$[D]||D})}const E=Math.ceil(m/y);return s.isSuperAdmin?n.jsx("div",{className:"p-4",children:n.jsxs(Ee,{className:"max-w-6xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Approval Audit Log"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Track all approval and rejection actions across the system."})]}),n.jsx(te,{className:"bg-gray-200 text-gray-800",onClick:()=>r(-1),children:"Back"})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 p-3 bg-gray-700 rounded",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Approver"}),n.jsx("input",{type:"text",className:"border rounded p-2 bg-gray-600 text-white text-sm",placeholder:"Filter by username...",value:b,onChange:D=>{S(D.target.value),g(0)}})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Community"}),n.jsxs("select",{className:"border rounded p-2 bg-gray-600 text-white text-sm",value:C,onChange:D=>{v(D.target.value),g(0)},children:[n.jsx("option",{value:"",children:"All Communities"}),_.map(D=>n.jsx("option",{value:D.tag,children:D.name},D.tag))]})]}),n.jsx("div",{className:"flex items-end",children:n.jsx(te,{className:"bg-gray-500 text-white text-sm",onClick:()=>{S(""),v(""),g(0)},children:"Clear Filters"})})]}),l?n.jsx("p",{className:"text-gray-400",children:"Loading audit log..."}):i.length===0?n.jsx("div",{className:"text-gray-400 italic p-4 bg-gray-700 rounded",children:"No audit entries found. Approvals and rejections will appear here."}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-2 text-left",children:"Timestamp"}),n.jsx("th",{className:"p-2 text-left",children:"Action"}),n.jsx("th",{className:"p-2 text-left",children:"Submission"}),n.jsx("th",{className:"p-2 text-left",children:"Approver"}),n.jsx("th",{className:"p-2 text-left",children:"Submitter"}),n.jsx("th",{className:"p-2 text-left",children:"Community"}),n.jsx("th",{className:"p-2 text-left",children:"Notes"})]})}),n.jsx("tbody",{children:i.map(D=>n.jsxs("tr",{className:"border-b border-gray-600 hover:bg-gray-700",children:[n.jsx("td",{className:"p-2 text-gray-300 whitespace-nowrap",children:new Date(D.timestamp).toLocaleString()}),n.jsx("td",{className:"p-2",children:I(D.action)}),n.jsxs("td",{className:"p-2",children:[n.jsx("div",{className:"font-semibold",children:D.submission_name||"Unknown"}),n.jsxs("div",{className:"text-xs text-gray-400",children:[D.submission_type," #",D.submission_id]})]}),n.jsxs("td",{className:"p-2",children:[n.jsx("div",{className:"font-semibold",children:D.approver_username}),n.jsx("div",{className:"mt-1",children:F(D.approver_type)})]}),n.jsxs("td",{className:"p-2 text-gray-300",children:[D.submitter_username||"Unknown",D.submitter_type&&n.jsx("div",{className:"text-xs text-gray-400",children:D.submitter_type})]}),n.jsx("td",{className:"p-2",children:D.submission_discord_tag?n.jsx("span",{className:"px-2 py-1 rounded text-xs bg-cyan-600 text-white",children:D.submission_discord_tag}):n.jsx("span",{className:"text-gray-500 text-xs",children:"Untagged"})}),n.jsx("td",{className:"p-2 text-gray-300 text-xs max-w-xs truncate",children:D.notes||"-"})]},D.id))})]})}),n.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-600",children:[n.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",f*y+1,"-",Math.min((f+1)*y,m)," of ",m," entries"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{className:"bg-gray-600 text-white text-sm px-3 py-1",onClick:()=>g(D=>Math.max(0,D-1)),disabled:f===0,children:"Previous"}),n.jsxs("span",{className:"text-sm text-gray-400 flex items-center px-2",children:["Page ",f+1," of ",E||1]}),n.jsx(te,{className:"bg-gray-600 text-white text-sm px-3 py-1",onClick:()=>g(D=>D+1),disabled:f>=E-1,children:"Next"})]})]})]})]})}):null}function kN(){const r=x.useContext(ft),{isSuperAdmin:s,isPartner:i,user:o}=r||{},l=x.useRef(null),[u,m]=x.useState(null),[h,f]=x.useState(!1),[g,y]=x.useState(null),[b,S]=x.useState(!1),C=P=>{const I=P.target.files?.[0];I&&I.name.endsWith(".csv")&&(m(I),y(null))},v=P=>{P.preventDefault(),S(!1);const I=P.dataTransfer.files?.[0];I&&I.name.endsWith(".csv")&&(m(I),y(null))},_=P=>{P.preventDefault(),S(!0)},j=()=>{S(!1)},O=async()=>{if(u){f(!0),y(null);try{const P=new FormData;P.append("file",u);const I=await fetch("/api/import_csv",{method:"POST",credentials:"include",body:P}),F=await I.json();if(!I.ok)throw new Error(F.detail||"Import failed");y({success:!0,imported:F.imported,skipped:F.skipped,errors:F.errors,totalErrors:F.total_errors,regionName:F.region_name}),m(null),l.current&&(l.current.value="")}catch(P){y({success:!1,error:P.message})}finally{f(!1)}}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-cyan-400",children:"CSV Import"}),n.jsx(Ee,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Import Star Systems from CSV"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Upload a CSV file exported from Google Sheets to import star systems directly into the database."}),n.jsxs("div",{className:"mb-6 p-3 bg-gray-700/50 rounded border border-gray-600",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Expected CSV Format:"}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-1 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Row 1:"}),' Region name (e.g., "HUB1 - Sea of Xionahui")']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Row 2:"})," Headers (Coordinates, Original System Name, HUB Tag, New System Name, etc.)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Row 3+:"})," Data rows"]})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Required columns:"})," Coordinates (galactic format XXXX:YYYY:ZZZZ:SSSS), New System Name"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Stored in notes:"})," HUB Tag, Original System Name, Comments/Special Attributes"]})]})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer
              ${b?"border-cyan-400 bg-cyan-900/20":"border-gray-600 hover:border-gray-500"}`,onDrop:v,onDragOver:_,onDragLeave:j,onClick:()=>l.current?.click(),children:[n.jsx("input",{ref:l,type:"file",accept:".csv",onChange:C,className:"hidden"}),u?n.jsxs("div",{children:[n.jsx("div",{className:"text-lg text-cyan-400 font-semibold",children:u.name}),n.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:[(u.size/1024).toFixed(1)," KB"]}),n.jsx("button",{onClick:P=>{P.stopPropagation(),m(null),l.current&&(l.current.value="")},className:"mt-2 text-sm text-red-400 hover:text-red-300",children:"Remove file"})]}):n.jsxs("div",{children:[n.jsx("div",{className:"text-lg text-gray-300",children:"Drop CSV file here"}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"or click to browse"})]})]}),n.jsx("div",{className:"mt-4 flex gap-4",children:n.jsx(te,{onClick:O,disabled:!u||h,children:h?"Importing...":"Import Systems"})}),g&&n.jsx("div",{className:`mt-6 p-4 rounded border ${g.success?"bg-green-900/30 border-green-700":"bg-red-900/30 border-red-700"}`,children:g.success?n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-2",children:"Import Complete"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Systems Imported:"}),n.jsx("span",{className:"ml-2 text-green-400 font-semibold",children:g.imported})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Systems Skipped:"}),n.jsx("span",{className:"ml-2 text-yellow-400 font-semibold",children:g.skipped})]}),g.regionName&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-400",children:"Region:"}),n.jsx("span",{className:"ml-2 text-cyan-400",children:g.regionName})]})]}),g.errors&&g.errors.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("h5",{className:"text-sm font-semibold text-yellow-400 mb-1",children:["Errors (",g.totalErrors," total, showing first ",g.errors.length,"):"]}),n.jsx("ul",{className:"text-xs text-gray-400 space-y-1 max-h-32 overflow-y-auto",children:g.errors.map((P,I)=>n.jsx("li",{className:"text-red-300",children:P},I))})]})]}):n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-red-400 mb-2",children:"Import Failed"}),n.jsx("p",{className:"text-sm text-red-300",children:g.error})]})})]})}),i&&n.jsx(Ee,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"About CSV Import"}),n.jsxs("ul",{className:"text-sm text-gray-400 space-y-1 list-disc list-inside",children:[n.jsxs("li",{children:["Imported systems will be tagged with your Discord (",o?.discordTag,")"]}),n.jsx("li",{children:"Duplicate systems (same glyph code) will be skipped"}),n.jsx("li",{children:"Systems are imported directly into the database (no approval needed)"})]})]})})]})}const Qf=[{id:"coordinates",label:"Coordinates",description:"X, Y, Z position and region coordinates"},{id:"glyph_code",label:"Portal Glyphs",description:"Glyph code and portal address"},{id:"discovered_by",label:"Discoverer",description:"Who discovered the system and when"},{id:"base_location",label:"Base Locations",description:"Base coordinates on planets"},{id:"description",label:"Description",description:"System description text"},{id:"star_type",label:"Star Info",description:"Star type, economy, conflict level"},{id:"planets",label:"Planet Details",description:"Hide detailed planet info (shows count only)"}],Xf=[{value:"normal",label:"Normal",description:"Fully visible with all hover details"},{value:"point_only",label:"Point Only",description:"Shows as a dot but no hover information"},{value:"hidden",label:"Hidden",description:"Does not appear on maps at all"}];function EN(){const r=x.useContext(ft),{isAdmin:s,isSuperAdmin:i}=r||{},[o,l]=x.useState([]),[u,m]=x.useState(!0),[h,f]=x.useState(!1),[g,y]=x.useState(""),[b,S]=x.useState(new Set),[C,v]=x.useState(null),[_,j]=x.useState(!1),[O,P]=x.useState(!1),[I,F]=x.useState([]),[E,D]=x.useState("normal");x.useEffect(()=>{W()},[]);const W=async()=>{m(!0);try{const k=await fetch("/api/partner/my_systems",{credentials:"include"});if(!k.ok)throw new Error("Failed to load systems");const X=await k.json();l(X.systems||[])}catch(k){console.error("Failed to load systems:",k)}finally{m(!1)}},$=x.useMemo(()=>{if(!g.trim())return o;const k=g.toLowerCase();return o.filter(X=>X.name?.toLowerCase().includes(k)||X.galaxy?.toLowerCase().includes(k)||X.region_name?.toLowerCase().includes(k)||X.discord_tag?.toLowerCase().includes(k))},[o,g]),Q=k=>{const X=new Set(b);X.has(k)?X.delete(k):X.add(k),S(X)},le=()=>{S(new Set($.map(k=>k.id)))},re=()=>{S(new Set)},z=k=>{v(k),k.restriction?(P(k.restriction.is_hidden_from_public),F(k.restriction.hidden_fields||[]),D(k.restriction.map_visibility||"normal")):(P(!1),F([]),D("normal"))},he=()=>{P(!1),F([]),D("normal"),j(!0)},oe=()=>{v(null),j(!1)},me=k=>{I.includes(k)?F(I.filter(X=>X!==k)):F([...I,k])},U=async()=>{if(C){f(!0);try{const k=await fetch("/api/data_restrictions",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({system_id:C.id,is_hidden_from_public:O,hidden_fields:I,map_visibility:E})});if(!k.ok){const X=await k.json();throw new Error(X.detail||"Failed to save")}await W(),oe()}catch(k){alert("Failed to save restriction: "+k.message)}finally{f(!1)}}},se=async()=>{if(C&&confirm("Remove all restrictions from this system?")){f(!0);try{const k=await fetch(`/api/data_restrictions/${C.id}`,{method:"DELETE",credentials:"include"});if(!k.ok){const X=await k.json();throw new Error(X.detail||"Failed to remove")}await W(),oe()}catch(k){alert("Failed to remove restriction: "+k.message)}finally{f(!1)}}},K=async()=>{if(b.size!==0){f(!0);try{const k=await fetch("/api/data_restrictions/bulk",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({system_ids:Array.from(b),is_hidden_from_public:O,hidden_fields:I,map_visibility:E})});if(!k.ok){const ie=await k.json();throw new Error(ie.detail||"Failed to save")}const X=await k.json();alert(`Restrictions applied: ${X.created} created, ${X.updated} updated, ${X.skipped} skipped`),await W(),j(!1),re()}catch(k){alert("Failed to save restrictions: "+k.message)}finally{f(!1)}}},B=async()=>{if(b.size!==0&&confirm(`Remove restrictions from ${b.size} systems?`)){f(!0);try{const k=await fetch("/api/data_restrictions/bulk_remove",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({system_ids:Array.from(b)})});if(!k.ok){const ie=await k.json();throw new Error(ie.detail||"Failed to remove")}const X=await k.json();alert(`Restrictions removed from ${X.removed} systems (${X.skipped} skipped)`),await W(),re()}catch(k){alert("Failed to remove restrictions: "+k.message)}finally{f(!1)}}};if(!s)return n.jsx("div",{className:"text-center py-12 text-gray-500",children:"Please log in to manage data restrictions."});const Y=o.length,N=o.filter(k=>k.has_restriction).length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Data Restrictions"}),n.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Control which data is visible to public viewers. ",i?"Viewing all systems.":"Viewing your systems."]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsxs("span",{className:"px-3 py-1 bg-gray-700 rounded",children:[Y," systems"]}),n.jsxs("span",{className:"px-3 py-1 bg-yellow-600 rounded",children:[N," restricted"]})]})]}),n.jsxs(Ee,{className:"p-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("input",{type:"text",placeholder:"Search systems...",value:g,onChange:k=>y(k.target.value),className:"flex-1 px-4 py-2 bg-gray-800 border border-gray-600 rounded focus:outline-none focus:border-cyan-500"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{onClick:le,variant:"secondary",size:"sm",children:"Select All"}),n.jsx(te,{onClick:re,variant:"secondary",size:"sm",children:"Clear"})]})]}),b.size>0&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-800 rounded flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[n.jsxs("span",{className:"text-cyan-400 font-medium",children:[b.size," systems selected"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{onClick:he,variant:"primary",size:"sm",children:"Apply Restrictions"}),n.jsx(te,{onClick:B,variant:"danger",size:"sm",children:"Remove Restrictions"})]})]})]}),n.jsx(Ee,{children:u?n.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading systems..."}):$.length===0?n.jsx("div",{className:"p-8 text-center text-gray-400",children:o.length===0?"No systems found.":"No systems match your search."}):n.jsx("div",{className:"divide-y divide-gray-700",children:$.map(k=>n.jsxs("div",{className:`p-4 flex items-center gap-4 hover:bg-gray-800/50 transition-colors ${b.has(k.id)?"bg-gray-800":""}`,children:[n.jsx("input",{type:"checkbox",checked:b.has(k.id),onChange:()=>Q(k.id),className:"w-5 h-5 rounded border-gray-600 text-cyan-500 focus:ring-cyan-500"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium truncate",children:k.name}),n.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-700 rounded",children:k.galaxy}),i&&k.discord_tag&&n.jsx("span",{className:"text-xs px-2 py-0.5 bg-purple-700 rounded",children:k.discord_tag})]}),n.jsx("div",{className:"text-sm text-gray-400 mt-1",children:k.region_name||`Region (${k.region_x}, ${k.region_y}, ${k.region_z})`})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[k.has_restriction?n.jsxs("div",{className:"flex items-center gap-2",children:[k.restriction.is_hidden_from_public&&n.jsx("span",{className:"text-xs px-2 py-1 bg-red-600 rounded",children:"HIDDEN"}),k.restriction.hidden_fields?.length>0&&n.jsxs("span",{className:"text-xs px-2 py-1 bg-yellow-600 rounded",children:[k.restriction.hidden_fields.length," fields"]}),k.restriction.map_visibility!=="normal"&&n.jsx("span",{className:"text-xs px-2 py-1 bg-orange-600 rounded",children:k.restriction.map_visibility==="hidden"?"Map Hidden":"Point Only"})]}):n.jsx("span",{className:"text-xs text-gray-500",children:"Public"}),n.jsx(te,{onClick:()=>z(k),variant:"secondary",size:"sm",children:"Configure"})]})]},k.id))})}),C&&n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"p-6 border-b border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Configure Restrictions"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:C.name})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Hide from Public"}),n.jsx("div",{className:"text-sm text-gray-400",children:"Completely hide this system from non-owners"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:O,onChange:k=>P(k.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:ring-2 peer-focus:ring-cyan-500 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Hide Specific Fields"}),n.jsx("div",{className:"space-y-2",children:Qf.map(k=>n.jsxs("label",{className:"flex items-start gap-3 p-3 bg-gray-800 rounded cursor-pointer hover:bg-gray-750",children:[n.jsx("input",{type:"checkbox",checked:I.includes(k.id),onChange:()=>me(k.id),className:"w-5 h-5 mt-0.5 rounded border-gray-600 text-cyan-500 focus:ring-cyan-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:k.label}),n.jsx("div",{className:"text-sm text-gray-400",children:k.description})]})]},k.id))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Map Visibility"}),n.jsx("div",{className:"space-y-2",children:Xf.map(k=>n.jsxs("label",{className:`flex items-start gap-3 p-3 rounded cursor-pointer ${E===k.value?"bg-cyan-900/30 border border-cyan-500":"bg-gray-800 hover:bg-gray-750"}`,children:[n.jsx("input",{type:"radio",name:"mapVisibility",value:k.value,checked:E===k.value,onChange:X=>D(X.target.value),className:"w-5 h-5 mt-0.5 text-cyan-500 focus:ring-cyan-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:k.label}),n.jsx("div",{className:"text-sm text-gray-400",children:k.description})]})]},k.value))})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-700 flex justify-between",children:[n.jsx(te,{onClick:se,variant:"danger",disabled:h||!C.has_restriction,children:"Remove All"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{onClick:oe,variant:"secondary",disabled:h,children:"Cancel"}),n.jsx(te,{onClick:U,variant:"primary",disabled:h,children:h?"Saving...":"Save"})]})]})]})}),_&&n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"p-6 border-b border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Bulk Apply Restrictions"}),n.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Apply to ",b.size," selected systems"]})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Hide from Public"}),n.jsx("div",{className:"text-sm text-gray-400",children:"Completely hide these systems from non-owners"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:O,onChange:k=>P(k.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:ring-2 peer-focus:ring-cyan-500 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-cyan-600"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Hide Specific Fields"}),n.jsx("div",{className:"space-y-2",children:Qf.map(k=>n.jsxs("label",{className:"flex items-start gap-3 p-3 bg-gray-800 rounded cursor-pointer hover:bg-gray-750",children:[n.jsx("input",{type:"checkbox",checked:I.includes(k.id),onChange:()=>me(k.id),className:"w-5 h-5 mt-0.5 rounded border-gray-600 text-cyan-500 focus:ring-cyan-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:k.label}),n.jsx("div",{className:"text-sm text-gray-400",children:k.description})]})]},k.id))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Map Visibility"}),n.jsx("div",{className:"space-y-2",children:Xf.map(k=>n.jsxs("label",{className:`flex items-start gap-3 p-3 rounded cursor-pointer ${E===k.value?"bg-cyan-900/30 border border-cyan-500":"bg-gray-800 hover:bg-gray-750"}`,children:[n.jsx("input",{type:"radio",name:"bulkMapVisibility",value:k.value,checked:E===k.value,onChange:X=>D(X.target.value),className:"w-5 h-5 mt-0.5 text-cyan-500 focus:ring-cyan-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:k.label}),n.jsx("div",{className:"text-sm text-gray-400",children:k.description})]})]},k.value))})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-700 flex justify-end gap-2",children:[n.jsx(te,{onClick:oe,variant:"secondary",disabled:h,children:"Cancel"}),n.jsx(te,{onClick:K,variant:"primary",disabled:h,children:h?"Applying...":`Apply to ${b.size} Systems`})]})]})})]})}function RN({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const PN=x.forwardRef(RN);function ON({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const TN=x.forwardRef(ON);function AN({title:r,titleId:s,...i},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":s},i),r?x.createElement("title",{id:s},r):null,x.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const MN=x.forwardRef(AN);function DN({open:r,onClose:s}){const[i,o]=x.useState(""),[l,u]=x.useState(""),[m,h]=x.useState(""),[f,g]=x.useState(!1),y=x.useContext(ft);if(!r)return null;async function b(C){C?.preventDefault(),h(""),g(!0);try{await y.login(i,l),o(""),u(""),s()}catch(v){h(v.message||"Login failed")}finally{g(!1)}}function S(C){C.key==="Enter"&&b()}return n.jsx(Qe,{title:"Login",onClose:s,children:n.jsx("form",{onSubmit:b,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),n.jsx("input",{value:i,onChange:C=>o(C.target.value),onKeyDown:S,type:"text",className:"w-full p-2 border rounded bg-gray-700 text-white placeholder-gray-400",placeholder:"Enter username",autoFocus:!0,disabled:f})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),n.jsx("input",{value:l,onChange:C=>u(C.target.value),onKeyDown:S,type:"password",className:"w-full p-2 border rounded bg-gray-700 text-white placeholder-gray-400",placeholder:"Enter password",disabled:f})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{type:"submit",className:"btn flex-1",disabled:f||!i.trim()||!l,children:f?"Logging in...":"Login"}),n.jsx("button",{type:"button",className:"btn",onClick:s,disabled:f,children:"Cancel"})]}),m&&n.jsx("div",{className:"text-red-500 mt-2 text-sm",children:m})]})})})}function IN(){const r=x.useContext(ft),[s,i]=x.useState(!1),[o,l]=x.useState(!1),[u,m]=x.useState(0),h=x.useRef(null),{isDisconnected:f,registerConnection:g,unregisterConnection:y}=el(),{isAdmin:b,isSuperAdmin:S,isPartner:C,isSubAdmin:v,user:_,canAccess:j}=r;x.useEffect(()=>{if(!b){m(0);return}if(f)return;const P=async()=>{try{const F=await ce.get("/api/pending_systems/count");m(F.data.count||0)}catch{}},I=()=>{h.current=setInterval(P,6e4)};return P(),I(),g("navbar-pending-polling",{cleanup:()=>{h.current&&(clearInterval(h.current),h.current=null)},restore:()=>{P(),I()}}),()=>{y("navbar-pending-polling"),h.current&&clearInterval(h.current)}},[b,f,g,y]);const O=()=>l(!1);return n.jsxs("header",{className:"p-4 shadow",style:{background:"linear-gradient(90deg, var(--app-card), rgba(255,255,255,0.02))"},children:[n.jsxs("div",{className:"container mx-auto",role:"navigation","aria-label":"Main navigation",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{style:{background:"linear-gradient(135deg, var(--app-primary), var(--app-accent-2))"},className:"p-2 rounded-lg",children:n.jsx(TN,{className:"w-7 h-7 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-semibold",style:{color:"var(--app-text)"},children:"Haven Control Room"}),n.jsx("div",{className:"text-sm muted",style:{color:"var(--app-accent-3)"},children:b?n.jsxs("span",{children:[_?.displayName||_?.username,C&&_?.discordTag&&n.jsxs("span",{className:"ml-1 text-cyan-400",children:["(",_.discordTag,")"]}),S&&n.jsx("span",{className:"ml-1 text-yellow-400",children:"(Super Admin)"}),v&&n.jsx("span",{className:"ml-1 text-amber-400",children:"(Sub-Admin)"})]}):"Web"})]})]}),n.jsxs("nav",{className:"hidden lg:flex space-x-2","aria-label":"Primary",children:[n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/",children:"Dashboard"}),n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/systems",children:"Systems"}),n.jsx("a",{className:"px-3 py-1 hover:underline",href:"/map/latest",children:"Map"}),n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/create",children:"Create"}),S&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/rtai",children:"RT-AI"}),j(xn.SETTINGS)&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/settings",children:"Settings"}),n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/discoveries",children:"Discoveries"}),S&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/tests",children:"Tests"}),n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/db_stats",children:"DB Stats"}),j(xn.APPROVALS)&&n.jsxs(Oe,{className:"px-3 py-1 hover:underline relative",to:"/pending-approvals",children:["Approvals",u>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:u>9?"9+":u})]}),S&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/api-keys",children:"API Keys"}),S&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/admin/partners",children:"Partners"}),S&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/admin/audit",children:"Audit Log"}),(S||C)&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/admin/sub-admins",children:"Sub-Admins"}),j(xn.CSV_IMPORT)&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/csv-import",children:"CSV Import"}),b&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/data-restrictions",children:"Restrictions"}),b?n.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded",onClick:()=>r.logout(),children:"Logout"}):n.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded",onClick:()=>i(!0),children:"Login"})]}),n.jsx("button",{className:"lg:hidden p-2 text-white",onClick:()=>l(!o),"aria-label":"Toggle menu",children:o?n.jsx(MN,{className:"w-6 h-6"}):n.jsx(PN,{className:"w-6 h-6"})})]}),o&&n.jsxs("nav",{className:"lg:hidden mt-4 flex flex-col space-y-2 pb-4","aria-label":"Mobile",children:[n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/",onClick:O,children:"Dashboard"}),n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/systems",onClick:O,children:"Systems"}),n.jsx("a",{className:"px-3 py-2 hover:bg-gray-700 rounded",href:"/map/latest",onClick:O,children:"Map"}),n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/create",onClick:O,children:"Create"}),S&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/rtai",onClick:O,children:"RT-AI"}),j(xn.SETTINGS)&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/settings",onClick:O,children:"Settings"}),n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/discoveries",onClick:O,children:"Discoveries"}),S&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/tests",onClick:O,children:"Tests"}),n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/db_stats",onClick:O,children:"DB Stats"}),j(xn.APPROVALS)&&n.jsxs(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded flex justify-between items-center",to:"/pending-approvals",onClick:O,children:[n.jsx("span",{children:"Approvals"}),u>0&&n.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:u>9?"9+":u})]}),S&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/api-keys",onClick:O,children:"API Keys"}),S&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/admin/partners",onClick:O,children:"Partners"}),S&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/admin/audit",onClick:O,children:"Audit Log"}),(S||C)&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/admin/sub-admins",onClick:O,children:"Sub-Admins"}),j(xn.CSV_IMPORT)&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/csv-import",onClick:O,children:"CSV Import"}),b&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/data-restrictions",onClick:O,children:"Data Restrictions"}),n.jsxs("div",{className:"pt-2 border-t border-gray-700",children:[b&&n.jsxs("div",{className:"px-3 py-2 text-sm text-gray-400 mb-2",children:["Logged in as: ",_?.displayName||_?.username,C&&_?.discordTag&&n.jsxs("span",{className:"text-cyan-400",children:[" (",_.discordTag,")"]}),v&&n.jsx("span",{className:"text-amber-400",children:" (Sub-Admin)"})]}),b?n.jsx("button",{className:"w-full px-3 py-2 bg-red-500 text-white rounded",onClick:()=>{r.logout(),O()},children:"Logout"}):n.jsx("button",{className:"w-full px-3 py-2 bg-blue-500 text-white rounded",onClick:()=>{i(!0),O()},children:"Login"})]})]})]}),n.jsx(DN,{open:s,onClose:()=>i(!1)})]})}function FN(){const{isDisconnected:r,reconnect:s}=el();return r?n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"p-8 rounded-xl shadow-2xl max-w-md w-full text-center",style:{backgroundColor:"var(--app-card)"},children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{background:"rgba(240, 173, 78, 0.2)"},children:n.jsx("span",{className:"text-3xl",children:""})}),n.jsx("h2",{className:"text-xl font-semibold mb-2",style:{color:"var(--app-text)"},children:"Session Paused"}),n.jsx("p",{className:"mb-6",style:{color:"var(--muted)"},children:"Your session was paused due to inactivity to save resources. Click below to resume all live connections."}),n.jsx("button",{onClick:s,className:"w-full py-3 px-6 rounded-lg font-semibold text-white transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, var(--app-primary) 0%, #00a89a 100%)",boxShadow:"0 4px 20px rgba(0, 194, 179, 0.4)"},children:"Reconnect"})]})}):null}function Zf({children:r}){const s=x.useContext(ft);return s.loading?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading..."})}):s.isAdmin?r:n.jsx($i,{to:"/",replace:!0})}function ss({children:r}){const s=x.useContext(ft);return s.loading?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading..."})}):s.isSuperAdmin?r:n.jsx($i,{to:"/",replace:!0})}function mc({feature:r,children:s}){const i=x.useContext(ft);return i.loading?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading..."})}):i.isAdmin?i.canAccess(r)?s:n.jsx($i,{to:"/",replace:!0}):n.jsx($i,{to:"/",replace:!0})}function LN(){return x.useEffect(()=>{fetch("/api/settings").then(r=>r.json()).then(r=>{if(!r)return;const s=r.theme||{};s.bg&&document.documentElement.style.setProperty("--app-bg",s.bg),s.text&&document.documentElement.style.setProperty("--app-text",s.text),s.card&&document.documentElement.style.setProperty("--app-card",s.card),s.primary&&document.documentElement.style.setProperty("--app-primary",s.primary)}).catch(()=>{})},[]),n.jsx(By,{children:n.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--app-bg, #f8fafc)",color:"var(--app-text, #111827)"},children:[n.jsx(IN,{}),n.jsx("main",{className:"container mx-auto p-6",children:n.jsxs(ry,{children:[n.jsx(rt,{path:"/",element:n.jsx($y,{})}),n.jsx(rt,{path:"/systems",element:n.jsx(Uy,{})}),n.jsx(rt,{path:"/systems/:id",element:n.jsx(Wy,{})}),n.jsx(rt,{path:"/regions/:rx/:ry/:rz",element:n.jsx(tb,{})}),n.jsx(rt,{path:"/create",element:n.jsx(qf,{})}),n.jsx(rt,{path:"/wizard",element:n.jsx(qf,{})}),n.jsx(rt,{path:"/discoveries",element:n.jsx(yN,{})}),n.jsx(rt,{path:"/db_stats",element:n.jsx(wN,{})}),n.jsx(rt,{path:"/rtai",element:n.jsx(ss,{children:n.jsx(pN,{})})}),n.jsx(rt,{path:"/api-keys",element:n.jsx(ss,{children:n.jsx(SN,{})})}),n.jsx(rt,{path:"/tests",element:n.jsx(ss,{children:n.jsx(jN,{})})}),n.jsx(rt,{path:"/admin/partners",element:n.jsx(ss,{children:n.jsx(CN,{})})}),n.jsx(rt,{path:"/admin/partners/:partnerId/sub-admins",element:n.jsx(ss,{children:n.jsx(Yf,{})})}),n.jsx(rt,{path:"/admin/audit",element:n.jsx(ss,{children:n.jsx(_N,{})})}),n.jsx(rt,{path:"/admin/sub-admins",element:n.jsx(Zf,{children:n.jsx(Yf,{})})}),n.jsx(rt,{path:"/settings",element:n.jsx(mc,{feature:xn.SETTINGS,children:n.jsx(hN,{})})}),n.jsx(rt,{path:"/pending-approvals",element:n.jsx(mc,{feature:xn.APPROVALS,children:n.jsx(NN,{})})}),n.jsx(rt,{path:"/csv-import",element:n.jsx(mc,{feature:xn.CSV_IMPORT,children:n.jsx(kN,{})})}),n.jsx(rt,{path:"/data-restrictions",element:n.jsx(Zf,{children:n.jsx(EN,{})})})]})}),n.jsx(FN,{})]})})}const $N=x.createContext(null);function as(r,s){try{document.documentElement.style.setProperty(r,s)}catch{}}function BN({children:r}){return x.useEffect(()=>{fetch("/api/settings").then(s=>s.json()).then(s=>{const i=s&&s.theme||s||{},o=i.colors||i||{},l=o.bg_dark||o.bg||i.bg||i.background,u=o.bg_card||o.card||i.card,m=o.accent_cyan||o.accent||i.primary||i.accent_cyan,h=o.text_primary||o.text||i.text,f=o.glow||i.glow;l&&as("--app-bg",l),h&&as("--app-text",h),u&&as("--app-card",u),m&&as("--app-primary",m),f&&as("--app-glow",f);const g=o&&Object.keys(o).length?o:i;Object.entries(g).forEach(([y,b])=>{if(!b)return;const S=`--app-${y.replace(/_/g,"-")}`;as(S,b)})}).catch(()=>{})},[]),n.jsx($N.Provider,{value:null,children:r})}uv.createRoot(document.getElementById("root")).render(n.jsx(Jf.StrictMode,{children:n.jsx(uy,{basename:"/haven-ui",children:n.jsx(BN,{children:n.jsx(gy,{timeout:36e5,children:n.jsx(LN,{})})})})}));ce.defaults.withCredentials=!0;
