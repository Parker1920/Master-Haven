function jp(l,a){for(var i=0;i<a.length;i++){const c=a[i];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in l)){const f=Object.getOwnPropertyDescriptor(c,d);f&&Object.defineProperty(l,d,f.get?f:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();function wp(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Ri={exports:{}},os={},Pi={exports:{}},ke={};var Xu;function Np(){if(Xu)return ke;Xu=1;var l=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),_=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,P={};function j(k,U,ge){this.props=k,this.context=U,this.refs=P,this.updater=ge||b}j.prototype.isReactComponent={},j.prototype.setState=function(k,U){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,U,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function I(){}I.prototype=j.prototype;function K(k,U,ge){this.props=k,this.context=U,this.refs=P,this.updater=ge||b}var Q=K.prototype=new I;Q.constructor=K,h(Q,j.prototype),Q.isPureReactComponent=!0;var B=Array.isArray,Z=Object.prototype.hasOwnProperty,le={current:null},fe={key:!0,ref:!0,__self:!0,__source:!0};function we(k,U,ge){var xe,Ne={},$=null,be=null;if(U!=null)for(xe in U.ref!==void 0&&(be=U.ref),U.key!==void 0&&($=""+U.key),U)Z.call(U,xe)&&!fe.hasOwnProperty(xe)&&(Ne[xe]=U[xe]);var Ce=arguments.length-2;if(Ce===1)Ne.children=ge;else if(1<Ce){for(var Re=Array(Ce),S=0;S<Ce;S++)Re[S]=arguments[S+2];Ne.children=Re}if(k&&k.defaultProps)for(xe in Ce=k.defaultProps,Ce)Ne[xe]===void 0&&(Ne[xe]=Ce[xe]);return{$$typeof:l,type:k,key:$,ref:be,props:Ne,_owner:le.current}}function re(k,U){return{$$typeof:l,type:k.type,key:U,ref:k.ref,props:k.props,_owner:k._owner}}function me(k){return typeof k=="object"&&k!==null&&k.$$typeof===l}function ee(k){var U={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ge){return U[ge]})}var A=/\/+/g;function te(k,U){return typeof k=="object"&&k!==null&&k.key!=null?ee(""+k.key):U.toString(36)}function ne(k,U,ge,xe,Ne){var $=typeof k;($==="undefined"||$==="boolean")&&(k=null);var be=!1;if(k===null)be=!0;else switch($){case"string":case"number":be=!0;break;case"object":switch(k.$$typeof){case l:case a:be=!0}}if(be)return be=k,Ne=Ne(be),k=xe===""?"."+te(be,0):xe,B(Ne)?(ge="",k!=null&&(ge=k.replace(A,"$&/")+"/"),ne(Ne,U,ge,"",function(S){return S})):Ne!=null&&(me(Ne)&&(Ne=re(Ne,ge+(!Ne.key||be&&be.key===Ne.key?"":(""+Ne.key).replace(A,"$&/")+"/")+k)),U.push(Ne)),1;if(be=0,xe=xe===""?".":xe+":",B(k))for(var Ce=0;Ce<k.length;Ce++){$=k[Ce];var Re=xe+te($,Ce);be+=ne($,U,ge,Re,Ne)}else if(Re=E(k),typeof Re=="function")for(k=Re.call(k),Ce=0;!($=k.next()).done;)$=$.value,Re=xe+te($,Ce++),be+=ne($,U,ge,Re,Ne);else if($==="object")throw U=String(k),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return be}function Ee(k,U,ge){if(k==null)return k;var xe=[],Ne=0;return ne(k,xe,"","",function($){return U.call(ge,$,Ne++)}),xe}function H(k){if(k._status===-1){var U=k._result;U=U(),U.then(function(ge){(k._status===0||k._status===-1)&&(k._status=1,k._result=ge)},function(ge){(k._status===0||k._status===-1)&&(k._status=2,k._result=ge)}),k._status===-1&&(k._status=0,k._result=U)}if(k._status===1)return k._result.default;throw k._result}var ae={current:null},W={transition:null},D={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:W,ReactCurrentOwner:le};function z(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Ee,forEach:function(k,U,ge){Ee(k,function(){U.apply(this,arguments)},ge)},count:function(k){var U=0;return Ee(k,function(){U++}),U},toArray:function(k){return Ee(k,function(U){return U})||[]},only:function(k){if(!me(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ke.Component=j,ke.Fragment=i,ke.Profiler=d,ke.PureComponent=K,ke.StrictMode=c,ke.Suspense=g,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,ke.act=z,ke.cloneElement=function(k,U,ge){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var xe=h({},k.props),Ne=k.key,$=k.ref,be=k._owner;if(U!=null){if(U.ref!==void 0&&($=U.ref,be=le.current),U.key!==void 0&&(Ne=""+U.key),k.type&&k.type.defaultProps)var Ce=k.type.defaultProps;for(Re in U)Z.call(U,Re)&&!fe.hasOwnProperty(Re)&&(xe[Re]=U[Re]===void 0&&Ce!==void 0?Ce[Re]:U[Re])}var Re=arguments.length-2;if(Re===1)xe.children=ge;else if(1<Re){Ce=Array(Re);for(var S=0;S<Re;S++)Ce[S]=arguments[S+2];xe.children=Ce}return{$$typeof:l,type:k.type,key:Ne,ref:$,props:xe,_owner:be}},ke.createContext=function(k){return k={$$typeof:m,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:f,_context:k},k.Consumer=k},ke.createElement=we,ke.createFactory=function(k){var U=we.bind(null,k);return U.type=k,U},ke.createRef=function(){return{current:null}},ke.forwardRef=function(k){return{$$typeof:y,render:k}},ke.isValidElement=me,ke.lazy=function(k){return{$$typeof:N,_payload:{_status:-1,_result:k},_init:H}},ke.memo=function(k,U){return{$$typeof:v,type:k,compare:U===void 0?null:U}},ke.startTransition=function(k){var U=W.transition;W.transition={};try{k()}finally{W.transition=U}},ke.unstable_act=z,ke.useCallback=function(k,U){return ae.current.useCallback(k,U)},ke.useContext=function(k){return ae.current.useContext(k)},ke.useDebugValue=function(){},ke.useDeferredValue=function(k){return ae.current.useDeferredValue(k)},ke.useEffect=function(k,U){return ae.current.useEffect(k,U)},ke.useId=function(){return ae.current.useId()},ke.useImperativeHandle=function(k,U,ge){return ae.current.useImperativeHandle(k,U,ge)},ke.useInsertionEffect=function(k,U){return ae.current.useInsertionEffect(k,U)},ke.useLayoutEffect=function(k,U){return ae.current.useLayoutEffect(k,U)},ke.useMemo=function(k,U){return ae.current.useMemo(k,U)},ke.useReducer=function(k,U,ge){return ae.current.useReducer(k,U,ge)},ke.useRef=function(k){return ae.current.useRef(k)},ke.useState=function(k){return ae.current.useState(k)},ke.useSyncExternalStore=function(k,U,ge){return ae.current.useSyncExternalStore(k,U,ge)},ke.useTransition=function(){return ae.current.useTransition()},ke.version="18.3.1",ke}var Ju;function Ji(){return Ju||(Ju=1,Pi.exports=Np()),Pi.exports}var Zu;function bp(){if(Zu)return os;Zu=1;var l=Ji(),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function m(y,g,v){var N,_={},E=null,b=null;v!==void 0&&(E=""+v),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(b=g.ref);for(N in g)c.call(g,N)&&!f.hasOwnProperty(N)&&(_[N]=g[N]);if(y&&y.defaultProps)for(N in g=y.defaultProps,g)_[N]===void 0&&(_[N]=g[N]);return{$$typeof:a,type:y,key:E,ref:b,props:_,_owner:d.current}}return os.Fragment=i,os.jsx=m,os.jsxs=m,os}var ed;function Sp(){return ed||(ed=1,Ri.exports=bp()),Ri.exports}var n=Sp(),x=Ji();const zd=wp(x),_p=jp({__proto__:null,default:zd},[x]);function Ud(l,a){return function(){return l.apply(a,arguments)}}const{toString:Cp}=Object.prototype,{getPrototypeOf:Zi}=Object,{iterator:Al,toStringTag:$d}=Symbol,Ll=(l=>a=>{const i=Cp.call(a);return l[i]||(l[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),$t=l=>(l=l.toLowerCase(),a=>Ll(a)===l),Dl=l=>a=>typeof a===l,{isArray:vr}=Array,yr=Dl("undefined");function fs(l){return l!==null&&!yr(l)&&l.constructor!==null&&!yr(l.constructor)&&vt(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const Bd=$t("ArrayBuffer");function kp(l){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(l):a=l&&l.buffer&&Bd(l.buffer),a}const Ep=Dl("string"),vt=Dl("function"),Hd=Dl("number"),ms=l=>l!==null&&typeof l=="object",Rp=l=>l===!0||l===!1,El=l=>{if(Ll(l)!=="object")return!1;const a=Zi(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!($d in l)&&!(Al in l)},Pp=l=>{if(!ms(l)||fs(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},Tp=$t("Date"),Op=$t("File"),Ap=$t("Blob"),Lp=$t("FileList"),Dp=l=>ms(l)&&vt(l.pipe),Fp=l=>{let a;return l&&(typeof FormData=="function"&&l instanceof FormData||vt(l.append)&&((a=Ll(l))==="formdata"||a==="object"&&vt(l.toString)&&l.toString()==="[object FormData]"))},Mp=$t("URLSearchParams"),[Ip,zp,Up,$p]=["ReadableStream","Request","Response","Headers"].map($t),Bp=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ps(l,a,{allOwnKeys:i=!1}={}){if(l===null||typeof l>"u")return;let c,d;if(typeof l!="object"&&(l=[l]),vr(l))for(c=0,d=l.length;c<d;c++)a.call(null,l[c],c,l);else{if(fs(l))return;const f=i?Object.getOwnPropertyNames(l):Object.keys(l),m=f.length;let y;for(c=0;c<m;c++)y=f[c],a.call(null,l[y],y,l)}}function Vd(l,a){if(fs(l))return null;a=a.toLowerCase();const i=Object.keys(l);let c=i.length,d;for(;c-- >0;)if(d=i[c],a===d.toLowerCase())return d;return null}const Hn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wd=l=>!yr(l)&&l!==Hn;function Hi(){const{caseless:l,skipUndefined:a}=Wd(this)&&this||{},i={},c=(d,f)=>{const m=l&&Vd(i,f)||f;El(i[m])&&El(d)?i[m]=Hi(i[m],d):El(d)?i[m]=Hi({},d):vr(d)?i[m]=d.slice():(!a||!yr(d))&&(i[m]=d)};for(let d=0,f=arguments.length;d<f;d++)arguments[d]&&ps(arguments[d],c);return i}const Hp=(l,a,i,{allOwnKeys:c}={})=>(ps(a,(d,f)=>{i&&vt(d)?l[f]=Ud(d,i):l[f]=d},{allOwnKeys:c}),l),Vp=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),Wp=(l,a,i,c)=>{l.prototype=Object.create(a.prototype,c),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:a.prototype}),i&&Object.assign(l.prototype,i)},Kp=(l,a,i,c)=>{let d,f,m;const y={};if(a=a||{},l==null)return a;do{for(d=Object.getOwnPropertyNames(l),f=d.length;f-- >0;)m=d[f],(!c||c(m,l,a))&&!y[m]&&(a[m]=l[m],y[m]=!0);l=i!==!1&&Zi(l)}while(l&&(!i||i(l,a))&&l!==Object.prototype);return a},qp=(l,a,i)=>{l=String(l),(i===void 0||i>l.length)&&(i=l.length),i-=a.length;const c=l.indexOf(a,i);return c!==-1&&c===i},Gp=l=>{if(!l)return null;if(vr(l))return l;let a=l.length;if(!Hd(a))return null;const i=new Array(a);for(;a-- >0;)i[a]=l[a];return i},Qp=(l=>a=>l&&a instanceof l)(typeof Uint8Array<"u"&&Zi(Uint8Array)),Yp=(l,a)=>{const c=(l&&l[Al]).call(l);let d;for(;(d=c.next())&&!d.done;){const f=d.value;a.call(l,f[0],f[1])}},Xp=(l,a)=>{let i;const c=[];for(;(i=l.exec(a))!==null;)c.push(i);return c},Jp=$t("HTMLFormElement"),Zp=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,c,d){return c.toUpperCase()+d}),td=(({hasOwnProperty:l})=>(a,i)=>l.call(a,i))(Object.prototype),eh=$t("RegExp"),Kd=(l,a)=>{const i=Object.getOwnPropertyDescriptors(l),c={};ps(i,(d,f)=>{let m;(m=a(d,f,l))!==!1&&(c[f]=m||d)}),Object.defineProperties(l,c)},th=l=>{Kd(l,(a,i)=>{if(vt(l)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const c=l[i];if(vt(c)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},nh=(l,a)=>{const i={},c=d=>{d.forEach(f=>{i[f]=!0})};return vr(l)?c(l):c(String(l).split(a)),i},rh=()=>{},sh=(l,a)=>l!=null&&Number.isFinite(l=+l)?l:a;function lh(l){return!!(l&&vt(l.append)&&l[$d]==="FormData"&&l[Al])}const ah=l=>{const a=new Array(10),i=(c,d)=>{if(ms(c)){if(a.indexOf(c)>=0)return;if(fs(c))return c;if(!("toJSON"in c)){a[d]=c;const f=vr(c)?[]:{};return ps(c,(m,y)=>{const g=i(m,d+1);!yr(g)&&(f[y]=g)}),a[d]=void 0,f}}return c};return i(l,0)},ih=$t("AsyncFunction"),oh=l=>l&&(ms(l)||vt(l))&&vt(l.then)&&vt(l.catch),qd=((l,a)=>l?setImmediate:a?((i,c)=>(Hn.addEventListener("message",({source:d,data:f})=>{d===Hn&&f===i&&c.length&&c.shift()()},!1),d=>{c.push(d),Hn.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",vt(Hn.postMessage)),ch=typeof queueMicrotask<"u"?queueMicrotask.bind(Hn):typeof process<"u"&&process.nextTick||qd,uh=l=>l!=null&&vt(l[Al]),M={isArray:vr,isArrayBuffer:Bd,isBuffer:fs,isFormData:Fp,isArrayBufferView:kp,isString:Ep,isNumber:Hd,isBoolean:Rp,isObject:ms,isPlainObject:El,isEmptyObject:Pp,isReadableStream:Ip,isRequest:zp,isResponse:Up,isHeaders:$p,isUndefined:yr,isDate:Tp,isFile:Op,isBlob:Ap,isRegExp:eh,isFunction:vt,isStream:Dp,isURLSearchParams:Mp,isTypedArray:Qp,isFileList:Lp,forEach:ps,merge:Hi,extend:Hp,trim:Bp,stripBOM:Vp,inherits:Wp,toFlatObject:Kp,kindOf:Ll,kindOfTest:$t,endsWith:qp,toArray:Gp,forEachEntry:Yp,matchAll:Xp,isHTMLForm:Jp,hasOwnProperty:td,hasOwnProp:td,reduceDescriptors:Kd,freezeMethods:th,toObjectSet:nh,toCamelCase:Zp,noop:rh,toFiniteNumber:sh,findKey:Vd,global:Hn,isContextDefined:Wd,isSpecCompliantForm:lh,toJSONObject:ah,isAsyncFn:ih,isThenable:oh,setImmediate:qd,asap:ch,isIterable:uh};function _e(l,a,i,c,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",a&&(this.code=a),i&&(this.config=i),c&&(this.request=c),d&&(this.response=d,this.status=d.status?d.status:null)}M.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const Gd=_e.prototype,Qd={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{Qd[l]={value:l}});Object.defineProperties(_e,Qd);Object.defineProperty(Gd,"isAxiosError",{value:!0});_e.from=(l,a,i,c,d,f)=>{const m=Object.create(Gd);M.toFlatObject(l,m,function(N){return N!==Error.prototype},v=>v!=="isAxiosError");const y=l&&l.message?l.message:"Error",g=a==null&&l?l.code:a;return _e.call(m,y,g,i,c,d),l&&m.cause==null&&Object.defineProperty(m,"cause",{value:l,configurable:!0}),m.name=l&&l.name||"Error",f&&Object.assign(m,f),m};const dh=null;function Vi(l){return M.isPlainObject(l)||M.isArray(l)}function Yd(l){return M.endsWith(l,"[]")?l.slice(0,-2):l}function nd(l,a,i){return l?l.concat(a).map(function(d,f){return d=Yd(d),!i&&f?"["+d+"]":d}).join(i?".":""):a}function fh(l){return M.isArray(l)&&!l.some(Vi)}const mh=M.toFlatObject(M,{},null,function(a){return/^is[A-Z]/.test(a)});function Fl(l,a,i){if(!M.isObject(l))throw new TypeError("target must be an object");a=a||new FormData,i=M.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,j){return!M.isUndefined(j[P])});const c=i.metaTokens,d=i.visitor||N,f=i.dots,m=i.indexes,g=(i.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(a);if(!M.isFunction(d))throw new TypeError("visitor must be a function");function v(h){if(h===null)return"";if(M.isDate(h))return h.toISOString();if(M.isBoolean(h))return h.toString();if(!g&&M.isBlob(h))throw new _e("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(h)||M.isTypedArray(h)?g&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function N(h,P,j){let I=h;if(h&&!j&&typeof h=="object"){if(M.endsWith(P,"{}"))P=c?P:P.slice(0,-2),h=JSON.stringify(h);else if(M.isArray(h)&&fh(h)||(M.isFileList(h)||M.endsWith(P,"[]"))&&(I=M.toArray(h)))return P=Yd(P),I.forEach(function(Q,B){!(M.isUndefined(Q)||Q===null)&&a.append(m===!0?nd([P],B,f):m===null?P:P+"[]",v(Q))}),!1}return Vi(h)?!0:(a.append(nd(j,P,f),v(h)),!1)}const _=[],E=Object.assign(mh,{defaultVisitor:N,convertValue:v,isVisitable:Vi});function b(h,P){if(!M.isUndefined(h)){if(_.indexOf(h)!==-1)throw Error("Circular reference detected in "+P.join("."));_.push(h),M.forEach(h,function(I,K){(!(M.isUndefined(I)||I===null)&&d.call(a,I,M.isString(K)?K.trim():K,P,E))===!0&&b(I,P?P.concat(K):[K])}),_.pop()}}if(!M.isObject(l))throw new TypeError("data must be an object");return b(l),a}function rd(l){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(c){return a[c]})}function eo(l,a){this._pairs=[],l&&Fl(l,this,a)}const Xd=eo.prototype;Xd.append=function(a,i){this._pairs.push([a,i])};Xd.toString=function(a){const i=a?function(c){return a.call(this,c,rd)}:rd;return this._pairs.map(function(d){return i(d[0])+"="+i(d[1])},"").join("&")};function ph(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Jd(l,a,i){if(!a)return l;const c=i&&i.encode||ph;M.isFunction(i)&&(i={serialize:i});const d=i&&i.serialize;let f;if(d?f=d(a,i):f=M.isURLSearchParams(a)?a.toString():new eo(a,i).toString(c),f){const m=l.indexOf("#");m!==-1&&(l=l.slice(0,m)),l+=(l.indexOf("?")===-1?"?":"&")+f}return l}class sd{constructor(){this.handlers=[]}use(a,i,c){return this.handlers.push({fulfilled:a,rejected:i,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){M.forEach(this.handlers,function(c){c!==null&&a(c)})}}const Zd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hh=typeof URLSearchParams<"u"?URLSearchParams:eo,xh=typeof FormData<"u"?FormData:null,gh=typeof Blob<"u"?Blob:null,yh={isBrowser:!0,classes:{URLSearchParams:hh,FormData:xh,Blob:gh},protocols:["http","https","file","blob","url","data"]},to=typeof window<"u"&&typeof document<"u",Wi=typeof navigator=="object"&&navigator||void 0,vh=to&&(!Wi||["ReactNative","NativeScript","NS"].indexOf(Wi.product)<0),jh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wh=to&&window.location.href||"http://localhost",Nh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:to,hasStandardBrowserEnv:vh,hasStandardBrowserWebWorkerEnv:jh,navigator:Wi,origin:wh},Symbol.toStringTag,{value:"Module"})),ct={...Nh,...yh};function bh(l,a){return Fl(l,new ct.classes.URLSearchParams,{visitor:function(i,c,d,f){return ct.isNode&&M.isBuffer(i)?(this.append(c,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...a})}function Sh(l){return M.matchAll(/\w+|\[(\w*)]/g,l).map(a=>a[0]==="[]"?"":a[1]||a[0])}function _h(l){const a={},i=Object.keys(l);let c;const d=i.length;let f;for(c=0;c<d;c++)f=i[c],a[f]=l[f];return a}function ef(l){function a(i,c,d,f){let m=i[f++];if(m==="__proto__")return!0;const y=Number.isFinite(+m),g=f>=i.length;return m=!m&&M.isArray(d)?d.length:m,g?(M.hasOwnProp(d,m)?d[m]=[d[m],c]:d[m]=c,!y):((!d[m]||!M.isObject(d[m]))&&(d[m]=[]),a(i,c,d[m],f)&&M.isArray(d[m])&&(d[m]=_h(d[m])),!y)}if(M.isFormData(l)&&M.isFunction(l.entries)){const i={};return M.forEachEntry(l,(c,d)=>{a(Sh(c),d,i,0)}),i}return null}function Ch(l,a,i){if(M.isString(l))try{return(a||JSON.parse)(l),M.trim(l)}catch(c){if(c.name!=="SyntaxError")throw c}return(i||JSON.stringify)(l)}const hs={transitional:Zd,adapter:["xhr","http","fetch"],transformRequest:[function(a,i){const c=i.getContentType()||"",d=c.indexOf("application/json")>-1,f=M.isObject(a);if(f&&M.isHTMLForm(a)&&(a=new FormData(a)),M.isFormData(a))return d?JSON.stringify(ef(a)):a;if(M.isArrayBuffer(a)||M.isBuffer(a)||M.isStream(a)||M.isFile(a)||M.isBlob(a)||M.isReadableStream(a))return a;if(M.isArrayBufferView(a))return a.buffer;if(M.isURLSearchParams(a))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let y;if(f){if(c.indexOf("application/x-www-form-urlencoded")>-1)return bh(a,this.formSerializer).toString();if((y=M.isFileList(a))||c.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Fl(y?{"files[]":a}:a,g&&new g,this.formSerializer)}}return f||d?(i.setContentType("application/json",!1),Ch(a)):a}],transformResponse:[function(a){const i=this.transitional||hs.transitional,c=i&&i.forcedJSONParsing,d=this.responseType==="json";if(M.isResponse(a)||M.isReadableStream(a))return a;if(a&&M.isString(a)&&(c&&!this.responseType||d)){const m=!(i&&i.silentJSONParsing)&&d;try{return JSON.parse(a,this.parseReviver)}catch(y){if(m)throw y.name==="SyntaxError"?_e.from(y,_e.ERR_BAD_RESPONSE,this,null,this.response):y}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ct.classes.FormData,Blob:ct.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],l=>{hs.headers[l]={}});const kh=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Eh=l=>{const a={};let i,c,d;return l&&l.split(`
`).forEach(function(m){d=m.indexOf(":"),i=m.substring(0,d).trim().toLowerCase(),c=m.substring(d+1).trim(),!(!i||a[i]&&kh[i])&&(i==="set-cookie"?a[i]?a[i].push(c):a[i]=[c]:a[i]=a[i]?a[i]+", "+c:c)}),a},ld=Symbol("internals");function cs(l){return l&&String(l).trim().toLowerCase()}function Rl(l){return l===!1||l==null?l:M.isArray(l)?l.map(Rl):String(l)}function Rh(l){const a=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=i.exec(l);)a[c[1]]=c[2];return a}const Ph=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function Ti(l,a,i,c,d){if(M.isFunction(c))return c.call(this,a,i);if(d&&(a=i),!!M.isString(a)){if(M.isString(c))return a.indexOf(c)!==-1;if(M.isRegExp(c))return c.test(a)}}function Th(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,i,c)=>i.toUpperCase()+c)}function Oh(l,a){const i=M.toCamelCase(" "+a);["get","set","has"].forEach(c=>{Object.defineProperty(l,c+i,{value:function(d,f,m){return this[c].call(this,a,d,f,m)},configurable:!0})})}let jt=class{constructor(a){a&&this.set(a)}set(a,i,c){const d=this;function f(y,g,v){const N=cs(g);if(!N)throw new Error("header name must be a non-empty string");const _=M.findKey(d,N);(!_||d[_]===void 0||v===!0||v===void 0&&d[_]!==!1)&&(d[_||g]=Rl(y))}const m=(y,g)=>M.forEach(y,(v,N)=>f(v,N,g));if(M.isPlainObject(a)||a instanceof this.constructor)m(a,i);else if(M.isString(a)&&(a=a.trim())&&!Ph(a))m(Eh(a),i);else if(M.isObject(a)&&M.isIterable(a)){let y={},g,v;for(const N of a){if(!M.isArray(N))throw TypeError("Object iterator must return a key-value pair");y[v=N[0]]=(g=y[v])?M.isArray(g)?[...g,N[1]]:[g,N[1]]:N[1]}m(y,i)}else a!=null&&f(i,a,c);return this}get(a,i){if(a=cs(a),a){const c=M.findKey(this,a);if(c){const d=this[c];if(!i)return d;if(i===!0)return Rh(d);if(M.isFunction(i))return i.call(this,d,c);if(M.isRegExp(i))return i.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,i){if(a=cs(a),a){const c=M.findKey(this,a);return!!(c&&this[c]!==void 0&&(!i||Ti(this,this[c],c,i)))}return!1}delete(a,i){const c=this;let d=!1;function f(m){if(m=cs(m),m){const y=M.findKey(c,m);y&&(!i||Ti(c,c[y],y,i))&&(delete c[y],d=!0)}}return M.isArray(a)?a.forEach(f):f(a),d}clear(a){const i=Object.keys(this);let c=i.length,d=!1;for(;c--;){const f=i[c];(!a||Ti(this,this[f],f,a,!0))&&(delete this[f],d=!0)}return d}normalize(a){const i=this,c={};return M.forEach(this,(d,f)=>{const m=M.findKey(c,f);if(m){i[m]=Rl(d),delete i[f];return}const y=a?Th(f):String(f).trim();y!==f&&delete i[f],i[y]=Rl(d),c[y]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const i=Object.create(null);return M.forEach(this,(c,d)=>{c!=null&&c!==!1&&(i[d]=a&&M.isArray(c)?c.join(", "):c)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,i])=>a+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...i){const c=new this(a);return i.forEach(d=>c.set(d)),c}static accessor(a){const c=(this[ld]=this[ld]={accessors:{}}).accessors,d=this.prototype;function f(m){const y=cs(m);c[y]||(Oh(d,m),c[y]=!0)}return M.isArray(a)?a.forEach(f):f(a),this}};jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(jt.prototype,({value:l},a)=>{let i=a[0].toUpperCase()+a.slice(1);return{get:()=>l,set(c){this[i]=c}}});M.freezeMethods(jt);function Oi(l,a){const i=this||hs,c=a||i,d=jt.from(c.headers);let f=c.data;return M.forEach(l,function(y){f=y.call(i,f,d.normalize(),a?a.status:void 0)}),d.normalize(),f}function tf(l){return!!(l&&l.__CANCEL__)}function jr(l,a,i){_e.call(this,l??"canceled",_e.ERR_CANCELED,a,i),this.name="CanceledError"}M.inherits(jr,_e,{__CANCEL__:!0});function nf(l,a,i){const c=i.config.validateStatus;!i.status||!c||c(i.status)?l(i):a(new _e("Request failed with status code "+i.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Ah(l){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return a&&a[1]||""}function Lh(l,a){l=l||10;const i=new Array(l),c=new Array(l);let d=0,f=0,m;return a=a!==void 0?a:1e3,function(g){const v=Date.now(),N=c[f];m||(m=v),i[d]=g,c[d]=v;let _=f,E=0;for(;_!==d;)E+=i[_++],_=_%l;if(d=(d+1)%l,d===f&&(f=(f+1)%l),v-m<a)return;const b=N&&v-N;return b?Math.round(E*1e3/b):void 0}}function Dh(l,a){let i=0,c=1e3/a,d,f;const m=(v,N=Date.now())=>{i=N,d=null,f&&(clearTimeout(f),f=null),l(...v)};return[(...v)=>{const N=Date.now(),_=N-i;_>=c?m(v,N):(d=v,f||(f=setTimeout(()=>{f=null,m(d)},c-_)))},()=>d&&m(d)]}const Tl=(l,a,i=3)=>{let c=0;const d=Lh(50,250);return Dh(f=>{const m=f.loaded,y=f.lengthComputable?f.total:void 0,g=m-c,v=d(g),N=m<=y;c=m;const _={loaded:m,total:y,progress:y?m/y:void 0,bytes:g,rate:v||void 0,estimated:v&&y&&N?(y-m)/v:void 0,event:f,lengthComputable:y!=null,[a?"download":"upload"]:!0};l(_)},i)},ad=(l,a)=>{const i=l!=null;return[c=>a[0]({lengthComputable:i,total:l,loaded:c}),a[1]]},id=l=>(...a)=>M.asap(()=>l(...a)),Fh=ct.hasStandardBrowserEnv?((l,a)=>i=>(i=new URL(i,ct.origin),l.protocol===i.protocol&&l.host===i.host&&(a||l.port===i.port)))(new URL(ct.origin),ct.navigator&&/(msie|trident)/i.test(ct.navigator.userAgent)):()=>!0,Mh=ct.hasStandardBrowserEnv?{write(l,a,i,c,d,f,m){if(typeof document>"u")return;const y=[`${l}=${encodeURIComponent(a)}`];M.isNumber(i)&&y.push(`expires=${new Date(i).toUTCString()}`),M.isString(c)&&y.push(`path=${c}`),M.isString(d)&&y.push(`domain=${d}`),f===!0&&y.push("secure"),M.isString(m)&&y.push(`SameSite=${m}`),document.cookie=y.join("; ")},read(l){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+l+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(l){this.write(l,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ih(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function zh(l,a){return a?l.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):l}function rf(l,a,i){let c=!Ih(a);return l&&(c||i==!1)?zh(l,a):a}const od=l=>l instanceof jt?{...l}:l;function Wn(l,a){a=a||{};const i={};function c(v,N,_,E){return M.isPlainObject(v)&&M.isPlainObject(N)?M.merge.call({caseless:E},v,N):M.isPlainObject(N)?M.merge({},N):M.isArray(N)?N.slice():N}function d(v,N,_,E){if(M.isUndefined(N)){if(!M.isUndefined(v))return c(void 0,v,_,E)}else return c(v,N,_,E)}function f(v,N){if(!M.isUndefined(N))return c(void 0,N)}function m(v,N){if(M.isUndefined(N)){if(!M.isUndefined(v))return c(void 0,v)}else return c(void 0,N)}function y(v,N,_){if(_ in a)return c(v,N);if(_ in l)return c(void 0,v)}const g={url:f,method:f,data:f,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:y,headers:(v,N,_)=>d(od(v),od(N),_,!0)};return M.forEach(Object.keys({...l,...a}),function(N){const _=g[N]||d,E=_(l[N],a[N],N);M.isUndefined(E)&&_!==y||(i[N]=E)}),i}const sf=l=>{const a=Wn({},l);let{data:i,withXSRFToken:c,xsrfHeaderName:d,xsrfCookieName:f,headers:m,auth:y}=a;if(a.headers=m=jt.from(m),a.url=Jd(rf(a.baseURL,a.url,a.allowAbsoluteUrls),l.params,l.paramsSerializer),y&&m.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):""))),M.isFormData(i)){if(ct.hasStandardBrowserEnv||ct.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(M.isFunction(i.getHeaders)){const g=i.getHeaders(),v=["content-type","content-length"];Object.entries(g).forEach(([N,_])=>{v.includes(N.toLowerCase())&&m.set(N,_)})}}if(ct.hasStandardBrowserEnv&&(c&&M.isFunction(c)&&(c=c(a)),c||c!==!1&&Fh(a.url))){const g=d&&f&&Mh.read(f);g&&m.set(d,g)}return a},Uh=typeof XMLHttpRequest<"u",$h=Uh&&function(l){return new Promise(function(i,c){const d=sf(l);let f=d.data;const m=jt.from(d.headers).normalize();let{responseType:y,onUploadProgress:g,onDownloadProgress:v}=d,N,_,E,b,h;function P(){b&&b(),h&&h(),d.cancelToken&&d.cancelToken.unsubscribe(N),d.signal&&d.signal.removeEventListener("abort",N)}let j=new XMLHttpRequest;j.open(d.method.toUpperCase(),d.url,!0),j.timeout=d.timeout;function I(){if(!j)return;const Q=jt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),Z={data:!y||y==="text"||y==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:Q,config:l,request:j};nf(function(fe){i(fe),P()},function(fe){c(fe),P()},Z),j=null}"onloadend"in j?j.onloadend=I:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(I)},j.onabort=function(){j&&(c(new _e("Request aborted",_e.ECONNABORTED,l,j)),j=null)},j.onerror=function(B){const Z=B&&B.message?B.message:"Network Error",le=new _e(Z,_e.ERR_NETWORK,l,j);le.event=B||null,c(le),j=null},j.ontimeout=function(){let B=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const Z=d.transitional||Zd;d.timeoutErrorMessage&&(B=d.timeoutErrorMessage),c(new _e(B,Z.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,l,j)),j=null},f===void 0&&m.setContentType(null),"setRequestHeader"in j&&M.forEach(m.toJSON(),function(B,Z){j.setRequestHeader(Z,B)}),M.isUndefined(d.withCredentials)||(j.withCredentials=!!d.withCredentials),y&&y!=="json"&&(j.responseType=d.responseType),v&&([E,h]=Tl(v,!0),j.addEventListener("progress",E)),g&&j.upload&&([_,b]=Tl(g),j.upload.addEventListener("progress",_),j.upload.addEventListener("loadend",b)),(d.cancelToken||d.signal)&&(N=Q=>{j&&(c(!Q||Q.type?new jr(null,l,j):Q),j.abort(),j=null)},d.cancelToken&&d.cancelToken.subscribe(N),d.signal&&(d.signal.aborted?N():d.signal.addEventListener("abort",N)));const K=Ah(d.url);if(K&&ct.protocols.indexOf(K)===-1){c(new _e("Unsupported protocol "+K+":",_e.ERR_BAD_REQUEST,l));return}j.send(f||null)})},Bh=(l,a)=>{const{length:i}=l=l?l.filter(Boolean):[];if(a||i){let c=new AbortController,d;const f=function(v){if(!d){d=!0,y();const N=v instanceof Error?v:this.reason;c.abort(N instanceof _e?N:new jr(N instanceof Error?N.message:N))}};let m=a&&setTimeout(()=>{m=null,f(new _e(`timeout ${a} of ms exceeded`,_e.ETIMEDOUT))},a);const y=()=>{l&&(m&&clearTimeout(m),m=null,l.forEach(v=>{v.unsubscribe?v.unsubscribe(f):v.removeEventListener("abort",f)}),l=null)};l.forEach(v=>v.addEventListener("abort",f));const{signal:g}=c;return g.unsubscribe=()=>M.asap(y),g}},Hh=function*(l,a){let i=l.byteLength;if(i<a){yield l;return}let c=0,d;for(;c<i;)d=c+a,yield l.slice(c,d),c=d},Vh=async function*(l,a){for await(const i of Wh(l))yield*Hh(i,a)},Wh=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const a=l.getReader();try{for(;;){const{done:i,value:c}=await a.read();if(i)break;yield c}}finally{await a.cancel()}},cd=(l,a,i,c)=>{const d=Vh(l,a);let f=0,m,y=g=>{m||(m=!0,c&&c(g))};return new ReadableStream({async pull(g){try{const{done:v,value:N}=await d.next();if(v){y(),g.close();return}let _=N.byteLength;if(i){let E=f+=_;i(E)}g.enqueue(new Uint8Array(N))}catch(v){throw y(v),v}},cancel(g){return y(g),d.return()}},{highWaterMark:2})},ud=64*1024,{isFunction:_l}=M,Kh=(({Request:l,Response:a})=>({Request:l,Response:a}))(M.global),{ReadableStream:dd,TextEncoder:fd}=M.global,md=(l,...a)=>{try{return!!l(...a)}catch{return!1}},qh=l=>{l=M.merge.call({skipUndefined:!0},Kh,l);const{fetch:a,Request:i,Response:c}=l,d=a?_l(a):typeof fetch=="function",f=_l(i),m=_l(c);if(!d)return!1;const y=d&&_l(dd),g=d&&(typeof fd=="function"?(h=>P=>h.encode(P))(new fd):async h=>new Uint8Array(await new i(h).arrayBuffer())),v=f&&y&&md(()=>{let h=!1;const P=new i(ct.origin,{body:new dd,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!P}),N=m&&y&&md(()=>M.isReadableStream(new c("").body)),_={stream:N&&(h=>h.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!_[h]&&(_[h]=(P,j)=>{let I=P&&P[h];if(I)return I.call(P);throw new _e(`Response type '${h}' is not supported`,_e.ERR_NOT_SUPPORT,j)})});const E=async h=>{if(h==null)return 0;if(M.isBlob(h))return h.size;if(M.isSpecCompliantForm(h))return(await new i(ct.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(M.isArrayBufferView(h)||M.isArrayBuffer(h))return h.byteLength;if(M.isURLSearchParams(h)&&(h=h+""),M.isString(h))return(await g(h)).byteLength},b=async(h,P)=>{const j=M.toFiniteNumber(h.getContentLength());return j??E(P)};return async h=>{let{url:P,method:j,data:I,signal:K,cancelToken:Q,timeout:B,onDownloadProgress:Z,onUploadProgress:le,responseType:fe,headers:we,withCredentials:re="same-origin",fetchOptions:me}=sf(h),ee=a||fetch;fe=fe?(fe+"").toLowerCase():"text";let A=Bh([K,Q&&Q.toAbortSignal()],B),te=null;const ne=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let Ee;try{if(le&&v&&j!=="get"&&j!=="head"&&(Ee=await b(we,I))!==0){let k=new i(P,{method:"POST",body:I,duplex:"half"}),U;if(M.isFormData(I)&&(U=k.headers.get("content-type"))&&we.setContentType(U),k.body){const[ge,xe]=ad(Ee,Tl(id(le)));I=cd(k.body,ud,ge,xe)}}M.isString(re)||(re=re?"include":"omit");const H=f&&"credentials"in i.prototype,ae={...me,signal:A,method:j.toUpperCase(),headers:we.normalize().toJSON(),body:I,duplex:"half",credentials:H?re:void 0};te=f&&new i(P,ae);let W=await(f?ee(te,me):ee(P,ae));const D=N&&(fe==="stream"||fe==="response");if(N&&(Z||D&&ne)){const k={};["status","statusText","headers"].forEach(Ne=>{k[Ne]=W[Ne]});const U=M.toFiniteNumber(W.headers.get("content-length")),[ge,xe]=Z&&ad(U,Tl(id(Z),!0))||[];W=new c(cd(W.body,ud,ge,()=>{xe&&xe(),ne&&ne()}),k)}fe=fe||"text";let z=await _[M.findKey(_,fe)||"text"](W,h);return!D&&ne&&ne(),await new Promise((k,U)=>{nf(k,U,{data:z,headers:jt.from(W.headers),status:W.status,statusText:W.statusText,config:h,request:te})})}catch(H){throw ne&&ne(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,h,te),{cause:H.cause||H}):_e.from(H,H&&H.code,h,te)}}},Gh=new Map,lf=l=>{let a=l&&l.env||{};const{fetch:i,Request:c,Response:d}=a,f=[c,d,i];let m=f.length,y=m,g,v,N=Gh;for(;y--;)g=f[y],v=N.get(g),v===void 0&&N.set(g,v=y?new Map:qh(a)),N=v;return v};lf();const no={http:dh,xhr:$h,fetch:{get:lf}};M.forEach(no,(l,a)=>{if(l){try{Object.defineProperty(l,"name",{value:a})}catch{}Object.defineProperty(l,"adapterName",{value:a})}});const pd=l=>`- ${l}`,Qh=l=>M.isFunction(l)||l===null||l===!1;function Yh(l,a){l=M.isArray(l)?l:[l];const{length:i}=l;let c,d;const f={};for(let m=0;m<i;m++){c=l[m];let y;if(d=c,!Qh(c)&&(d=no[(y=String(c)).toLowerCase()],d===void 0))throw new _e(`Unknown adapter '${y}'`);if(d&&(M.isFunction(d)||(d=d.get(a))))break;f[y||"#"+m]=d}if(!d){const m=Object.entries(f).map(([g,v])=>`adapter ${g} `+(v===!1?"is not supported by the environment":"is not available in the build"));let y=i?m.length>1?`since :
`+m.map(pd).join(`
`):" "+pd(m[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return d}const af={getAdapter:Yh,adapters:no};function Ai(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new jr(null,l)}function hd(l){return Ai(l),l.headers=jt.from(l.headers),l.data=Oi.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),af.getAdapter(l.adapter||hs.adapter,l)(l).then(function(c){return Ai(l),c.data=Oi.call(l,l.transformResponse,c),c.headers=jt.from(c.headers),c},function(c){return tf(c)||(Ai(l),c&&c.response&&(c.response.data=Oi.call(l,l.transformResponse,c.response),c.response.headers=jt.from(c.response.headers))),Promise.reject(c)})}const of="1.13.2",Ml={};["object","boolean","number","function","string","symbol"].forEach((l,a)=>{Ml[l]=function(c){return typeof c===l||"a"+(a<1?"n ":" ")+l}});const xd={};Ml.transitional=function(a,i,c){function d(f,m){return"[Axios v"+of+"] Transitional option '"+f+"'"+m+(c?". "+c:"")}return(f,m,y)=>{if(a===!1)throw new _e(d(m," has been removed"+(i?" in "+i:"")),_e.ERR_DEPRECATED);return i&&!xd[m]&&(xd[m]=!0,console.warn(d(m," has been deprecated since v"+i+" and will be removed in the near future"))),a?a(f,m,y):!0}};Ml.spelling=function(a){return(i,c)=>(console.warn(`${c} is likely a misspelling of ${a}`),!0)};function Xh(l,a,i){if(typeof l!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const c=Object.keys(l);let d=c.length;for(;d-- >0;){const f=c[d],m=a[f];if(m){const y=l[f],g=y===void 0||m(y,f,l);if(g!==!0)throw new _e("option "+f+" must be "+g,_e.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new _e("Unknown option "+f,_e.ERR_BAD_OPTION)}}const Pl={assertOptions:Xh,validators:Ml},qt=Pl.validators;let Vn=class{constructor(a){this.defaults=a||{},this.interceptors={request:new sd,response:new sd}}async request(a,i){try{return await this._request(a,i)}catch(c){if(c instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const f=d.stack?d.stack.replace(/^.+\n/,""):"";try{c.stack?f&&!String(c.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+f):c.stack=f}catch{}}throw c}}_request(a,i){typeof a=="string"?(i=i||{},i.url=a):i=a||{},i=Wn(this.defaults,i);const{transitional:c,paramsSerializer:d,headers:f}=i;c!==void 0&&Pl.assertOptions(c,{silentJSONParsing:qt.transitional(qt.boolean),forcedJSONParsing:qt.transitional(qt.boolean),clarifyTimeoutError:qt.transitional(qt.boolean)},!1),d!=null&&(M.isFunction(d)?i.paramsSerializer={serialize:d}:Pl.assertOptions(d,{encode:qt.function,serialize:qt.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Pl.assertOptions(i,{baseUrl:qt.spelling("baseURL"),withXsrfToken:qt.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let m=f&&M.merge(f.common,f[i.method]);f&&M.forEach(["delete","get","head","post","put","patch","common"],h=>{delete f[h]}),i.headers=jt.concat(m,f);const y=[];let g=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(i)===!1||(g=g&&P.synchronous,y.unshift(P.fulfilled,P.rejected))});const v=[];this.interceptors.response.forEach(function(P){v.push(P.fulfilled,P.rejected)});let N,_=0,E;if(!g){const h=[hd.bind(this),void 0];for(h.unshift(...y),h.push(...v),E=h.length,N=Promise.resolve(i);_<E;)N=N.then(h[_++],h[_++]);return N}E=y.length;let b=i;for(;_<E;){const h=y[_++],P=y[_++];try{b=h(b)}catch(j){P.call(this,j);break}}try{N=hd.call(this,b)}catch(h){return Promise.reject(h)}for(_=0,E=v.length;_<E;)N=N.then(v[_++],v[_++]);return N}getUri(a){a=Wn(this.defaults,a);const i=rf(a.baseURL,a.url,a.allowAbsoluteUrls);return Jd(i,a.params,a.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(a){Vn.prototype[a]=function(i,c){return this.request(Wn(c||{},{method:a,url:i,data:(c||{}).data}))}});M.forEach(["post","put","patch"],function(a){function i(c){return function(f,m,y){return this.request(Wn(y||{},{method:a,headers:c?{"Content-Type":"multipart/form-data"}:{},url:f,data:m}))}}Vn.prototype[a]=i(),Vn.prototype[a+"Form"]=i(!0)});let Jh=class cf{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const c=this;this.promise.then(d=>{if(!c._listeners)return;let f=c._listeners.length;for(;f-- >0;)c._listeners[f](d);c._listeners=null}),this.promise.then=d=>{let f;const m=new Promise(y=>{c.subscribe(y),f=y}).then(d);return m.cancel=function(){c.unsubscribe(f)},m},a(function(f,m,y){c.reason||(c.reason=new jr(f,m,y),i(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const i=this._listeners.indexOf(a);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const a=new AbortController,i=c=>{a.abort(c)};return this.subscribe(i),a.signal.unsubscribe=()=>this.unsubscribe(i),a.signal}static source(){let a;return{token:new cf(function(d){a=d}),cancel:a}}};function Zh(l){return function(i){return l.apply(null,i)}}function ex(l){return M.isObject(l)&&l.isAxiosError===!0}const Ki={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ki).forEach(([l,a])=>{Ki[a]=l});function uf(l){const a=new Vn(l),i=Ud(Vn.prototype.request,a);return M.extend(i,Vn.prototype,a,{allOwnKeys:!0}),M.extend(i,a,null,{allOwnKeys:!0}),i.create=function(d){return uf(Wn(l,d))},i}const ce=uf(hs);ce.Axios=Vn;ce.CanceledError=jr;ce.CancelToken=Jh;ce.isCancel=tf;ce.VERSION=of;ce.toFormData=Fl;ce.AxiosError=_e;ce.Cancel=ce.CanceledError;ce.all=function(a){return Promise.all(a)};ce.spread=Zh;ce.isAxiosError=ex;ce.mergeConfig=Wn;ce.AxiosHeaders=jt;ce.formToJSON=l=>ef(M.isHTMLForm(l)?new FormData(l):l);ce.getAdapter=af.getAdapter;ce.HttpStatusCode=Ki;ce.default=ce;const{Axios:w0,AxiosError:N0,CanceledError:b0,isCancel:S0,CancelToken:_0,VERSION:C0,all:k0,Cancel:E0,isAxiosError:R0,spread:P0,toFormData:T0,AxiosHeaders:O0,HttpStatusCode:A0,formToJSON:L0,getAdapter:D0,mergeConfig:F0}=ce;var Cl={},Li={exports:{}},yt={},Di={exports:{}},Fi={};var gd;function tx(){return gd||(gd=1,(function(l){function a(W,D){var z=W.length;W.push(D);e:for(;0<z;){var k=z-1>>>1,U=W[k];if(0<d(U,D))W[k]=D,W[z]=U,z=k;else break e}}function i(W){return W.length===0?null:W[0]}function c(W){if(W.length===0)return null;var D=W[0],z=W.pop();if(z!==D){W[0]=z;e:for(var k=0,U=W.length,ge=U>>>1;k<ge;){var xe=2*(k+1)-1,Ne=W[xe],$=xe+1,be=W[$];if(0>d(Ne,z))$<U&&0>d(be,Ne)?(W[k]=be,W[$]=z,k=$):(W[k]=Ne,W[xe]=z,k=xe);else if($<U&&0>d(be,z))W[k]=be,W[$]=z,k=$;else break e}}return D}function d(W,D){var z=W.sortIndex-D.sortIndex;return z!==0?z:W.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var m=Date,y=m.now();l.unstable_now=function(){return m.now()-y}}var g=[],v=[],N=1,_=null,E=3,b=!1,h=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(W){for(var D=i(v);D!==null;){if(D.callback===null)c(v);else if(D.startTime<=W)c(v),D.sortIndex=D.expirationTime,a(g,D);else break;D=i(v)}}function B(W){if(P=!1,Q(W),!h)if(i(g)!==null)h=!0,H(Z);else{var D=i(v);D!==null&&ae(B,D.startTime-W)}}function Z(W,D){h=!1,P&&(P=!1,I(we),we=-1),b=!0;var z=E;try{for(Q(D),_=i(g);_!==null&&(!(_.expirationTime>D)||W&&!ee());){var k=_.callback;if(typeof k=="function"){_.callback=null,E=_.priorityLevel;var U=k(_.expirationTime<=D);D=l.unstable_now(),typeof U=="function"?_.callback=U:_===i(g)&&c(g),Q(D)}else c(g);_=i(g)}if(_!==null)var ge=!0;else{var xe=i(v);xe!==null&&ae(B,xe.startTime-D),ge=!1}return ge}finally{_=null,E=z,b=!1}}var le=!1,fe=null,we=-1,re=5,me=-1;function ee(){return!(l.unstable_now()-me<re)}function A(){if(fe!==null){var W=l.unstable_now();me=W;var D=!0;try{D=fe(!0,W)}finally{D?te():(le=!1,fe=null)}}else le=!1}var te;if(typeof K=="function")te=function(){K(A)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Ee=ne.port2;ne.port1.onmessage=A,te=function(){Ee.postMessage(null)}}else te=function(){j(A,0)};function H(W){fe=W,le||(le=!0,te())}function ae(W,D){we=j(function(){W(l.unstable_now())},D)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(W){W.callback=null},l.unstable_continueExecution=function(){h||b||(h=!0,H(Z))},l.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<W?Math.floor(1e3/W):5},l.unstable_getCurrentPriorityLevel=function(){return E},l.unstable_getFirstCallbackNode=function(){return i(g)},l.unstable_next=function(W){switch(E){case 1:case 2:case 3:var D=3;break;default:D=E}var z=E;E=D;try{return W()}finally{E=z}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(W,D){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var z=E;E=W;try{return D()}finally{E=z}},l.unstable_scheduleCallback=function(W,D,z){var k=l.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?k+z:k):z=k,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,W={id:N++,callback:D,priorityLevel:W,startTime:z,expirationTime:U,sortIndex:-1},z>k?(W.sortIndex=z,a(v,W),i(g)===null&&W===i(v)&&(P?(I(we),we=-1):P=!0,ae(B,z-k))):(W.sortIndex=U,a(g,W),h||b||(h=!0,H(Z))),W},l.unstable_shouldYield=ee,l.unstable_wrapCallback=function(W){var D=E;return function(){var z=E;E=D;try{return W.apply(this,arguments)}finally{E=z}}}})(Fi)),Fi}var yd;function nx(){return yd||(yd=1,Di.exports=tx()),Di.exports}var vd;function rx(){if(vd)return yt;vd=1;var l=Ji(),a=nx();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,d={};function f(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(d[e]=t,e=0;e<t.length;e++)c.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},_={};function E(e){return g.call(_,e)?!0:g.call(N,e)?!1:v.test(e)?_[e]=!0:(N[e]=!0,!1)}function b(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function h(e,t,r,s){if(t===null||typeof t>"u"||b(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,r,s,o,u,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=p}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,K);j[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,K);j[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,K);j[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function Q(e,t,r,s){var o=j.hasOwnProperty(t)?j[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(h(t,r,o,s)&&(r=null),s||o===null?E(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,s=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var B=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),le=Symbol.for("react.portal"),fe=Symbol.for("react.fragment"),we=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),ee=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),W=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var z=Object.assign,k;function U(e){if(k===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var ge=!1;function xe(e,t){if(!e||ge)return"";ge=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(F){var s=F}Reflect.construct(e,[],t)}else{try{t.call()}catch(F){s=F}e.call(t.prototype)}else{try{throw Error()}catch(F){s=F}e()}}catch(F){if(F&&s&&typeof F.stack=="string"){for(var o=F.stack.split(`
`),u=s.stack.split(`
`),p=o.length-1,w=u.length-1;1<=p&&0<=w&&o[p]!==u[w];)w--;for(;1<=p&&0<=w;p--,w--)if(o[p]!==u[w]){if(p!==1||w!==1)do if(p--,w--,0>w||o[p]!==u[w]){var C=`
`+o[p].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=p&&0<=w);break}}}finally{ge=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?U(e):""}function Ne(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=xe(e.type,!1),e;case 11:return e=xe(e.type.render,!1),e;case 1:return e=xe(e.type,!0),e;default:return""}}function $(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fe:return"Fragment";case le:return"Portal";case re:return"Profiler";case we:return"StrictMode";case te:return"Suspense";case ne:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ee:return(e.displayName||"Context")+".Consumer";case me:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ee:return t=e.displayName||null,t!==null?t:$(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return $(e(t))}catch{}}return null}function be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===we?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ce(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Re(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function S(e){var t=Re(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(p){s=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function V(e){e._valueTracker||(e._valueTracker=S(e))}function oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Re(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ae(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function J(e,t){var r=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qe(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Ce(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ye(e,t){t=t.checked,t!=null&&Q(e,"checked",t,!1)}function st(e,t){ye(e,t);var r=Ce(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fe(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fe(e,t.type,Ce(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function T(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fe(e,t,r){(t!=="number"||Ae(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var He=Array.isArray;function Ot(e,t,r,s){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Ce(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function sn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xs(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(i(92));if(He(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ce(r)}}function Kn(e,t){var r=Ce(t.value),s=Ce(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function oo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function co(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ul(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?co(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gs,uo=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gs=gs||document.createElement("div"),gs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sf=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(e){Sf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_r[t]=_r[e]})});function fo(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_r.hasOwnProperty(e)&&_r[e]?(""+t).trim():t+"px"}function mo(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,o=fo(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,o):e[r]=o}}var _f=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $l(e,t){if(t){if(_f[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hl=null;function Vl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wl=null,qn=null,Gn=null;function po(e){if(e=qr(e)){if(typeof Wl!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Us(t),Wl(e.stateNode,e.type,t))}}function ho(e){qn?Gn?Gn.push(e):Gn=[e]:qn=e}function xo(){if(qn){var e=qn,t=Gn;if(Gn=qn=null,po(e),t)for(e=0;e<t.length;e++)po(t[e])}}function go(e,t){return e(t)}function yo(){}var Kl=!1;function vo(e,t,r){if(Kl)return e(t,r);Kl=!0;try{return go(e,t,r)}finally{Kl=!1,(qn!==null||Gn!==null)&&(yo(),xo())}}function Cr(e,t){var r=e.stateNode;if(r===null)return null;var s=Us(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,t,typeof r));return r}var ql=!1;if(y)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){ql=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{ql=!1}function Cf(e,t,r,s,o,u,p,w,C){var F=Array.prototype.slice.call(arguments,3);try{t.apply(r,F)}catch(G){this.onError(G)}}var Er=!1,ys=null,vs=!1,Gl=null,kf={onError:function(e){Er=!0,ys=e}};function Ef(e,t,r,s,o,u,p,w,C){Er=!1,ys=null,Cf.apply(kf,arguments)}function Rf(e,t,r,s,o,u,p,w,C){if(Ef.apply(this,arguments),Er){if(Er){var F=ys;Er=!1,ys=null}else throw Error(i(198));vs||(vs=!0,Gl=F)}}function Pn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wo(e){if(Pn(e)!==e)throw Error(i(188))}function Pf(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error(i(188));return t!==e?null:e}for(var r=e,s=t;;){var o=r.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){r=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===r)return wo(o),e;if(u===s)return wo(o),t;u=u.sibling}throw Error(i(188))}if(r.return!==s.return)r=o,s=u;else{for(var p=!1,w=o.child;w;){if(w===r){p=!0,r=o,s=u;break}if(w===s){p=!0,s=o,r=u;break}w=w.sibling}if(!p){for(w=u.child;w;){if(w===r){p=!0,r=u,s=o;break}if(w===s){p=!0,s=u,r=o;break}w=w.sibling}if(!p)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:t}function No(e){return e=Pf(e),e!==null?bo(e):null}function bo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bo(e);if(t!==null)return t;e=e.sibling}return null}var So=a.unstable_scheduleCallback,_o=a.unstable_cancelCallback,Tf=a.unstable_shouldYield,Of=a.unstable_requestPaint,We=a.unstable_now,Af=a.unstable_getCurrentPriorityLevel,Ql=a.unstable_ImmediatePriority,Co=a.unstable_UserBlockingPriority,js=a.unstable_NormalPriority,Lf=a.unstable_LowPriority,ko=a.unstable_IdlePriority,ws=null,Bt=null;function Df(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ws,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:If,Ff=Math.log,Mf=Math.LN2;function If(e){return e>>>=0,e===0?32:31-(Ff(e)/Mf|0)|0}var Ns=64,bs=4194304;function Rr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ss(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,o=e.suspendedLanes,u=e.pingedLanes,p=r&268435455;if(p!==0){var w=p&~o;w!==0?s=Rr(w):(u&=p,u!==0&&(s=Rr(u)))}else p=r&~o,p!==0?s=Rr(p):u!==0&&(s=Rr(u));if(s===0)return 0;if(t!==0&&t!==s&&(t&o)===0&&(o=s&-s,u=t&-t,o>=u||o===16&&(u&4194240)!==0))return t;if((s&4)!==0&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-At(t),o=1<<r,s|=e[r],t&=~o;return s}function zf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var p=31-At(u),w=1<<p,C=o[p];C===-1?((w&r)===0||(w&s)!==0)&&(o[p]=zf(w,t)):C<=t&&(e.expiredLanes|=w),u&=~w}}function Yl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Eo(){var e=Ns;return Ns<<=1,(Ns&4194240)===0&&(Ns=64),e}function Xl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-At(t),e[t]=r}function $f(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-At(r),u=1<<o;t[o]=0,s[o]=-1,e[o]=-1,r&=~u}}function Jl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-At(r),o=1<<s;o&t|e[s]&t&&(e[s]|=t),r&=~o}}var Le=0;function Ro(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Po,Zl,To,Oo,Ao,ea=!1,_s=[],ln=null,an=null,on=null,Tr=new Map,Or=new Map,cn=[],Bf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lo(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Tr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(t.pointerId)}}function Ar(e,t,r,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=qr(t),t!==null&&Zl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Hf(e,t,r,s,o){switch(t){case"focusin":return ln=Ar(ln,e,t,r,s,o),!0;case"dragenter":return an=Ar(an,e,t,r,s,o),!0;case"mouseover":return on=Ar(on,e,t,r,s,o),!0;case"pointerover":var u=o.pointerId;return Tr.set(u,Ar(Tr.get(u)||null,e,t,r,s,o)),!0;case"gotpointercapture":return u=o.pointerId,Or.set(u,Ar(Or.get(u)||null,e,t,r,s,o)),!0}return!1}function Do(e){var t=Tn(e.target);if(t!==null){var r=Pn(t);if(r!==null){if(t=r.tag,t===13){if(t=jo(r),t!==null){e.blockedOn=t,Ao(e.priority,function(){To(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=na(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Hl=s,r.target.dispatchEvent(s),Hl=null}else return t=qr(r),t!==null&&Zl(t),e.blockedOn=r,!1;t.shift()}return!0}function Fo(e,t,r){Cs(e)&&r.delete(t)}function Vf(){ea=!1,ln!==null&&Cs(ln)&&(ln=null),an!==null&&Cs(an)&&(an=null),on!==null&&Cs(on)&&(on=null),Tr.forEach(Fo),Or.forEach(Fo)}function Lr(e,t){e.blockedOn===t&&(e.blockedOn=null,ea||(ea=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vf)))}function Dr(e){function t(o){return Lr(o,e)}if(0<_s.length){Lr(_s[0],e);for(var r=1;r<_s.length;r++){var s=_s[r];s.blockedOn===e&&(s.blockedOn=null)}}for(ln!==null&&Lr(ln,e),an!==null&&Lr(an,e),on!==null&&Lr(on,e),Tr.forEach(t),Or.forEach(t),r=0;r<cn.length;r++)s=cn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<cn.length&&(r=cn[0],r.blockedOn===null);)Do(r),r.blockedOn===null&&cn.shift()}var Qn=B.ReactCurrentBatchConfig,ks=!0;function Wf(e,t,r,s){var o=Le,u=Qn.transition;Qn.transition=null;try{Le=1,ta(e,t,r,s)}finally{Le=o,Qn.transition=u}}function Kf(e,t,r,s){var o=Le,u=Qn.transition;Qn.transition=null;try{Le=4,ta(e,t,r,s)}finally{Le=o,Qn.transition=u}}function ta(e,t,r,s){if(ks){var o=na(e,t,r,s);if(o===null)va(e,t,s,Es,r),Lo(e,s);else if(Hf(o,e,t,r,s))s.stopPropagation();else if(Lo(e,s),t&4&&-1<Bf.indexOf(e)){for(;o!==null;){var u=qr(o);if(u!==null&&Po(u),u=na(e,t,r,s),u===null&&va(e,t,s,Es,r),u===o)break;o=u}o!==null&&s.stopPropagation()}else va(e,t,s,null,r)}}var Es=null;function na(e,t,r,s){if(Es=null,e=Vl(s),e=Tn(e),e!==null)if(t=Pn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jo(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Es=e,null}function Mo(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Af()){case Ql:return 1;case Co:return 4;case js:case Lf:return 16;case ko:return 536870912;default:return 16}default:return 16}}var un=null,ra=null,Rs=null;function Io(){if(Rs)return Rs;var e,t=ra,r=t.length,s,o="value"in un?un.value:un.textContent,u=o.length;for(e=0;e<r&&t[e]===o[e];e++);var p=r-e;for(s=1;s<=p&&t[r-s]===o[u-s];s++);return Rs=o.slice(e,1<s?1-s:void 0)}function Ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ts(){return!0}function zo(){return!1}function wt(e){function t(r,s,o,u,p){this._reactName=r,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(u):u[w]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ts:zo,this.isPropagationStopped=zo,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),t}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=wt(Yn),Fr=z({},Yn,{view:0,detail:0}),qf=wt(Fr),la,aa,Mr,Os=z({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mr&&(Mr&&e.type==="mousemove"?(la=e.screenX-Mr.screenX,aa=e.screenY-Mr.screenY):aa=la=0,Mr=e),la)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Uo=wt(Os),Gf=z({},Os,{dataTransfer:0}),Qf=wt(Gf),Yf=z({},Fr,{relatedTarget:0}),ia=wt(Yf),Xf=z({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Jf=wt(Xf),Zf=z({},Yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),em=wt(Zf),tm=z({},Yn,{data:0}),$o=wt(tm),nm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sm[e])?!!t[e]:!1}function oa(){return lm}var am=z({},Fr,{key:function(e){if(e.key){var t=nm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),im=wt(am),om=z({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=wt(om),cm=z({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),um=wt(cm),dm=z({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),fm=wt(dm),mm=z({},Os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pm=wt(mm),hm=[9,13,27,32],ca=y&&"CompositionEvent"in window,Ir=null;y&&"documentMode"in document&&(Ir=document.documentMode);var xm=y&&"TextEvent"in window&&!Ir,Ho=y&&(!ca||Ir&&8<Ir&&11>=Ir),Vo=" ",Wo=!1;function Ko(e,t){switch(e){case"keyup":return hm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function gm(e,t){switch(e){case"compositionend":return qo(t);case"keypress":return t.which!==32?null:(Wo=!0,Vo);case"textInput":return e=t.data,e===Vo&&Wo?null:e;default:return null}}function ym(e,t){if(Xn)return e==="compositionend"||!ca&&Ko(e,t)?(e=Io(),Rs=ra=un=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ho&&t.locale!=="ko"?null:t.data;default:return null}}var vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vm[e.type]:t==="textarea"}function Qo(e,t,r,s){ho(s),t=Ms(t,"onChange"),0<t.length&&(r=new sa("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var zr=null,Ur=null;function jm(e){mc(e,0)}function As(e){var t=nr(e);if(oe(t))return e}function wm(e,t){if(e==="change")return t}var Yo=!1;if(y){var ua;if(y){var da="oninput"in document;if(!da){var Xo=document.createElement("div");Xo.setAttribute("oninput","return;"),da=typeof Xo.oninput=="function"}ua=da}else ua=!1;Yo=ua&&(!document.documentMode||9<document.documentMode)}function Jo(){zr&&(zr.detachEvent("onpropertychange",Zo),Ur=zr=null)}function Zo(e){if(e.propertyName==="value"&&As(Ur)){var t=[];Qo(t,Ur,e,Vl(e)),vo(jm,t)}}function Nm(e,t,r){e==="focusin"?(Jo(),zr=t,Ur=r,zr.attachEvent("onpropertychange",Zo)):e==="focusout"&&Jo()}function bm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return As(Ur)}function Sm(e,t){if(e==="click")return As(t)}function _m(e,t){if(e==="input"||e==="change")return As(t)}function Cm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:Cm;function $r(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var o=r[s];if(!g.call(t,o)||!Lt(e[o],t[o]))return!1}return!0}function ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tc(e,t){var r=ec(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ec(r)}}function nc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rc(){for(var e=window,t=Ae();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ae(e.document)}return t}function fa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function km(e){var t=rc(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&nc(r.ownerDocument.documentElement,r)){if(s!==null&&fa(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,u=Math.min(s.start,o);s=s.end===void 0?u:Math.min(s.end,o),!e.extend&&u>s&&(o=s,s=u,u=o),o=tc(r,u);var p=tc(r,s);o&&p&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Em=y&&"documentMode"in document&&11>=document.documentMode,Jn=null,ma=null,Br=null,pa=!1;function sc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pa||Jn==null||Jn!==Ae(s)||(s=Jn,"selectionStart"in s&&fa(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Br&&$r(Br,s)||(Br=s,s=Ms(ma,"onSelect"),0<s.length&&(t=new sa("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Jn)))}function Ls(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zn={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},ha={},lc={};y&&(lc=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function Ds(e){if(ha[e])return ha[e];if(!Zn[e])return e;var t=Zn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lc)return ha[e]=t[r];return e}var ac=Ds("animationend"),ic=Ds("animationiteration"),oc=Ds("animationstart"),cc=Ds("transitionend"),uc=new Map,dc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){uc.set(e,t),f(t,[e])}for(var xa=0;xa<dc.length;xa++){var ga=dc[xa],Rm=ga.toLowerCase(),Pm=ga[0].toUpperCase()+ga.slice(1);dn(Rm,"on"+Pm)}dn(ac,"onAnimationEnd"),dn(ic,"onAnimationIteration"),dn(oc,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(cc,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function fc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Rf(s,t,void 0,e),e.currentTarget=null}function mc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var p=s.length-1;0<=p;p--){var w=s[p],C=w.instance,F=w.currentTarget;if(w=w.listener,C!==u&&o.isPropagationStopped())break e;fc(o,w,F),u=C}else for(p=0;p<s.length;p++){if(w=s[p],C=w.instance,F=w.currentTarget,w=w.listener,C!==u&&o.isPropagationStopped())break e;fc(o,w,F),u=C}}}if(vs)throw e=Gl,vs=!1,Gl=null,e}function Ie(e,t){var r=t[_a];r===void 0&&(r=t[_a]=new Set);var s=e+"__bubble";r.has(s)||(pc(t,e,2,!1),r.add(s))}function ya(e,t,r){var s=0;t&&(s|=4),pc(r,e,s,t)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Fs]){e[Fs]=!0,c.forEach(function(r){r!=="selectionchange"&&(Tm.has(r)||ya(r,!1,e),ya(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fs]||(t[Fs]=!0,ya("selectionchange",!1,t))}}function pc(e,t,r,s){switch(Mo(t)){case 1:var o=Wf;break;case 4:o=Kf;break;default:o=ta}r=o.bind(null,t,r,e),o=void 0,!ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function va(e,t,r,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var w=s.stateNode.containerInfo;if(w===o||w.nodeType===8&&w.parentNode===o)break;if(p===4)for(p=s.return;p!==null;){var C=p.tag;if((C===3||C===4)&&(C=p.stateNode.containerInfo,C===o||C.nodeType===8&&C.parentNode===o))return;p=p.return}for(;w!==null;){if(p=Tn(w),p===null)return;if(C=p.tag,C===5||C===6){s=u=p;continue e}w=w.parentNode}}s=s.return}vo(function(){var F=u,G=Vl(r),Y=[];e:{var q=uc.get(e);if(q!==void 0){var se=sa,de=e;switch(e){case"keypress":if(Ps(r)===0)break e;case"keydown":case"keyup":se=im;break;case"focusin":de="focus",se=ia;break;case"focusout":de="blur",se=ia;break;case"beforeblur":case"afterblur":se=ia;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=um;break;case ac:case ic:case oc:se=Jf;break;case cc:se=fm;break;case"scroll":se=qf;break;case"wheel":se=pm;break;case"copy":case"cut":case"paste":se=em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Bo}var pe=(t&4)!==0,Ke=!pe&&e==="scroll",O=pe?q!==null?q+"Capture":null:q;pe=[];for(var R=F,L;R!==null;){L=R;var X=L.stateNode;if(L.tag===5&&X!==null&&(L=X,O!==null&&(X=Cr(R,O),X!=null&&pe.push(Wr(R,X,L)))),Ke)break;R=R.return}0<pe.length&&(q=new se(q,de,null,r,G),Y.push({event:q,listeners:pe}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",q&&r!==Hl&&(de=r.relatedTarget||r.fromElement)&&(Tn(de)||de[Gt]))break e;if((se||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,se?(de=r.relatedTarget||r.toElement,se=F,de=de?Tn(de):null,de!==null&&(Ke=Pn(de),de!==Ke||de.tag!==5&&de.tag!==6)&&(de=null)):(se=null,de=F),se!==de)){if(pe=Uo,X="onMouseLeave",O="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Bo,X="onPointerLeave",O="onPointerEnter",R="pointer"),Ke=se==null?q:nr(se),L=de==null?q:nr(de),q=new pe(X,R+"leave",se,r,G),q.target=Ke,q.relatedTarget=L,X=null,Tn(G)===F&&(pe=new pe(O,R+"enter",de,r,G),pe.target=L,pe.relatedTarget=Ke,X=pe),Ke=X,se&&de)t:{for(pe=se,O=de,R=0,L=pe;L;L=er(L))R++;for(L=0,X=O;X;X=er(X))L++;for(;0<R-L;)pe=er(pe),R--;for(;0<L-R;)O=er(O),L--;for(;R--;){if(pe===O||O!==null&&pe===O.alternate)break t;pe=er(pe),O=er(O)}pe=null}else pe=null;se!==null&&hc(Y,q,se,pe,!1),de!==null&&Ke!==null&&hc(Y,Ke,de,pe,!0)}}e:{if(q=F?nr(F):window,se=q.nodeName&&q.nodeName.toLowerCase(),se==="select"||se==="input"&&q.type==="file")var he=wm;else if(Go(q))if(Yo)he=_m;else{he=bm;var ve=Nm}else(se=q.nodeName)&&se.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(he=Sm);if(he&&(he=he(e,F))){Qo(Y,he,r,G);break e}ve&&ve(e,q,F),e==="focusout"&&(ve=q._wrapperState)&&ve.controlled&&q.type==="number"&&Fe(q,"number",q.value)}switch(ve=F?nr(F):window,e){case"focusin":(Go(ve)||ve.contentEditable==="true")&&(Jn=ve,ma=F,Br=null);break;case"focusout":Br=ma=Jn=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,sc(Y,r,G);break;case"selectionchange":if(Em)break;case"keydown":case"keyup":sc(Y,r,G)}var je;if(ca)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Xn?Ko(e,r)&&(Se="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Se="onCompositionStart");Se&&(Ho&&r.locale!=="ko"&&(Xn||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Xn&&(je=Io()):(un=G,ra="value"in un?un.value:un.textContent,Xn=!0)),ve=Ms(F,Se),0<ve.length&&(Se=new $o(Se,e,null,r,G),Y.push({event:Se,listeners:ve}),je?Se.data=je:(je=qo(r),je!==null&&(Se.data=je)))),(je=xm?gm(e,r):ym(e,r))&&(F=Ms(F,"onBeforeInput"),0<F.length&&(G=new $o("onBeforeInput","beforeinput",null,r,G),Y.push({event:G,listeners:F}),G.data=je))}mc(Y,t)})}function Wr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ms(e,t){for(var r=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;o.tag===5&&u!==null&&(o=u,u=Cr(e,r),u!=null&&s.unshift(Wr(e,u,o)),u=Cr(e,t),u!=null&&s.push(Wr(e,u,o))),e=e.return}return s}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hc(e,t,r,s,o){for(var u=t._reactName,p=[];r!==null&&r!==s;){var w=r,C=w.alternate,F=w.stateNode;if(C!==null&&C===s)break;w.tag===5&&F!==null&&(w=F,o?(C=Cr(r,u),C!=null&&p.unshift(Wr(r,C,w))):o||(C=Cr(r,u),C!=null&&p.push(Wr(r,C,w)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var Om=/\r\n?/g,Am=/\u0000|\uFFFD/g;function xc(e){return(typeof e=="string"?e:""+e).replace(Om,`
`).replace(Am,"")}function Is(e,t,r){if(t=xc(t),xc(e)!==t&&r)throw Error(i(425))}function zs(){}var ja=null,wa=null;function Na(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ba=typeof setTimeout=="function"?setTimeout:void 0,Lm=typeof clearTimeout=="function"?clearTimeout:void 0,gc=typeof Promise=="function"?Promise:void 0,Dm=typeof queueMicrotask=="function"?queueMicrotask:typeof gc<"u"?function(e){return gc.resolve(null).then(e).catch(Fm)}:ba;function Fm(e){setTimeout(function(){throw e})}function Sa(e,t){var r=t,s=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(s===0){e.removeChild(o),Dr(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=o}while(r);Dr(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var tr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+tr,Kr="__reactProps$"+tr,Gt="__reactContainer$"+tr,_a="__reactEvents$"+tr,Mm="__reactListeners$"+tr,Im="__reactHandles$"+tr;function Tn(e){var t=e[Ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Gt]||r[Ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yc(e);e!==null;){if(r=e[Ht])return r;e=yc(e)}return t}e=r,r=e.parentNode}return null}function qr(e){return e=e[Ht]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Us(e){return e[Kr]||null}var Ca=[],rr=-1;function mn(e){return{current:e}}function ze(e){0>rr||(e.current=Ca[rr],Ca[rr]=null,rr--)}function Me(e,t){rr++,Ca[rr]=e.current,e.current=t}var pn={},lt=mn(pn),mt=mn(!1),On=pn;function sr(e,t){var r=e.type.contextTypes;if(!r)return pn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},u;for(u in r)o[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pt(e){return e=e.childContextTypes,e!=null}function $s(){ze(mt),ze(lt)}function vc(e,t,r){if(lt.current!==pn)throw Error(i(168));Me(lt,t),Me(mt,r)}function jc(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(i(108,be(e)||"Unknown",o));return z({},r,s)}function Bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pn,On=lt.current,Me(lt,e),Me(mt,mt.current),!0}function wc(e,t,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=jc(e,t,On),s.__reactInternalMemoizedMergedChildContext=e,ze(mt),ze(lt),Me(lt,e)):ze(mt),Me(mt,r)}var Qt=null,Hs=!1,ka=!1;function Nc(e){Qt===null?Qt=[e]:Qt.push(e)}function zm(e){Hs=!0,Nc(e)}function hn(){if(!ka&&Qt!==null){ka=!0;var e=0,t=Le;try{var r=Qt;for(Le=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Qt=null,Hs=!1}catch(o){throw Qt!==null&&(Qt=Qt.slice(e+1)),So(Ql,hn),o}finally{Le=t,ka=!1}}return null}var lr=[],ar=0,Vs=null,Ws=0,Ct=[],kt=0,An=null,Yt=1,Xt="";function Ln(e,t){lr[ar++]=Ws,lr[ar++]=Vs,Vs=e,Ws=t}function bc(e,t,r){Ct[kt++]=Yt,Ct[kt++]=Xt,Ct[kt++]=An,An=e;var s=Yt;e=Xt;var o=32-At(s)-1;s&=~(1<<o),r+=1;var u=32-At(t)+o;if(30<u){var p=o-o%5;u=(s&(1<<p)-1).toString(32),s>>=p,o-=p,Yt=1<<32-At(t)+o|r<<o|s,Xt=u+e}else Yt=1<<u|r<<o|s,Xt=e}function Ea(e){e.return!==null&&(Ln(e,1),bc(e,1,0))}function Ra(e){for(;e===Vs;)Vs=lr[--ar],lr[ar]=null,Ws=lr[--ar],lr[ar]=null;for(;e===An;)An=Ct[--kt],Ct[kt]=null,Xt=Ct[--kt],Ct[kt]=null,Yt=Ct[--kt],Ct[kt]=null}var Nt=null,bt=null,Ue=!1,Dt=null;function Sc(e,t){var r=Tt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _c(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,bt=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=An!==null?{id:Yt,overflow:Xt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Tt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nt=e,bt=null,!0):!1;default:return!1}}function Pa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ta(e){if(Ue){var t=bt;if(t){var r=t;if(!_c(e,t)){if(Pa(e))throw Error(i(418));t=fn(r.nextSibling);var s=Nt;t&&_c(e,t)?Sc(s,r):(e.flags=e.flags&-4097|2,Ue=!1,Nt=e)}}else{if(Pa(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ue=!1,Nt=e}}}function Cc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function Ks(e){if(e!==Nt)return!1;if(!Ue)return Cc(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Na(e.type,e.memoizedProps)),t&&(t=bt)){if(Pa(e))throw kc(),Error(i(418));for(;t;)Sc(e,t),t=fn(t.nextSibling)}if(Cc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){bt=fn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}bt=null}}else bt=Nt?fn(e.stateNode.nextSibling):null;return!0}function kc(){for(var e=bt;e;)e=fn(e.nextSibling)}function ir(){bt=Nt=null,Ue=!1}function Oa(e){Dt===null?Dt=[e]:Dt.push(e)}var Um=B.ReactCurrentBatchConfig;function Gr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var o=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(p){var w=o.refs;p===null?delete w[u]:w[u]=p},t._stringRef=u,t)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function qs(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ec(e){var t=e._init;return t(e._payload)}function Rc(e){function t(O,R){if(e){var L=O.deletions;L===null?(O.deletions=[R],O.flags|=16):L.push(R)}}function r(O,R){if(!e)return null;for(;R!==null;)t(O,R),R=R.sibling;return null}function s(O,R){for(O=new Map;R!==null;)R.key!==null?O.set(R.key,R):O.set(R.index,R),R=R.sibling;return O}function o(O,R){return O=bn(O,R),O.index=0,O.sibling=null,O}function u(O,R,L){return O.index=L,e?(L=O.alternate,L!==null?(L=L.index,L<R?(O.flags|=2,R):L):(O.flags|=2,R)):(O.flags|=1048576,R)}function p(O){return e&&O.alternate===null&&(O.flags|=2),O}function w(O,R,L,X){return R===null||R.tag!==6?(R=bi(L,O.mode,X),R.return=O,R):(R=o(R,L),R.return=O,R)}function C(O,R,L,X){var he=L.type;return he===fe?G(O,R,L.props.children,X,L.key):R!==null&&(R.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===H&&Ec(he)===R.type)?(X=o(R,L.props),X.ref=Gr(O,R,L),X.return=O,X):(X=gl(L.type,L.key,L.props,null,O.mode,X),X.ref=Gr(O,R,L),X.return=O,X)}function F(O,R,L,X){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=Si(L,O.mode,X),R.return=O,R):(R=o(R,L.children||[]),R.return=O,R)}function G(O,R,L,X,he){return R===null||R.tag!==7?(R=Bn(L,O.mode,X,he),R.return=O,R):(R=o(R,L),R.return=O,R)}function Y(O,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return R=bi(""+R,O.mode,L),R.return=O,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Z:return L=gl(R.type,R.key,R.props,null,O.mode,L),L.ref=Gr(O,null,R),L.return=O,L;case le:return R=Si(R,O.mode,L),R.return=O,R;case H:var X=R._init;return Y(O,X(R._payload),L)}if(He(R)||D(R))return R=Bn(R,O.mode,L,null),R.return=O,R;qs(O,R)}return null}function q(O,R,L,X){var he=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return he!==null?null:w(O,R,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Z:return L.key===he?C(O,R,L,X):null;case le:return L.key===he?F(O,R,L,X):null;case H:return he=L._init,q(O,R,he(L._payload),X)}if(He(L)||D(L))return he!==null?null:G(O,R,L,X,null);qs(O,L)}return null}function se(O,R,L,X,he){if(typeof X=="string"&&X!==""||typeof X=="number")return O=O.get(L)||null,w(R,O,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Z:return O=O.get(X.key===null?L:X.key)||null,C(R,O,X,he);case le:return O=O.get(X.key===null?L:X.key)||null,F(R,O,X,he);case H:var ve=X._init;return se(O,R,L,ve(X._payload),he)}if(He(X)||D(X))return O=O.get(L)||null,G(R,O,X,he,null);qs(R,X)}return null}function de(O,R,L,X){for(var he=null,ve=null,je=R,Se=R=0,et=null;je!==null&&Se<L.length;Se++){je.index>Se?(et=je,je=null):et=je.sibling;var Te=q(O,je,L[Se],X);if(Te===null){je===null&&(je=et);break}e&&je&&Te.alternate===null&&t(O,je),R=u(Te,R,Se),ve===null?he=Te:ve.sibling=Te,ve=Te,je=et}if(Se===L.length)return r(O,je),Ue&&Ln(O,Se),he;if(je===null){for(;Se<L.length;Se++)je=Y(O,L[Se],X),je!==null&&(R=u(je,R,Se),ve===null?he=je:ve.sibling=je,ve=je);return Ue&&Ln(O,Se),he}for(je=s(O,je);Se<L.length;Se++)et=se(je,O,Se,L[Se],X),et!==null&&(e&&et.alternate!==null&&je.delete(et.key===null?Se:et.key),R=u(et,R,Se),ve===null?he=et:ve.sibling=et,ve=et);return e&&je.forEach(function(Sn){return t(O,Sn)}),Ue&&Ln(O,Se),he}function pe(O,R,L,X){var he=D(L);if(typeof he!="function")throw Error(i(150));if(L=he.call(L),L==null)throw Error(i(151));for(var ve=he=null,je=R,Se=R=0,et=null,Te=L.next();je!==null&&!Te.done;Se++,Te=L.next()){je.index>Se?(et=je,je=null):et=je.sibling;var Sn=q(O,je,Te.value,X);if(Sn===null){je===null&&(je=et);break}e&&je&&Sn.alternate===null&&t(O,je),R=u(Sn,R,Se),ve===null?he=Sn:ve.sibling=Sn,ve=Sn,je=et}if(Te.done)return r(O,je),Ue&&Ln(O,Se),he;if(je===null){for(;!Te.done;Se++,Te=L.next())Te=Y(O,Te.value,X),Te!==null&&(R=u(Te,R,Se),ve===null?he=Te:ve.sibling=Te,ve=Te);return Ue&&Ln(O,Se),he}for(je=s(O,je);!Te.done;Se++,Te=L.next())Te=se(je,O,Se,Te.value,X),Te!==null&&(e&&Te.alternate!==null&&je.delete(Te.key===null?Se:Te.key),R=u(Te,R,Se),ve===null?he=Te:ve.sibling=Te,ve=Te);return e&&je.forEach(function(vp){return t(O,vp)}),Ue&&Ln(O,Se),he}function Ke(O,R,L,X){if(typeof L=="object"&&L!==null&&L.type===fe&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Z:e:{for(var he=L.key,ve=R;ve!==null;){if(ve.key===he){if(he=L.type,he===fe){if(ve.tag===7){r(O,ve.sibling),R=o(ve,L.props.children),R.return=O,O=R;break e}}else if(ve.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===H&&Ec(he)===ve.type){r(O,ve.sibling),R=o(ve,L.props),R.ref=Gr(O,ve,L),R.return=O,O=R;break e}r(O,ve);break}else t(O,ve);ve=ve.sibling}L.type===fe?(R=Bn(L.props.children,O.mode,X,L.key),R.return=O,O=R):(X=gl(L.type,L.key,L.props,null,O.mode,X),X.ref=Gr(O,R,L),X.return=O,O=X)}return p(O);case le:e:{for(ve=L.key;R!==null;){if(R.key===ve)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){r(O,R.sibling),R=o(R,L.children||[]),R.return=O,O=R;break e}else{r(O,R);break}else t(O,R);R=R.sibling}R=Si(L,O.mode,X),R.return=O,O=R}return p(O);case H:return ve=L._init,Ke(O,R,ve(L._payload),X)}if(He(L))return de(O,R,L,X);if(D(L))return pe(O,R,L,X);qs(O,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,R!==null&&R.tag===6?(r(O,R.sibling),R=o(R,L),R.return=O,O=R):(r(O,R),R=bi(L,O.mode,X),R.return=O,O=R),p(O)):r(O,R)}return Ke}var or=Rc(!0),Pc=Rc(!1),Gs=mn(null),Qs=null,cr=null,Aa=null;function La(){Aa=cr=Qs=null}function Da(e){var t=Gs.current;ze(Gs),e._currentValue=t}function Fa(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function ur(e,t){Qs=e,Aa=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ht=!0),e.firstContext=null)}function Et(e){var t=e._currentValue;if(Aa!==e)if(e={context:e,memoizedValue:t,next:null},cr===null){if(Qs===null)throw Error(i(308));cr=e,Qs.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return t}var Dn=null;function Ma(e){Dn===null?Dn=[e]:Dn.push(e)}function Tc(e,t,r,s){var o=t.interleaved;return o===null?(r.next=r,Ma(t)):(r.next=o.next,o.next=r),t.interleaved=r,Jt(e,s)}function Jt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xn=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Pe&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,Jt(e,r)}return o=s.interleaved,o===null?(t.next=t,Ma(s)):(t.next=o.next,o.next=t),s.interleaved=t,Jt(e,r)}function Ys(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Jl(e,r)}}function Ac(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var o=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?o=u=p:u=u.next=p,r=r.next}while(r!==null);u===null?o=u=t:u=u.next=t}else o=u=t;r={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xs(e,t,r,s){var o=e.updateQueue;xn=!1;var u=o.firstBaseUpdate,p=o.lastBaseUpdate,w=o.shared.pending;if(w!==null){o.shared.pending=null;var C=w,F=C.next;C.next=null,p===null?u=F:p.next=F,p=C;var G=e.alternate;G!==null&&(G=G.updateQueue,w=G.lastBaseUpdate,w!==p&&(w===null?G.firstBaseUpdate=F:w.next=F,G.lastBaseUpdate=C))}if(u!==null){var Y=o.baseState;p=0,G=F=C=null,w=u;do{var q=w.lane,se=w.eventTime;if((s&q)===q){G!==null&&(G=G.next={eventTime:se,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var de=e,pe=w;switch(q=t,se=r,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){Y=de.call(se,Y,q);break e}Y=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,q=typeof de=="function"?de.call(se,Y,q):de,q==null)break e;Y=z({},Y,q);break e;case 2:xn=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,q=o.effects,q===null?o.effects=[w]:q.push(w))}else se={eventTime:se,lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},G===null?(F=G=se,C=Y):G=G.next=se,p|=q;if(w=w.next,w===null){if(w=o.shared.pending,w===null)break;q=w,w=q.next,q.next=null,o.lastBaseUpdate=q,o.shared.pending=null}}while(!0);if(G===null&&(C=Y),o.baseState=C,o.firstBaseUpdate=F,o.lastBaseUpdate=G,t=o.shared.interleaved,t!==null){o=t;do p|=o.lane,o=o.next;while(o!==t)}else u===null&&(o.shared.lanes=0);In|=p,e.lanes=p,e.memoizedState=Y}}function Lc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=r,typeof o!="function")throw Error(i(191,o));o.call(s)}}}var Qr={},Vt=mn(Qr),Yr=mn(Qr),Xr=mn(Qr);function Fn(e){if(e===Qr)throw Error(i(174));return e}function za(e,t){switch(Me(Xr,t),Me(Yr,e),Me(Vt,Qr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ul(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ul(t,e)}ze(Vt),Me(Vt,t)}function dr(){ze(Vt),ze(Yr),ze(Xr)}function Dc(e){Fn(Xr.current);var t=Fn(Vt.current),r=Ul(t,e.type);t!==r&&(Me(Yr,e),Me(Vt,r))}function Ua(e){Yr.current===e&&(ze(Vt),ze(Yr))}var $e=mn(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $a=[];function Ba(){for(var e=0;e<$a.length;e++)$a[e]._workInProgressVersionPrimary=null;$a.length=0}var Zs=B.ReactCurrentDispatcher,Ha=B.ReactCurrentBatchConfig,Mn=0,Be=null,Ye=null,Je=null,el=!1,Jr=!1,Zr=0,$m=0;function at(){throw Error(i(321))}function Va(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lt(e[r],t[r]))return!1;return!0}function Wa(e,t,r,s,o,u){if(Mn=u,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zs.current=e===null||e.memoizedState===null?Wm:Km,e=r(s,o),Jr){u=0;do{if(Jr=!1,Zr=0,25<=u)throw Error(i(301));u+=1,Je=Ye=null,t.updateQueue=null,Zs.current=qm,e=r(s,o)}while(Jr)}if(Zs.current=rl,t=Ye!==null&&Ye.next!==null,Mn=0,Je=Ye=Be=null,el=!1,t)throw Error(i(300));return e}function Ka(){var e=Zr!==0;return Zr=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Be.memoizedState=Je=e:Je=Je.next=e,Je}function Rt(){if(Ye===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=Je===null?Be.memoizedState:Je.next;if(t!==null)Je=t,Ye=e;else{if(e===null)throw Error(i(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Je===null?Be.memoizedState=Je=e:Je=Je.next=e}return Je}function es(e,t){return typeof t=="function"?t(e):t}function qa(e){var t=Rt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=Ye,o=s.baseQueue,u=r.pending;if(u!==null){if(o!==null){var p=o.next;o.next=u.next,u.next=p}s.baseQueue=o=u,r.pending=null}if(o!==null){u=o.next,s=s.baseState;var w=p=null,C=null,F=u;do{var G=F.lane;if((Mn&G)===G)C!==null&&(C=C.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),s=F.hasEagerState?F.eagerState:e(s,F.action);else{var Y={lane:G,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};C===null?(w=C=Y,p=s):C=C.next=Y,Be.lanes|=G,In|=G}F=F.next}while(F!==null&&F!==u);C===null?p=s:C.next=w,Lt(s,t.memoizedState)||(ht=!0),t.memoizedState=s,t.baseState=p,t.baseQueue=C,r.lastRenderedState=s}if(e=r.interleaved,e!==null){o=e;do u=o.lane,Be.lanes|=u,In|=u,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ga(e){var t=Rt(),r=t.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,o=r.pending,u=t.memoizedState;if(o!==null){r.pending=null;var p=o=o.next;do u=e(u,p.action),p=p.next;while(p!==o);Lt(u,t.memoizedState)||(ht=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,s]}function Fc(){}function Mc(e,t){var r=Be,s=Rt(),o=t(),u=!Lt(s.memoizedState,o);if(u&&(s.memoizedState=o,ht=!0),s=s.queue,Qa(Uc.bind(null,r,s,e),[e]),s.getSnapshot!==t||u||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,ts(9,zc.bind(null,r,s,o,t),void 0,null),Ze===null)throw Error(i(349));(Mn&30)!==0||Ic(r,t,o)}return o}function Ic(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zc(e,t,r,s){t.value=r,t.getSnapshot=s,$c(t)&&Bc(e)}function Uc(e,t,r){return r(function(){$c(t)&&Bc(e)})}function $c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lt(e,r)}catch{return!0}}function Bc(e){var t=Jt(e,1);t!==null&&zt(t,e,1,-1)}function Hc(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},t.queue=e,e=e.dispatch=Vm.bind(null,Be,e),[t.memoizedState,e]}function ts(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Vc(){return Rt().memoizedState}function tl(e,t,r,s){var o=Wt();Be.flags|=e,o.memoizedState=ts(1|t,r,void 0,s===void 0?null:s)}function nl(e,t,r,s){var o=Rt();s=s===void 0?null:s;var u=void 0;if(Ye!==null){var p=Ye.memoizedState;if(u=p.destroy,s!==null&&Va(s,p.deps)){o.memoizedState=ts(t,r,u,s);return}}Be.flags|=e,o.memoizedState=ts(1|t,r,u,s)}function Wc(e,t){return tl(8390656,8,e,t)}function Qa(e,t){return nl(2048,8,e,t)}function Kc(e,t){return nl(4,2,e,t)}function qc(e,t){return nl(4,4,e,t)}function Gc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qc(e,t,r){return r=r!=null?r.concat([e]):null,nl(4,4,Gc.bind(null,t,e),r)}function Ya(){}function Yc(e,t){var r=Rt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Va(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Xc(e,t){var r=Rt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Va(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Jc(e,t,r){return(Mn&21)===0?(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=r):(Lt(r,t)||(r=Eo(),Be.lanes|=r,In|=r,e.baseState=!0),t)}function Bm(e,t){var r=Le;Le=r!==0&&4>r?r:4,e(!0);var s=Ha.transition;Ha.transition={};try{e(!1),t()}finally{Le=r,Ha.transition=s}}function Zc(){return Rt().memoizedState}function Hm(e,t,r){var s=wn(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},eu(e))tu(t,r);else if(r=Tc(e,t,r,s),r!==null){var o=dt();zt(r,e,s,o),nu(r,t,s)}}function Vm(e,t,r){var s=wn(e),o={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(eu(e))tu(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,w=u(p,r);if(o.hasEagerState=!0,o.eagerState=w,Lt(w,p)){var C=t.interleaved;C===null?(o.next=o,Ma(t)):(o.next=C.next,C.next=o),t.interleaved=o;return}}catch{}finally{}r=Tc(e,t,o,s),r!==null&&(o=dt(),zt(r,e,s,o),nu(r,t,s))}}function eu(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function tu(e,t){Jr=el=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nu(e,t,r){if((r&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Jl(e,r)}}var rl={readContext:Et,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},Wm={readContext:Et,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:Wc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,tl(4194308,4,Gc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return tl(4,2,e,t)},useMemo:function(e,t){var r=Wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Wt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Hm.bind(null,Be,e),[s.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Hc,useDebugValue:Ya,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Hc(!1),t=e[0];return e=Bm.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Be,o=Wt();if(Ue){if(r===void 0)throw Error(i(407));r=r()}else{if(r=t(),Ze===null)throw Error(i(349));(Mn&30)!==0||Ic(s,t,r)}o.memoizedState=r;var u={value:r,getSnapshot:t};return o.queue=u,Wc(Uc.bind(null,s,u,e),[e]),s.flags|=2048,ts(9,zc.bind(null,s,u,r,t),void 0,null),r},useId:function(){var e=Wt(),t=Ze.identifierPrefix;if(Ue){var r=Xt,s=Yt;r=(s&~(1<<32-At(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zr++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$m++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Km={readContext:Et,useCallback:Yc,useContext:Et,useEffect:Qa,useImperativeHandle:Qc,useInsertionEffect:Kc,useLayoutEffect:qc,useMemo:Xc,useReducer:qa,useRef:Vc,useState:function(){return qa(es)},useDebugValue:Ya,useDeferredValue:function(e){var t=Rt();return Jc(t,Ye.memoizedState,e)},useTransition:function(){var e=qa(es)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Fc,useSyncExternalStore:Mc,useId:Zc,unstable_isNewReconciler:!1},qm={readContext:Et,useCallback:Yc,useContext:Et,useEffect:Qa,useImperativeHandle:Qc,useInsertionEffect:Kc,useLayoutEffect:qc,useMemo:Xc,useReducer:Ga,useRef:Vc,useState:function(){return Ga(es)},useDebugValue:Ya,useDeferredValue:function(e){var t=Rt();return Ye===null?t.memoizedState=e:Jc(t,Ye.memoizedState,e)},useTransition:function(){var e=Ga(es)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Fc,useSyncExternalStore:Mc,useId:Zc,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=z({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Xa(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:z({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sl={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=dt(),o=wn(e),u=Zt(s,o);u.payload=t,r!=null&&(u.callback=r),t=gn(e,u,o),t!==null&&(zt(t,e,o,s),Ys(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=dt(),o=wn(e),u=Zt(s,o);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=gn(e,u,o),t!==null&&(zt(t,e,o,s),Ys(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dt(),s=wn(e),o=Zt(r,s);o.tag=2,t!=null&&(o.callback=t),t=gn(e,o,s),t!==null&&(zt(t,e,s,r),Ys(t,e,s))}};function ru(e,t,r,s,o,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,p):t.prototype&&t.prototype.isPureReactComponent?!$r(r,s)||!$r(o,u):!0}function su(e,t,r){var s=!1,o=pn,u=t.contextType;return typeof u=="object"&&u!==null?u=Et(u):(o=pt(t)?On:lt.current,s=t.contextTypes,u=(s=s!=null)?sr(e,o):pn),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=u),t}function lu(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&sl.enqueueReplaceState(t,t.state,null)}function Ja(e,t,r,s){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Ia(e);var u=t.contextType;typeof u=="object"&&u!==null?o.context=Et(u):(u=pt(t)?On:lt.current,o.context=sr(e,u)),o.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Xa(e,t,u,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&sl.enqueueReplaceState(o,o.state,null),Xs(e,r,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function fr(e,t){try{var r="",s=t;do r+=Ne(s),s=s.return;while(s);var o=r}catch(u){o=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:o,digest:null}}function Za(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ei(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Gm=typeof WeakMap=="function"?WeakMap:Map;function au(e,t,r){r=Zt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){dl||(dl=!0,hi=s),ei(e,t)},r}function iu(e,t,r){r=Zt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;r.payload=function(){return s(o)},r.callback=function(){ei(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){ei(e,t),typeof s!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function ou(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Gm;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(r)||(o.add(r),e=op.bind(null,e,t,r),t.then(e,e))}function cu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uu(e,t,r,s,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Zt(-1,1),t.tag=2,gn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Qm=B.ReactCurrentOwner,ht=!1;function ut(e,t,r,s){t.child=e===null?Pc(t,null,r,s):or(t,e.child,r,s)}function du(e,t,r,s,o){r=r.render;var u=t.ref;return ur(t,o),s=Wa(e,t,r,s,u,o),r=Ka(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,en(e,t,o)):(Ue&&r&&Ea(t),t.flags|=1,ut(e,t,s,o),t.child)}function fu(e,t,r,s,o){if(e===null){var u=r.type;return typeof u=="function"&&!Ni(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,mu(e,t,u,s,o)):(e=gl(r.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&o)===0){var p=u.memoizedProps;if(r=r.compare,r=r!==null?r:$r,r(p,s)&&e.ref===t.ref)return en(e,t,o)}return t.flags|=1,e=bn(u,s),e.ref=t.ref,e.return=t,t.child=e}function mu(e,t,r,s,o){if(e!==null){var u=e.memoizedProps;if($r(u,s)&&e.ref===t.ref)if(ht=!1,t.pendingProps=s=u,(e.lanes&o)!==0)(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,en(e,t,o)}return ti(e,t,r,s,o)}function pu(e,t,r){var s=t.pendingProps,o=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(pr,St),St|=r;else{if((r&1073741824)===0)return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(pr,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:r,Me(pr,St),St|=s}else u!==null?(s=u.baseLanes|r,t.memoizedState=null):s=r,Me(pr,St),St|=s;return ut(e,t,o,r),t.child}function hu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ti(e,t,r,s,o){var u=pt(r)?On:lt.current;return u=sr(t,u),ur(t,o),r=Wa(e,t,r,s,u,o),s=Ka(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,en(e,t,o)):(Ue&&s&&Ea(t),t.flags|=1,ut(e,t,r,o),t.child)}function xu(e,t,r,s,o){if(pt(r)){var u=!0;Bs(t)}else u=!1;if(ur(t,o),t.stateNode===null)al(e,t),su(t,r,s),Ja(t,r,s,o),s=!0;else if(e===null){var p=t.stateNode,w=t.memoizedProps;p.props=w;var C=p.context,F=r.contextType;typeof F=="object"&&F!==null?F=Et(F):(F=pt(r)?On:lt.current,F=sr(t,F));var G=r.getDerivedStateFromProps,Y=typeof G=="function"||typeof p.getSnapshotBeforeUpdate=="function";Y||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==s||C!==F)&&lu(t,p,s,F),xn=!1;var q=t.memoizedState;p.state=q,Xs(t,s,p,o),C=t.memoizedState,w!==s||q!==C||mt.current||xn?(typeof G=="function"&&(Xa(t,r,G,s),C=t.memoizedState),(w=xn||ru(t,r,w,s,q,C,F))?(Y||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=C),p.props=s,p.state=C,p.context=F,s=w):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,Oc(e,t),w=t.memoizedProps,F=t.type===t.elementType?w:Ft(t.type,w),p.props=F,Y=t.pendingProps,q=p.context,C=r.contextType,typeof C=="object"&&C!==null?C=Et(C):(C=pt(r)?On:lt.current,C=sr(t,C));var se=r.getDerivedStateFromProps;(G=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==Y||q!==C)&&lu(t,p,s,C),xn=!1,q=t.memoizedState,p.state=q,Xs(t,s,p,o);var de=t.memoizedState;w!==Y||q!==de||mt.current||xn?(typeof se=="function"&&(Xa(t,r,se,s),de=t.memoizedState),(F=xn||ru(t,r,F,s,q,de,C)||!1)?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,de,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,de,C)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=de),p.props=s,p.state=de,p.context=C,s=F):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),s=!1)}return ni(e,t,r,s,u,o)}function ni(e,t,r,s,o,u){hu(e,t);var p=(t.flags&128)!==0;if(!s&&!p)return o&&wc(t,r,!1),en(e,t,u);s=t.stateNode,Qm.current=t;var w=p&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&p?(t.child=or(t,e.child,null,u),t.child=or(t,null,w,u)):ut(e,t,w,u),t.memoizedState=s.state,o&&wc(t,r,!0),t.child}function gu(e){var t=e.stateNode;t.pendingContext?vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vc(e,t.context,!1),za(e,t.containerInfo)}function yu(e,t,r,s,o){return ir(),Oa(o),t.flags|=256,ut(e,t,r,s),t.child}var ri={dehydrated:null,treeContext:null,retryLane:0};function si(e){return{baseLanes:e,cachePool:null,transitions:null}}function vu(e,t,r){var s=t.pendingProps,o=$e.current,u=!1,p=(t.flags&128)!==0,w;if((w=p)||(w=e!==null&&e.memoizedState===null?!1:(o&2)!==0),w?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Me($e,o&1),e===null)return Ta(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=s.children,e=s.fallback,u?(s=t.mode,u=t.child,p={mode:"hidden",children:p},(s&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=p):u=yl(p,s,0,null),e=Bn(e,s,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=si(r),t.memoizedState=ri,e):li(t,p));if(o=e.memoizedState,o!==null&&(w=o.dehydrated,w!==null))return Ym(e,t,p,s,w,o,r);if(u){u=s.fallback,p=t.mode,o=e.child,w=o.sibling;var C={mode:"hidden",children:s.children};return(p&1)===0&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=C,t.deletions=null):(s=bn(o,C),s.subtreeFlags=o.subtreeFlags&14680064),w!==null?u=bn(w,u):(u=Bn(u,p,r,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,p=e.child.memoizedState,p=p===null?si(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},u.memoizedState=p,u.childLanes=e.childLanes&~r,t.memoizedState=ri,s}return u=e.child,e=u.sibling,s=bn(u,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function li(e,t){return t=yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ll(e,t,r,s){return s!==null&&Oa(s),or(t,e.child,null,r),e=li(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ym(e,t,r,s,o,u,p){if(r)return t.flags&256?(t.flags&=-257,s=Za(Error(i(422))),ll(e,t,p,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,o=t.mode,s=yl({mode:"visible",children:s.children},o,0,null),u=Bn(u,o,p,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,(t.mode&1)!==0&&or(t,e.child,null,p),t.child.memoizedState=si(p),t.memoizedState=ri,u);if((t.mode&1)===0)return ll(e,t,p,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var w=s.dgst;return s=w,u=Error(i(419)),s=Za(u,s,void 0),ll(e,t,p,s)}if(w=(p&e.childLanes)!==0,ht||w){if(s=Ze,s!==null){switch(p&-p){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(s.suspendedLanes|p))!==0?0:o,o!==0&&o!==u.retryLane&&(u.retryLane=o,Jt(e,o),zt(s,e,o,-1))}return wi(),s=Za(Error(i(421))),ll(e,t,p,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=cp.bind(null,e),o._reactRetry=t,null):(e=u.treeContext,bt=fn(o.nextSibling),Nt=t,Ue=!0,Dt=null,e!==null&&(Ct[kt++]=Yt,Ct[kt++]=Xt,Ct[kt++]=An,Yt=e.id,Xt=e.overflow,An=t),t=li(t,s.children),t.flags|=4096,t)}function ju(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Fa(e.return,t,r)}function ai(e,t,r,s,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=r,u.tailMode=o)}function wu(e,t,r){var s=t.pendingProps,o=s.revealOrder,u=s.tail;if(ut(e,t,s.children,r),s=$e.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ju(e,r,t);else if(e.tag===19)ju(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Me($e,s),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&Js(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),ai(t,!1,o,r,u);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Js(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}ai(t,!0,r,null,u);break;case"together":ai(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function al(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,r=bn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Xm(e,t,r){switch(t.tag){case 3:gu(t),ir();break;case 5:Dc(t);break;case 1:pt(t.type)&&Bs(t);break;case 4:za(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;Me(Gs,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Me($e,$e.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?vu(e,t,r):(Me($e,$e.current&1),e=en(e,t,r),e!==null?e.sibling:null);Me($e,$e.current&1);break;case 19:if(s=(r&t.childLanes)!==0,(e.flags&128)!==0){if(s)return wu(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Me($e,$e.current),s)break;return null;case 22:case 23:return t.lanes=0,pu(e,t,r)}return en(e,t,r)}var Nu,ii,bu,Su;Nu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ii=function(){},bu=function(e,t,r,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,Fn(Vt.current);var u=null;switch(r){case"input":o=J(e,o),s=J(e,s),u=[];break;case"select":o=z({},o,{value:void 0}),s=z({},s,{value:void 0}),u=[];break;case"textarea":o=sn(e,o),s=sn(e,s),u=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=zs)}$l(r,s);var p;r=null;for(F in o)if(!s.hasOwnProperty(F)&&o.hasOwnProperty(F)&&o[F]!=null)if(F==="style"){var w=o[F];for(p in w)w.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(d.hasOwnProperty(F)?u||(u=[]):(u=u||[]).push(F,null));for(F in s){var C=s[F];if(w=o?.[F],s.hasOwnProperty(F)&&C!==w&&(C!=null||w!=null))if(F==="style")if(w){for(p in w)!w.hasOwnProperty(p)||C&&C.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in C)C.hasOwnProperty(p)&&w[p]!==C[p]&&(r||(r={}),r[p]=C[p])}else r||(u||(u=[]),u.push(F,r)),r=C;else F==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(u=u||[]).push(F,C)):F==="children"?typeof C!="string"&&typeof C!="number"||(u=u||[]).push(F,""+C):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(d.hasOwnProperty(F)?(C!=null&&F==="onScroll"&&Ie("scroll",e),u||w===C||(u=[])):(u=u||[]).push(F,C))}r&&(u=u||[]).push("style",r);var F=u;(t.updateQueue=F)&&(t.flags|=4)}},Su=function(e,t,r,s){r!==s&&(t.flags|=4)};function ns(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Jm(e,t,r){var s=t.pendingProps;switch(Ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return pt(t.type)&&$s(),it(t),null;case 3:return s=t.stateNode,dr(),ze(mt),ze(lt),Ba(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ks(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dt!==null&&(yi(Dt),Dt=null))),ii(e,t),it(t),null;case 5:Ua(t);var o=Fn(Xr.current);if(r=t.type,e!==null&&t.stateNode!=null)bu(e,t,r,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return it(t),null}if(e=Fn(Vt.current),Ks(t)){s=t.stateNode,r=t.type;var u=t.memoizedProps;switch(s[Ht]=t,s[Kr]=u,e=(t.mode&1)!==0,r){case"dialog":Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":case"embed":Ie("load",s);break;case"video":case"audio":for(o=0;o<Hr.length;o++)Ie(Hr[o],s);break;case"source":Ie("error",s);break;case"img":case"image":case"link":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"input":Qe(s,u),Ie("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},Ie("invalid",s);break;case"textarea":xs(s,u),Ie("invalid",s)}$l(r,u),o=null;for(var p in u)if(u.hasOwnProperty(p)){var w=u[p];p==="children"?typeof w=="string"?s.textContent!==w&&(u.suppressHydrationWarning!==!0&&Is(s.textContent,w,e),o=["children",w]):typeof w=="number"&&s.textContent!==""+w&&(u.suppressHydrationWarning!==!0&&Is(s.textContent,w,e),o=["children",""+w]):d.hasOwnProperty(p)&&w!=null&&p==="onScroll"&&Ie("scroll",s)}switch(r){case"input":V(s),T(s,u,!0);break;case"textarea":V(s),oo(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=zs)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{p=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=co(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=p.createElement(r,{is:s.is}):(e=p.createElement(r),r==="select"&&(p=e,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):e=p.createElementNS(e,r),e[Ht]=t,e[Kr]=s,Nu(e,t,!1,!1),t.stateNode=e;e:{switch(p=Bl(r,s),r){case"dialog":Ie("cancel",e),Ie("close",e),o=s;break;case"iframe":case"object":case"embed":Ie("load",e),o=s;break;case"video":case"audio":for(o=0;o<Hr.length;o++)Ie(Hr[o],e);o=s;break;case"source":Ie("error",e),o=s;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),o=s;break;case"details":Ie("toggle",e),o=s;break;case"input":Qe(e,s),o=J(e,s),Ie("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=z({},s,{value:void 0}),Ie("invalid",e);break;case"textarea":xs(e,s),o=sn(e,s),Ie("invalid",e);break;default:o=s}$l(r,o),w=o;for(u in w)if(w.hasOwnProperty(u)){var C=w[u];u==="style"?mo(e,C):u==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&uo(e,C)):u==="children"?typeof C=="string"?(r!=="textarea"||C!=="")&&Sr(e,C):typeof C=="number"&&Sr(e,""+C):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(d.hasOwnProperty(u)?C!=null&&u==="onScroll"&&Ie("scroll",e):C!=null&&Q(e,u,C,p))}switch(r){case"input":V(e),T(e,s,!1);break;case"textarea":V(e),oo(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ce(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?Ot(e,!!s.multiple,u,!1):s.defaultValue!=null&&Ot(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=zs)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)Su(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(r=Fn(Xr.current),Fn(Vt.current),Ks(t)){if(s=t.stateNode,r=t.memoizedProps,s[Ht]=t,(u=s.nodeValue!==r)&&(e=Nt,e!==null))switch(e.tag){case 3:Is(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(s.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Ht]=t,t.stateNode=s}return it(t),null;case 13:if(ze($e),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&bt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)kc(),ir(),t.flags|=98560,u=!1;else if(u=Ks(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Ht]=t}else ir(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),u=!1}else Dt!==null&&(yi(Dt),Dt=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||($e.current&1)!==0?Xe===0&&(Xe=3):wi())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return dr(),ii(e,t),e===null&&Vr(t.stateNode.containerInfo),it(t),null;case 10:return Da(t.type._context),it(t),null;case 17:return pt(t.type)&&$s(),it(t),null;case 19:if(ze($e),u=t.memoizedState,u===null)return it(t),null;if(s=(t.flags&128)!==0,p=u.rendering,p===null)if(s)ns(u,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Js(e),p!==null){for(t.flags|=128,ns(u,!1),s=p.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)u=r,e=s,u.flags&=14680066,p=u.alternate,p===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,e=p.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Me($e,$e.current&1|2),t.child}e=e.sibling}u.tail!==null&&We()>hr&&(t.flags|=128,s=!0,ns(u,!1),t.lanes=4194304)}else{if(!s)if(e=Js(p),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ns(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ue)return it(t),null}else 2*We()-u.renderingStartTime>hr&&r!==1073741824&&(t.flags|=128,s=!0,ns(u,!1),t.lanes=4194304);u.isBackwards?(p.sibling=t.child,t.child=p):(r=u.last,r!==null?r.sibling=p:t.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=We(),t.sibling=null,r=$e.current,Me($e,s?r&1|2:r&1),t):(it(t),null);case 22:case 23:return ji(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(St&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Zm(e,t){switch(Ra(t),t.tag){case 1:return pt(t.type)&&$s(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dr(),ze(mt),ze(lt),Ba(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ua(t),null;case 13:if(ze($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze($e),null;case 4:return dr(),null;case 10:return Da(t.type._context),null;case 22:case 23:return ji(),null;case 24:return null;default:return null}}var il=!1,ot=!1,ep=typeof WeakSet=="function"?WeakSet:Set,ue=null;function mr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ve(e,t,s)}else r.current=null}function oi(e,t,r){try{r()}catch(s){Ve(e,t,s)}}var _u=!1;function tp(e,t){if(ja=ks,e=rc(),fa(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var p=0,w=-1,C=-1,F=0,G=0,Y=e,q=null;t:for(;;){for(var se;Y!==r||o!==0&&Y.nodeType!==3||(w=p+o),Y!==u||s!==0&&Y.nodeType!==3||(C=p+s),Y.nodeType===3&&(p+=Y.nodeValue.length),(se=Y.firstChild)!==null;)q=Y,Y=se;for(;;){if(Y===e)break t;if(q===r&&++F===o&&(w=p),q===u&&++G===s&&(C=p),(se=Y.nextSibling)!==null)break;Y=q,q=Y.parentNode}Y=se}r=w===-1||C===-1?null:{start:w,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(wa={focusedElem:e,selectionRange:r},ks=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var de=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,Ke=de.memoizedState,O=t.stateNode,R=O.getSnapshotBeforeUpdate(t.elementType===t.type?pe:Ft(t.type,pe),Ke);O.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(X){Ve(t,t.return,X)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return de=_u,_u=!1,de}function rs(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var u=o.destroy;o.destroy=void 0,u!==void 0&&oi(t,r,u)}o=o.next}while(o!==s)}}function ol(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function ci(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Cu(e){var t=e.alternate;t!==null&&(e.alternate=null,Cu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[Kr],delete t[_a],delete t[Mm],delete t[Im])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ku(e){return e.tag===5||e.tag===3||e.tag===4}function Eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ku(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ui(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zs));else if(s!==4&&(e=e.child,e!==null))for(ui(e,t,r),e=e.sibling;e!==null;)ui(e,t,r),e=e.sibling}function di(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(di(e,t,r),e=e.sibling;e!==null;)di(e,t,r),e=e.sibling}var tt=null,Mt=!1;function yn(e,t,r){for(r=r.child;r!==null;)Ru(e,t,r),r=r.sibling}function Ru(e,t,r){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ws,r)}catch{}switch(r.tag){case 5:ot||mr(r,t);case 6:var s=tt,o=Mt;tt=null,yn(e,t,r),tt=s,Mt=o,tt!==null&&(Mt?(e=tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tt.removeChild(r.stateNode));break;case 18:tt!==null&&(Mt?(e=tt,r=r.stateNode,e.nodeType===8?Sa(e.parentNode,r):e.nodeType===1&&Sa(e,r),Dr(e)):Sa(tt,r.stateNode));break;case 4:s=tt,o=Mt,tt=r.stateNode.containerInfo,Mt=!0,yn(e,t,r),tt=s,Mt=o;break;case 0:case 11:case 14:case 15:if(!ot&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var u=o,p=u.destroy;u=u.tag,p!==void 0&&((u&2)!==0||(u&4)!==0)&&oi(r,t,p),o=o.next}while(o!==s)}yn(e,t,r);break;case 1:if(!ot&&(mr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(w){Ve(r,t,w)}yn(e,t,r);break;case 21:yn(e,t,r);break;case 22:r.mode&1?(ot=(s=ot)||r.memoizedState!==null,yn(e,t,r),ot=s):yn(e,t,r);break;default:yn(e,t,r)}}function Pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ep),t.forEach(function(s){var o=up.bind(null,e,s);r.has(s)||(r.add(s),s.then(o,o))})}}function It(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];try{var u=e,p=t,w=p;e:for(;w!==null;){switch(w.tag){case 5:tt=w.stateNode,Mt=!1;break e;case 3:tt=w.stateNode.containerInfo,Mt=!0;break e;case 4:tt=w.stateNode.containerInfo,Mt=!0;break e}w=w.return}if(tt===null)throw Error(i(160));Ru(u,p,o),tt=null,Mt=!1;var C=o.alternate;C!==null&&(C.return=null),o.return=null}catch(F){Ve(o,t,F)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tu(t,e),t=t.sibling}function Tu(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),Kt(e),s&4){try{rs(3,e,e.return),ol(3,e)}catch(pe){Ve(e,e.return,pe)}try{rs(5,e,e.return)}catch(pe){Ve(e,e.return,pe)}}break;case 1:It(t,e),Kt(e),s&512&&r!==null&&mr(r,r.return);break;case 5:if(It(t,e),Kt(e),s&512&&r!==null&&mr(r,r.return),e.flags&32){var o=e.stateNode;try{Sr(o,"")}catch(pe){Ve(e,e.return,pe)}}if(s&4&&(o=e.stateNode,o!=null)){var u=e.memoizedProps,p=r!==null?r.memoizedProps:u,w=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{w==="input"&&u.type==="radio"&&u.name!=null&&ye(o,u),Bl(w,p);var F=Bl(w,u);for(p=0;p<C.length;p+=2){var G=C[p],Y=C[p+1];G==="style"?mo(o,Y):G==="dangerouslySetInnerHTML"?uo(o,Y):G==="children"?Sr(o,Y):Q(o,G,Y,F)}switch(w){case"input":st(o,u);break;case"textarea":Kn(o,u);break;case"select":var q=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!u.multiple;var se=u.value;se!=null?Ot(o,!!u.multiple,se,!1):q!==!!u.multiple&&(u.defaultValue!=null?Ot(o,!!u.multiple,u.defaultValue,!0):Ot(o,!!u.multiple,u.multiple?[]:"",!1))}o[Kr]=u}catch(pe){Ve(e,e.return,pe)}}break;case 6:if(It(t,e),Kt(e),s&4){if(e.stateNode===null)throw Error(i(162));o=e.stateNode,u=e.memoizedProps;try{o.nodeValue=u}catch(pe){Ve(e,e.return,pe)}}break;case 3:if(It(t,e),Kt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(pe){Ve(e,e.return,pe)}break;case 4:It(t,e),Kt(e);break;case 13:It(t,e),Kt(e),o=e.child,o.flags&8192&&(u=o.memoizedState!==null,o.stateNode.isHidden=u,!u||o.alternate!==null&&o.alternate.memoizedState!==null||(pi=We())),s&4&&Pu(e);break;case 22:if(G=r!==null&&r.memoizedState!==null,e.mode&1?(ot=(F=ot)||G,It(t,e),ot=F):It(t,e),Kt(e),s&8192){if(F=e.memoizedState!==null,(e.stateNode.isHidden=F)&&!G&&(e.mode&1)!==0)for(ue=e,G=e.child;G!==null;){for(Y=ue=G;ue!==null;){switch(q=ue,se=q.child,q.tag){case 0:case 11:case 14:case 15:rs(4,q,q.return);break;case 1:mr(q,q.return);var de=q.stateNode;if(typeof de.componentWillUnmount=="function"){s=q,r=q.return;try{t=s,de.props=t.memoizedProps,de.state=t.memoizedState,de.componentWillUnmount()}catch(pe){Ve(s,r,pe)}}break;case 5:mr(q,q.return);break;case 22:if(q.memoizedState!==null){Lu(Y);continue}}se!==null?(se.return=q,ue=se):Lu(Y)}G=G.sibling}e:for(G=null,Y=e;;){if(Y.tag===5){if(G===null){G=Y;try{o=Y.stateNode,F?(u=o.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(w=Y.stateNode,C=Y.memoizedProps.style,p=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=fo("display",p))}catch(pe){Ve(e,e.return,pe)}}}else if(Y.tag===6){if(G===null)try{Y.stateNode.nodeValue=F?"":Y.memoizedProps}catch(pe){Ve(e,e.return,pe)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===e)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===e)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===e)break e;G===Y&&(G=null),Y=Y.return}G===Y&&(G=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:It(t,e),Kt(e),s&4&&Pu(e);break;case 21:break;default:It(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ku(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(Sr(o,""),s.flags&=-33);var u=Eu(e);di(e,u,o);break;case 3:case 4:var p=s.stateNode.containerInfo,w=Eu(e);ui(e,w,p);break;default:throw Error(i(161))}}catch(C){Ve(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function np(e,t,r){ue=e,Ou(e)}function Ou(e,t,r){for(var s=(e.mode&1)!==0;ue!==null;){var o=ue,u=o.child;if(o.tag===22&&s){var p=o.memoizedState!==null||il;if(!p){var w=o.alternate,C=w!==null&&w.memoizedState!==null||ot;w=il;var F=ot;if(il=p,(ot=C)&&!F)for(ue=o;ue!==null;)p=ue,C=p.child,p.tag===22&&p.memoizedState!==null?Du(o):C!==null?(C.return=p,ue=C):Du(o);for(;u!==null;)ue=u,Ou(u),u=u.sibling;ue=o,il=w,ot=F}Au(e)}else(o.subtreeFlags&8772)!==0&&u!==null?(u.return=o,ue=u):Au(e)}}function Au(e){for(;ue!==null;){var t=ue;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||ol(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!ot)if(r===null)s.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Ft(t.type,r.memoizedProps);s.componentDidUpdate(o,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Lc(t,u,s);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Lc(t,p,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&r.focus();break;case"img":C.src&&(r.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var F=t.alternate;if(F!==null){var G=F.memoizedState;if(G!==null){var Y=G.dehydrated;Y!==null&&Dr(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}ot||t.flags&512&&ci(t)}catch(q){Ve(t,t.return,q)}}if(t===e){ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}function Lu(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ue=r;break}ue=t.return}}function Du(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ol(4,t)}catch(C){Ve(t,r,C)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(C){Ve(t,o,C)}}var u=t.return;try{ci(t)}catch(C){Ve(t,u,C)}break;case 5:var p=t.return;try{ci(t)}catch(C){Ve(t,p,C)}}}catch(C){Ve(t,t.return,C)}if(t===e){ue=null;break}var w=t.sibling;if(w!==null){w.return=t.return,ue=w;break}ue=t.return}}var rp=Math.ceil,cl=B.ReactCurrentDispatcher,fi=B.ReactCurrentOwner,Pt=B.ReactCurrentBatchConfig,Pe=0,Ze=null,Ge=null,nt=0,St=0,pr=mn(0),Xe=0,ss=null,In=0,ul=0,mi=0,ls=null,xt=null,pi=0,hr=1/0,tn=null,dl=!1,hi=null,vn=null,fl=!1,jn=null,ml=0,as=0,xi=null,pl=-1,hl=0;function dt(){return(Pe&6)!==0?We():pl!==-1?pl:pl=We()}function wn(e){return(e.mode&1)===0?1:(Pe&2)!==0&&nt!==0?nt&-nt:Um.transition!==null?(hl===0&&(hl=Eo()),hl):(e=Le,e!==0||(e=window.event,e=e===void 0?16:Mo(e.type)),e)}function zt(e,t,r,s){if(50<as)throw as=0,xi=null,Error(i(185));Pr(e,r,s),((Pe&2)===0||e!==Ze)&&(e===Ze&&((Pe&2)===0&&(ul|=r),Xe===4&&Nn(e,nt)),gt(e,s),r===1&&Pe===0&&(t.mode&1)===0&&(hr=We()+500,Hs&&hn()))}function gt(e,t){var r=e.callbackNode;Uf(e,t);var s=Ss(e,e===Ze?nt:0);if(s===0)r!==null&&_o(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&_o(r),t===1)e.tag===0?zm(Mu.bind(null,e)):Nc(Mu.bind(null,e)),Dm(function(){(Pe&6)===0&&hn()}),r=null;else{switch(Ro(s)){case 1:r=Ql;break;case 4:r=Co;break;case 16:r=js;break;case 536870912:r=ko;break;default:r=js}r=Wu(r,Fu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Fu(e,t){if(pl=-1,hl=0,(Pe&6)!==0)throw Error(i(327));var r=e.callbackNode;if(xr()&&e.callbackNode!==r)return null;var s=Ss(e,e===Ze?nt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=xl(e,s);else{t=s;var o=Pe;Pe|=2;var u=zu();(Ze!==e||nt!==t)&&(tn=null,hr=We()+500,Un(e,t));do try{ap();break}catch(w){Iu(e,w)}while(!0);La(),cl.current=u,Pe=o,Ge!==null?t=0:(Ze=null,nt=0,t=Xe)}if(t!==0){if(t===2&&(o=Yl(e),o!==0&&(s=o,t=gi(e,o))),t===1)throw r=ss,Un(e,0),Nn(e,s),gt(e,We()),r;if(t===6)Nn(e,s);else{if(o=e.current.alternate,(s&30)===0&&!sp(o)&&(t=xl(e,s),t===2&&(u=Yl(e),u!==0&&(s=u,t=gi(e,u))),t===1))throw r=ss,Un(e,0),Nn(e,s),gt(e,We()),r;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:$n(e,xt,tn);break;case 3:if(Nn(e,s),(s&130023424)===s&&(t=pi+500-We(),10<t)){if(Ss(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){dt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ba($n.bind(null,e,xt,tn),t);break}$n(e,xt,tn);break;case 4:if(Nn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var p=31-At(s);u=1<<p,p=t[p],p>o&&(o=p),s&=~u}if(s=o,s=We()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*rp(s/1960))-s,10<s){e.timeoutHandle=ba($n.bind(null,e,xt,tn),s);break}$n(e,xt,tn);break;case 5:$n(e,xt,tn);break;default:throw Error(i(329))}}}return gt(e,We()),e.callbackNode===r?Fu.bind(null,e):null}function gi(e,t){var r=ls;return e.current.memoizedState.isDehydrated&&(Un(e,t).flags|=256),e=xl(e,t),e!==2&&(t=xt,xt=r,t!==null&&yi(t)),e}function yi(e){xt===null?xt=e:xt.push.apply(xt,e)}function sp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var o=r[s],u=o.getSnapshot;o=o.value;try{if(!Lt(u(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nn(e,t){for(t&=~mi,t&=~ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-At(t),s=1<<r;e[r]=-1,t&=~s}}function Mu(e){if((Pe&6)!==0)throw Error(i(327));xr();var t=Ss(e,0);if((t&1)===0)return gt(e,We()),null;var r=xl(e,t);if(e.tag!==0&&r===2){var s=Yl(e);s!==0&&(t=s,r=gi(e,s))}if(r===1)throw r=ss,Un(e,0),Nn(e,t),gt(e,We()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,xt,tn),gt(e,We()),null}function vi(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(hr=We()+500,Hs&&hn())}}function zn(e){jn!==null&&jn.tag===0&&(Pe&6)===0&&xr();var t=Pe;Pe|=1;var r=Pt.transition,s=Le;try{if(Pt.transition=null,Le=1,e)return e()}finally{Le=s,Pt.transition=r,Pe=t,(Pe&6)===0&&hn()}}function ji(){St=pr.current,ze(pr)}function Un(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Lm(r)),Ge!==null)for(r=Ge.return;r!==null;){var s=r;switch(Ra(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$s();break;case 3:dr(),ze(mt),ze(lt),Ba();break;case 5:Ua(s);break;case 4:dr();break;case 13:ze($e);break;case 19:ze($e);break;case 10:Da(s.type._context);break;case 22:case 23:ji()}r=r.return}if(Ze=e,Ge=e=bn(e.current,null),nt=St=t,Xe=0,ss=null,mi=ul=In=0,xt=ls=null,Dn!==null){for(t=0;t<Dn.length;t++)if(r=Dn[t],s=r.interleaved,s!==null){r.interleaved=null;var o=s.next,u=r.pending;if(u!==null){var p=u.next;u.next=o,s.next=p}r.pending=s}Dn=null}return e}function Iu(e,t){do{var r=Ge;try{if(La(),Zs.current=rl,el){for(var s=Be.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}el=!1}if(Mn=0,Je=Ye=Be=null,Jr=!1,Zr=0,fi.current=null,r===null||r.return===null){Xe=1,ss=t,Ge=null;break}e:{var u=e,p=r.return,w=r,C=t;if(t=nt,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=C,G=w,Y=G.tag;if((G.mode&1)===0&&(Y===0||Y===11||Y===15)){var q=G.alternate;q?(G.updateQueue=q.updateQueue,G.memoizedState=q.memoizedState,G.lanes=q.lanes):(G.updateQueue=null,G.memoizedState=null)}var se=cu(p);if(se!==null){se.flags&=-257,uu(se,p,w,u,t),se.mode&1&&ou(u,F,t),t=se,C=F;var de=t.updateQueue;if(de===null){var pe=new Set;pe.add(C),t.updateQueue=pe}else de.add(C);break e}else{if((t&1)===0){ou(u,F,t),wi();break e}C=Error(i(426))}}else if(Ue&&w.mode&1){var Ke=cu(p);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),uu(Ke,p,w,u,t),Oa(fr(C,w));break e}}u=C=fr(C,w),Xe!==4&&(Xe=2),ls===null?ls=[u]:ls.push(u),u=p;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var O=au(u,C,t);Ac(u,O);break e;case 1:w=C;var R=u.type,L=u.stateNode;if((u.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(vn===null||!vn.has(L)))){u.flags|=65536,t&=-t,u.lanes|=t;var X=iu(u,w,t);Ac(u,X);break e}}u=u.return}while(u!==null)}$u(r)}catch(he){t=he,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(!0)}function zu(){var e=cl.current;return cl.current=rl,e===null?rl:e}function wi(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),Ze===null||(In&268435455)===0&&(ul&268435455)===0||Nn(Ze,nt)}function xl(e,t){var r=Pe;Pe|=2;var s=zu();(Ze!==e||nt!==t)&&(tn=null,Un(e,t));do try{lp();break}catch(o){Iu(e,o)}while(!0);if(La(),Pe=r,cl.current=s,Ge!==null)throw Error(i(261));return Ze=null,nt=0,Xe}function lp(){for(;Ge!==null;)Uu(Ge)}function ap(){for(;Ge!==null&&!Tf();)Uu(Ge)}function Uu(e){var t=Vu(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?$u(e):Ge=t,fi.current=null}function $u(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Jm(r,t,St),r!==null){Ge=r;return}}else{if(r=Zm(r,t),r!==null){r.flags&=32767,Ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Ge=null;return}}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);Xe===0&&(Xe=5)}function $n(e,t,r){var s=Le,o=Pt.transition;try{Pt.transition=null,Le=1,ip(e,t,r,s)}finally{Pt.transition=o,Le=s}return null}function ip(e,t,r,s){do xr();while(jn!==null);if((Pe&6)!==0)throw Error(i(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if($f(e,u),e===Ze&&(Ge=Ze=null,nt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||fl||(fl=!0,Wu(js,function(){return xr(),null})),u=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||u){u=Pt.transition,Pt.transition=null;var p=Le;Le=1;var w=Pe;Pe|=4,fi.current=null,tp(e,r),Tu(r,e),km(wa),ks=!!ja,wa=ja=null,e.current=r,np(r),Of(),Pe=w,Le=p,Pt.transition=u}else e.current=r;if(fl&&(fl=!1,jn=e,ml=o),u=e.pendingLanes,u===0&&(vn=null),Df(r.stateNode),gt(e,We()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],s(o.value,{componentStack:o.stack,digest:o.digest});if(dl)throw dl=!1,e=hi,hi=null,e;return(ml&1)!==0&&e.tag!==0&&xr(),u=e.pendingLanes,(u&1)!==0?e===xi?as++:(as=0,xi=e):as=0,hn(),null}function xr(){if(jn!==null){var e=Ro(ml),t=Pt.transition,r=Le;try{if(Pt.transition=null,Le=16>e?16:e,jn===null)var s=!1;else{if(e=jn,jn=null,ml=0,(Pe&6)!==0)throw Error(i(331));var o=Pe;for(Pe|=4,ue=e.current;ue!==null;){var u=ue,p=u.child;if((ue.flags&16)!==0){var w=u.deletions;if(w!==null){for(var C=0;C<w.length;C++){var F=w[C];for(ue=F;ue!==null;){var G=ue;switch(G.tag){case 0:case 11:case 15:rs(8,G,u)}var Y=G.child;if(Y!==null)Y.return=G,ue=Y;else for(;ue!==null;){G=ue;var q=G.sibling,se=G.return;if(Cu(G),G===F){ue=null;break}if(q!==null){q.return=se,ue=q;break}ue=se}}}var de=u.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var Ke=pe.sibling;pe.sibling=null,pe=Ke}while(pe!==null)}}ue=u}}if((u.subtreeFlags&2064)!==0&&p!==null)p.return=u,ue=p;else e:for(;ue!==null;){if(u=ue,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:rs(9,u,u.return)}var O=u.sibling;if(O!==null){O.return=u.return,ue=O;break e}ue=u.return}}var R=e.current;for(ue=R;ue!==null;){p=ue;var L=p.child;if((p.subtreeFlags&2064)!==0&&L!==null)L.return=p,ue=L;else e:for(p=R;ue!==null;){if(w=ue,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ol(9,w)}}catch(he){Ve(w,w.return,he)}if(w===p){ue=null;break e}var X=w.sibling;if(X!==null){X.return=w.return,ue=X;break e}ue=w.return}}if(Pe=o,hn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ws,e)}catch{}s=!0}return s}finally{Le=r,Pt.transition=t}}return!1}function Bu(e,t,r){t=fr(r,t),t=au(e,t,1),e=gn(e,t,1),t=dt(),e!==null&&(Pr(e,1,t),gt(e,t))}function Ve(e,t,r){if(e.tag===3)Bu(e,e,r);else for(;t!==null;){if(t.tag===3){Bu(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(vn===null||!vn.has(s))){e=fr(r,e),e=iu(t,e,1),t=gn(t,e,1),e=dt(),t!==null&&(Pr(t,1,e),gt(t,e));break}}t=t.return}}function op(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&r,Ze===e&&(nt&r)===r&&(Xe===4||Xe===3&&(nt&130023424)===nt&&500>We()-pi?Un(e,0):mi|=r),gt(e,t)}function Hu(e,t){t===0&&((e.mode&1)===0?t=1:(t=bs,bs<<=1,(bs&130023424)===0&&(bs=4194304)));var r=dt();e=Jt(e,t),e!==null&&(Pr(e,t,r),gt(e,r))}function cp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Hu(e,r)}function up(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Hu(e,r)}var Vu;Vu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||mt.current)ht=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return ht=!1,Xm(e,t,r);ht=(e.flags&131072)!==0}else ht=!1,Ue&&(t.flags&1048576)!==0&&bc(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;al(e,t),e=t.pendingProps;var o=sr(t,lt.current);ur(t,r),o=Wa(null,t,s,e,o,r);var u=Ka();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(s)?(u=!0,Bs(t)):u=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ia(t),o.updater=sl,t.stateNode=o,o._reactInternals=t,Ja(t,s,e,r),t=ni(null,t,s,!0,u,r)):(t.tag=0,Ue&&u&&Ea(t),ut(null,t,o,r),t=t.child),t;case 16:s=t.elementType;e:{switch(al(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=fp(s),e=Ft(s,e),o){case 0:t=ti(null,t,s,e,r);break e;case 1:t=xu(null,t,s,e,r);break e;case 11:t=du(null,t,s,e,r);break e;case 14:t=fu(null,t,s,Ft(s.type,e),r);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ft(s,o),ti(e,t,s,o,r);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ft(s,o),xu(e,t,s,o,r);case 3:e:{if(gu(t),e===null)throw Error(i(387));s=t.pendingProps,u=t.memoizedState,o=u.element,Oc(e,t),Xs(t,s,null,r);var p=t.memoizedState;if(s=p.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){o=fr(Error(i(423)),t),t=yu(e,t,s,r,o);break e}else if(s!==o){o=fr(Error(i(424)),t),t=yu(e,t,s,r,o);break e}else for(bt=fn(t.stateNode.containerInfo.firstChild),Nt=t,Ue=!0,Dt=null,r=Pc(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ir(),s===o){t=en(e,t,r);break e}ut(e,t,s,r)}t=t.child}return t;case 5:return Dc(t),e===null&&Ta(t),s=t.type,o=t.pendingProps,u=e!==null?e.memoizedProps:null,p=o.children,Na(s,o)?p=null:u!==null&&Na(s,u)&&(t.flags|=32),hu(e,t),ut(e,t,p,r),t.child;case 6:return e===null&&Ta(t),null;case 13:return vu(e,t,r);case 4:return za(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=or(t,null,s,r):ut(e,t,s,r),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ft(s,o),du(e,t,s,o,r);case 7:return ut(e,t,t.pendingProps,r),t.child;case 8:return ut(e,t,t.pendingProps.children,r),t.child;case 12:return ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,u=t.memoizedProps,p=o.value,Me(Gs,s._currentValue),s._currentValue=p,u!==null)if(Lt(u.value,p)){if(u.children===o.children&&!mt.current){t=en(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var w=u.dependencies;if(w!==null){p=u.child;for(var C=w.firstContext;C!==null;){if(C.context===s){if(u.tag===1){C=Zt(-1,r&-r),C.tag=2;var F=u.updateQueue;if(F!==null){F=F.shared;var G=F.pending;G===null?C.next=C:(C.next=G.next,G.next=C),F.pending=C}}u.lanes|=r,C=u.alternate,C!==null&&(C.lanes|=r),Fa(u.return,r,t),w.lanes|=r;break}C=C.next}}else if(u.tag===10)p=u.type===t.type?null:u.child;else if(u.tag===18){if(p=u.return,p===null)throw Error(i(341));p.lanes|=r,w=p.alternate,w!==null&&(w.lanes|=r),Fa(p,r,t),p=u.sibling}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===t){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}ut(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,ur(t,r),o=Et(o),s=s(o),t.flags|=1,ut(e,t,s,r),t.child;case 14:return s=t.type,o=Ft(s,t.pendingProps),o=Ft(s.type,o),fu(e,t,s,o,r);case 15:return mu(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ft(s,o),al(e,t),t.tag=1,pt(s)?(e=!0,Bs(t)):e=!1,ur(t,r),su(t,s,o),Ja(t,s,o,r),ni(null,t,s,!0,e,r);case 19:return wu(e,t,r);case 22:return pu(e,t,r)}throw Error(i(156,t.tag))};function Wu(e,t){return So(e,t)}function dp(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,r,s){return new dp(e,t,r,s)}function Ni(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fp(e){if(typeof e=="function")return Ni(e)?1:0;if(e!=null){if(e=e.$$typeof,e===A)return 11;if(e===Ee)return 14}return 2}function bn(e,t){var r=e.alternate;return r===null?(r=Tt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gl(e,t,r,s,o,u){var p=2;if(s=e,typeof e=="function")Ni(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case fe:return Bn(r.children,o,u,t);case we:p=8,o|=8;break;case re:return e=Tt(12,r,t,o|2),e.elementType=re,e.lanes=u,e;case te:return e=Tt(13,r,t,o),e.elementType=te,e.lanes=u,e;case ne:return e=Tt(19,r,t,o),e.elementType=ne,e.lanes=u,e;case ae:return yl(r,o,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case me:p=10;break e;case ee:p=9;break e;case A:p=11;break e;case Ee:p=14;break e;case H:p=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Tt(p,r,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function Bn(e,t,r,s){return e=Tt(7,e,s,t),e.lanes=r,e}function yl(e,t,r,s){return e=Tt(22,e,s,t),e.elementType=ae,e.lanes=r,e.stateNode={isHidden:!1},e}function bi(e,t,r){return e=Tt(6,e,null,t),e.lanes=r,e}function Si(e,t,r){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mp(e,t,r,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xl(0),this.expirationTimes=Xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xl(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function _i(e,t,r,s,o,u,p,w,C){return e=new mp(e,t,r,w,C),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Tt(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(u),e}function pp(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Ku(e){if(!e)return pn;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(pt(r))return jc(e,r,t)}return t}function qu(e,t,r,s,o,u,p,w,C){return e=_i(r,s,!0,e,o,u,p,w,C),e.context=Ku(null),r=e.current,s=dt(),o=wn(r),u=Zt(s,o),u.callback=t??null,gn(r,u,o),e.current.lanes=o,Pr(e,o,s),gt(e,s),e}function vl(e,t,r,s){var o=t.current,u=dt(),p=wn(o);return r=Ku(r),t.context===null?t.context=r:t.pendingContext=r,t=Zt(u,p),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=gn(o,t,p),e!==null&&(zt(e,o,p,u),Ys(e,o,p)),p}function jl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ci(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}function hp(){return null}var Qu=typeof reportError=="function"?reportError:function(e){console.error(e)};function ki(e){this._internalRoot=e}wl.prototype.render=ki.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));vl(e,t,null,null)},wl.prototype.unmount=ki.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zn(function(){vl(null,e,null,null)}),t[Gt]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oo();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cn.length&&t!==0&&t<cn[r].priority;r++);cn.splice(r,0,e),r===0&&Do(e)}};function Ei(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yu(){}function xp(e,t,r,s,o){if(o){if(typeof s=="function"){var u=s;s=function(){var F=jl(p);u.call(F)}}var p=qu(t,s,e,0,null,!1,!1,"",Yu);return e._reactRootContainer=p,e[Gt]=p.current,Vr(e.nodeType===8?e.parentNode:e),zn(),p}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var w=s;s=function(){var F=jl(C);w.call(F)}}var C=_i(e,0,!1,null,null,!1,!1,"",Yu);return e._reactRootContainer=C,e[Gt]=C.current,Vr(e.nodeType===8?e.parentNode:e),zn(function(){vl(t,C,r,s)}),C}function bl(e,t,r,s,o){var u=r._reactRootContainer;if(u){var p=u;if(typeof o=="function"){var w=o;o=function(){var C=jl(p);w.call(C)}}vl(t,p,e,o)}else p=xp(r,t,e,o,s);return jl(p)}Po=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rr(t.pendingLanes);r!==0&&(Jl(t,r|1),gt(t,We()),(Pe&6)===0&&(hr=We()+500,hn()))}break;case 13:zn(function(){var s=Jt(e,1);if(s!==null){var o=dt();zt(s,e,1,o)}}),Ci(e,1)}},Zl=function(e){if(e.tag===13){var t=Jt(e,134217728);if(t!==null){var r=dt();zt(t,e,134217728,r)}Ci(e,134217728)}},To=function(e){if(e.tag===13){var t=wn(e),r=Jt(e,t);if(r!==null){var s=dt();zt(r,e,t,s)}Ci(e,t)}},Oo=function(){return Le},Ao=function(e,t){var r=Le;try{return Le=e,t()}finally{Le=r}},Wl=function(e,t,r){switch(t){case"input":if(st(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var o=Us(s);if(!o)throw Error(i(90));oe(s),st(s,o)}}}break;case"textarea":Kn(e,r);break;case"select":t=r.value,t!=null&&Ot(e,!!r.multiple,t,!1)}},go=vi,yo=zn;var gp={usingClientEntryPoint:!1,Events:[qr,nr,Us,ho,xo,vi]},is={findFiberByHostInstance:Tn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yp={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=No(e),e===null?null:e.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||hp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{ws=Sl.inject(yp),Bt=Sl}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gp,yt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ei(t))throw Error(i(200));return pp(e,t,null,r)},yt.createRoot=function(e,t){if(!Ei(e))throw Error(i(299));var r=!1,s="",o=Qu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=_i(e,1,!1,null,null,r,!1,s,o),e[Gt]=t.current,Vr(e.nodeType===8?e.parentNode:e),new ki(t)},yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=No(t),e=e===null?null:e.stateNode,e},yt.flushSync=function(e){return zn(e)},yt.hydrate=function(e,t,r){if(!Nl(t))throw Error(i(200));return bl(null,e,t,!0,r)},yt.hydrateRoot=function(e,t,r){if(!Ei(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,o=!1,u="",p=Qu;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=qu(t,null,e,1,r??null,o,!1,u,p),e[Gt]=t.current,Vr(e),s)for(e=0;e<s.length;e++)r=s[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new wl(t)},yt.render=function(e,t,r){if(!Nl(t))throw Error(i(200));return bl(null,e,t,!1,r)},yt.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(i(40));return e._reactRootContainer?(zn(function(){bl(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1},yt.unstable_batchedUpdates=vi,yt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Nl(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return bl(e,t,r,!1,s)},yt.version="18.3.1-next-f1338f8080-20240426",yt}var jd;function df(){if(jd)return Li.exports;jd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Li.exports=rx(),Li.exports}var wd;function sx(){if(wd)return Cl;wd=1;var l=df();return Cl.createRoot=l.createRoot,Cl.hydrateRoot=l.hydrateRoot,Cl}var lx=sx();df();function us(){return us=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(l[c]=i[c])}return l},us.apply(this,arguments)}var Cn;(function(l){l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE"})(Cn||(Cn={}));const Nd="popstate";function ax(l){l===void 0&&(l={});function a(c,d){let{pathname:f,search:m,hash:y}=c.location;return qi("",{pathname:f,search:m,hash:y},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(c,d){return typeof d=="string"?d:Ol(d)}return ox(a,i,null,l)}function qe(l,a){if(l===!1||l===null||typeof l>"u")throw new Error(a)}function ro(l,a){if(!l){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function ix(){return Math.random().toString(36).substr(2,8)}function bd(l,a){return{usr:l.state,key:l.key,idx:a}}function qi(l,a,i,c){return i===void 0&&(i=null),us({pathname:typeof l=="string"?l:l.pathname,search:"",hash:""},typeof a=="string"?wr(a):a,{state:i,key:a&&a.key||c||ix()})}function Ol(l){let{pathname:a="/",search:i="",hash:c=""}=l;return i&&i!=="?"&&(a+=i.charAt(0)==="?"?i:"?"+i),c&&c!=="#"&&(a+=c.charAt(0)==="#"?c:"#"+c),a}function wr(l){let a={};if(l){let i=l.indexOf("#");i>=0&&(a.hash=l.substr(i),l=l.substr(0,i));let c=l.indexOf("?");c>=0&&(a.search=l.substr(c),l=l.substr(0,c)),l&&(a.pathname=l)}return a}function ox(l,a,i,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:f=!1}=c,m=d.history,y=Cn.Pop,g=null,v=N();v==null&&(v=0,m.replaceState(us({},m.state,{idx:v}),""));function N(){return(m.state||{idx:null}).idx}function _(){y=Cn.Pop;let j=N(),I=j==null?null:j-v;v=j,g&&g({action:y,location:P.location,delta:I})}function E(j,I){y=Cn.Push;let K=qi(P.location,j,I);v=N()+1;let Q=bd(K,v),B=P.createHref(K);try{m.pushState(Q,"",B)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;d.location.assign(B)}f&&g&&g({action:y,location:P.location,delta:1})}function b(j,I){y=Cn.Replace;let K=qi(P.location,j,I);v=N();let Q=bd(K,v),B=P.createHref(K);m.replaceState(Q,"",B),f&&g&&g({action:y,location:P.location,delta:0})}function h(j){let I=d.location.origin!=="null"?d.location.origin:d.location.href,K=typeof j=="string"?j:Ol(j);return K=K.replace(/ $/,"%20"),qe(I,"No window.location.(origin|href) available to create URL for href: "+K),new URL(K,I)}let P={get action(){return y},get location(){return l(d,m)},listen(j){if(g)throw new Error("A history only accepts one active listener");return d.addEventListener(Nd,_),g=j,()=>{d.removeEventListener(Nd,_),g=null}},createHref(j){return a(d,j)},createURL:h,encodeLocation(j){let I=h(j);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:E,replace:b,go(j){return m.go(j)}};return P}var Sd;(function(l){l.data="data",l.deferred="deferred",l.redirect="redirect",l.error="error"})(Sd||(Sd={}));function cx(l,a,i){return i===void 0&&(i="/"),ux(l,a,i)}function ux(l,a,i,c){let d=typeof a=="string"?wr(a):a,f=so(d.pathname||"/",i);if(f==null)return null;let m=ff(l);dx(m);let y=null;for(let g=0;y==null&&g<m.length;++g){let v=bx(f);y=jx(m[g],v)}return y}function ff(l,a,i,c){a===void 0&&(a=[]),i===void 0&&(i=[]),c===void 0&&(c="");let d=(f,m,y)=>{let g={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};g.relativePath.startsWith("/")&&(qe(g.relativePath.startsWith(c),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(c.length));let v=kn([c,g.relativePath]),N=i.concat(g);f.children&&f.children.length>0&&(qe(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),ff(f.children,a,N,v)),!(f.path==null&&!f.index)&&a.push({path:v,score:yx(v,f.index),routesMeta:N})};return l.forEach((f,m)=>{var y;if(f.path===""||!((y=f.path)!=null&&y.includes("?")))d(f,m);else for(let g of mf(f.path))d(f,m,g)}),a}function mf(l){let a=l.split("/");if(a.length===0)return[];let[i,...c]=a,d=i.endsWith("?"),f=i.replace(/\?$/,"");if(c.length===0)return d?[f,""]:[f];let m=mf(c.join("/")),y=[];return y.push(...m.map(g=>g===""?f:[f,g].join("/"))),d&&y.push(...m),y.map(g=>l.startsWith("/")&&g===""?"/":g)}function dx(l){l.sort((a,i)=>a.score!==i.score?i.score-a.score:vx(a.routesMeta.map(c=>c.childrenIndex),i.routesMeta.map(c=>c.childrenIndex)))}const fx=/^:[\w-]+$/,mx=3,px=2,hx=1,xx=10,gx=-2,_d=l=>l==="*";function yx(l,a){let i=l.split("/"),c=i.length;return i.some(_d)&&(c+=gx),a&&(c+=px),i.filter(d=>!_d(d)).reduce((d,f)=>d+(fx.test(f)?mx:f===""?hx:xx),c)}function vx(l,a){return l.length===a.length&&l.slice(0,-1).every((c,d)=>c===a[d])?l[l.length-1]-a[a.length-1]:0}function jx(l,a,i){let{routesMeta:c}=l,d={},f="/",m=[];for(let y=0;y<c.length;++y){let g=c[y],v=y===c.length-1,N=f==="/"?a:a.slice(f.length)||"/",_=wx({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},N),E=g.route;if(!_)return null;Object.assign(d,_.params),m.push({params:d,pathname:kn([f,_.pathname]),pathnameBase:Ex(kn([f,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(f=kn([f,_.pathnameBase]))}return m}function wx(l,a){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[i,c]=Nx(l.path,l.caseSensitive,l.end),d=a.match(i);if(!d)return null;let f=d[0],m=f.replace(/(.)\/+$/,"$1"),y=d.slice(1);return{params:c.reduce((v,N,_)=>{let{paramName:E,isOptional:b}=N;if(E==="*"){let P=y[_]||"";m=f.slice(0,f.length-P.length).replace(/(.)\/+$/,"$1")}const h=y[_];return b&&!h?v[E]=void 0:v[E]=(h||"").replace(/%2F/g,"/"),v},{}),pathname:f,pathnameBase:m,pattern:l}}function Nx(l,a,i){a===void 0&&(a=!1),i===void 0&&(i=!0),ro(l==="*"||!l.endsWith("*")||l.endsWith("/*"),'Route path "'+l+'" will be treated as if it were '+('"'+l.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+l.replace(/\*$/,"/*")+'".'));let c=[],d="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,g)=>(c.push({paramName:y,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(c.push({paramName:"*"}),d+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?d+="\\/*$":l!==""&&l!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,a?void 0:"i"),c]}function bx(l){try{return l.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return ro(!1,'The URL path "'+l+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),l}}function so(l,a){if(a==="/")return l;if(!l.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,c=l.charAt(i);return c&&c!=="/"?null:l.slice(i)||"/"}const Sx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_x=l=>Sx.test(l);function Cx(l,a){a===void 0&&(a="/");let{pathname:i,search:c="",hash:d=""}=typeof l=="string"?wr(l):l,f;if(i)if(_x(i))f=i;else{if(i.includes("//")){let m=i;i=i.replace(/\/\/+/g,"/"),ro(!1,"Pathnames cannot have embedded double slashes - normalizing "+(m+" -> "+i))}i.startsWith("/")?f=Cd(i.substring(1),"/"):f=Cd(i,a)}else f=a;return{pathname:f,search:Rx(c),hash:Px(d)}}function Cd(l,a){let i=a.replace(/\/+$/,"").split("/");return l.split("/").forEach(d=>{d===".."?i.length>1&&i.pop():d!=="."&&i.push(d)}),i.length>1?i.join("/"):"/"}function Mi(l,a,i,c){return"Cannot include a '"+l+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kx(l){return l.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function lo(l,a){let i=kx(l);return a?i.map((c,d)=>d===i.length-1?c.pathname:c.pathnameBase):i.map(c=>c.pathnameBase)}function ao(l,a,i,c){c===void 0&&(c=!1);let d;typeof l=="string"?d=wr(l):(d=us({},l),qe(!d.pathname||!d.pathname.includes("?"),Mi("?","pathname","search",d)),qe(!d.pathname||!d.pathname.includes("#"),Mi("#","pathname","hash",d)),qe(!d.search||!d.search.includes("#"),Mi("#","search","hash",d)));let f=l===""||d.pathname==="",m=f?"/":d.pathname,y;if(m==null)y=i;else{let _=a.length-1;if(!c&&m.startsWith("..")){let E=m.split("/");for(;E[0]==="..";)E.shift(),_-=1;d.pathname=E.join("/")}y=_>=0?a[_]:"/"}let g=Cx(d,y),v=m&&m!=="/"&&m.endsWith("/"),N=(f||m===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(v||N)&&(g.pathname+="/"),g}const kn=l=>l.join("/").replace(/\/\/+/g,"/"),Ex=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Rx=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Px=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Tx(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}const pf=["post","put","patch","delete"];new Set(pf);const Ox=["get",...pf];new Set(Ox);function ds(){return ds=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(l[c]=i[c])}return l},ds.apply(this,arguments)}const io=x.createContext(null),Ax=x.createContext(null),En=x.createContext(null),Il=x.createContext(null),rn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),hf=x.createContext(null);function Lx(l,a){let{relative:i}=a===void 0?{}:a;Nr()||qe(!1);let{basename:c,navigator:d}=x.useContext(En),{hash:f,pathname:m,search:y}=gf(l,{relative:i}),g=m;return c!=="/"&&(g=m==="/"?c:kn([c,m])),d.createHref({pathname:g,search:y,hash:f})}function Nr(){return x.useContext(Il)!=null}function br(){return Nr()||qe(!1),x.useContext(Il).location}function xf(l){x.useContext(En).static||x.useLayoutEffect(l)}function Rn(){let{isDataRoute:l}=x.useContext(rn);return l?Gx():Dx()}function Dx(){Nr()||qe(!1);let l=x.useContext(io),{basename:a,future:i,navigator:c}=x.useContext(En),{matches:d}=x.useContext(rn),{pathname:f}=br(),m=JSON.stringify(lo(d,i.v7_relativeSplatPath)),y=x.useRef(!1);return xf(()=>{y.current=!0}),x.useCallback(function(v,N){if(N===void 0&&(N={}),!y.current)return;if(typeof v=="number"){c.go(v);return}let _=ao(v,JSON.parse(m),f,N.relative==="path");l==null&&a!=="/"&&(_.pathname=_.pathname==="/"?a:kn([a,_.pathname])),(N.replace?c.replace:c.push)(_,N.state,N)},[a,c,m,f,l])}function Fx(){let{matches:l}=x.useContext(rn),a=l[l.length-1];return a?a.params:{}}function gf(l,a){let{relative:i}=a===void 0?{}:a,{future:c}=x.useContext(En),{matches:d}=x.useContext(rn),{pathname:f}=br(),m=JSON.stringify(lo(d,c.v7_relativeSplatPath));return x.useMemo(()=>ao(l,JSON.parse(m),f,i==="path"),[l,m,f,i])}function Mx(l,a){return Ix(l,a)}function Ix(l,a,i,c){Nr()||qe(!1);let{navigator:d}=x.useContext(En),{matches:f}=x.useContext(rn),m=f[f.length-1],y=m?m.params:{};m&&m.pathname;let g=m?m.pathnameBase:"/";m&&m.route;let v=br(),N;if(a){var _;let j=typeof a=="string"?wr(a):a;g==="/"||(_=j.pathname)!=null&&_.startsWith(g)||qe(!1),N=j}else N=v;let E=N.pathname||"/",b=E;if(g!=="/"){let j=g.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(j.length).join("/")}let h=cx(l,{pathname:b}),P=Hx(h&&h.map(j=>Object.assign({},j,{params:Object.assign({},y,j.params),pathname:kn([g,d.encodeLocation?d.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:kn([g,d.encodeLocation?d.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),f,i,c);return a&&P?x.createElement(Il.Provider,{value:{location:ds({pathname:"/",search:"",hash:"",state:null,key:"default"},N),navigationType:Cn.Pop}},P):P}function zx(){let l=qx(),a=Tx(l)?l.status+" "+l.statusText:l instanceof Error?l.message:JSON.stringify(l),i=l instanceof Error?l.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},a),i?x.createElement("pre",{style:d},i):null,null)}const Ux=x.createElement(zx,null);class $x extends x.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,i){return i.location!==a.location||i.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:i.error,location:i.location,revalidation:a.revalidation||i.revalidation}}componentDidCatch(a,i){console.error("React Router caught the following error during render",a,i)}render(){return this.state.error!==void 0?x.createElement(rn.Provider,{value:this.props.routeContext},x.createElement(hf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bx(l){let{routeContext:a,match:i,children:c}=l,d=x.useContext(io);return d&&d.static&&d.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=i.route.id),x.createElement(rn.Provider,{value:a},c)}function Hx(l,a,i,c){var d;if(a===void 0&&(a=[]),i===void 0&&(i=null),c===void 0&&(c=null),l==null){var f;if(!i)return null;if(i.errors)l=i.matches;else if((f=c)!=null&&f.v7_partialHydration&&a.length===0&&!i.initialized&&i.matches.length>0)l=i.matches;else return null}let m=l,y=(d=i)==null?void 0:d.errors;if(y!=null){let N=m.findIndex(_=>_.route.id&&y?.[_.route.id]!==void 0);N>=0||qe(!1),m=m.slice(0,Math.min(m.length,N+1))}let g=!1,v=-1;if(i&&c&&c.v7_partialHydration)for(let N=0;N<m.length;N++){let _=m[N];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(v=N),_.route.id){let{loaderData:E,errors:b}=i,h=_.route.loader&&E[_.route.id]===void 0&&(!b||b[_.route.id]===void 0);if(_.route.lazy||h){g=!0,v>=0?m=m.slice(0,v+1):m=[m[0]];break}}}return m.reduceRight((N,_,E)=>{let b,h=!1,P=null,j=null;i&&(b=y&&_.route.id?y[_.route.id]:void 0,P=_.route.errorElement||Ux,g&&(v<0&&E===0?(Qx("route-fallback"),h=!0,j=null):v===E&&(h=!0,j=_.route.hydrateFallbackElement||null)));let I=a.concat(m.slice(0,E+1)),K=()=>{let Q;return b?Q=P:h?Q=j:_.route.Component?Q=x.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=N,x.createElement(Bx,{match:_,routeContext:{outlet:N,matches:I,isDataRoute:i!=null},children:Q})};return i&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?x.createElement($x,{location:i.location,revalidation:i.revalidation,component:P,error:b,children:K(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):K()},null)}var yf=(function(l){return l.UseBlocker="useBlocker",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l})(yf||{}),vf=(function(l){return l.UseBlocker="useBlocker",l.UseLoaderData="useLoaderData",l.UseActionData="useActionData",l.UseRouteError="useRouteError",l.UseNavigation="useNavigation",l.UseRouteLoaderData="useRouteLoaderData",l.UseMatches="useMatches",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l.UseRouteId="useRouteId",l})(vf||{});function Vx(l){let a=x.useContext(io);return a||qe(!1),a}function Wx(l){let a=x.useContext(Ax);return a||qe(!1),a}function Kx(l){let a=x.useContext(rn);return a||qe(!1),a}function jf(l){let a=Kx(),i=a.matches[a.matches.length-1];return i.route.id||qe(!1),i.route.id}function qx(){var l;let a=x.useContext(hf),i=Wx(),c=jf();return a!==void 0?a:(l=i.errors)==null?void 0:l[c]}function Gx(){let{router:l}=Vx(yf.UseNavigateStable),a=jf(vf.UseNavigateStable),i=x.useRef(!1);return xf(()=>{i.current=!0}),x.useCallback(function(d,f){f===void 0&&(f={}),i.current&&(typeof d=="number"?l.navigate(d):l.navigate(d,ds({fromRouteId:a},f)))},[l,a])}const kd={};function Qx(l,a,i){kd[l]||(kd[l]=!0)}function Yx(l,a){l?.v7_startTransition,l?.v7_relativeSplatPath}function Gi(l){let{to:a,replace:i,state:c,relative:d}=l;Nr()||qe(!1);let{future:f,static:m}=x.useContext(En),{matches:y}=x.useContext(rn),{pathname:g}=br(),v=Rn(),N=ao(a,lo(y,f.v7_relativeSplatPath),g,d==="path"),_=JSON.stringify(N);return x.useEffect(()=>v(JSON.parse(_),{replace:i,state:c,relative:d}),[v,_,d,i,c]),null}function ft(l){qe(!1)}function Xx(l){let{basename:a="/",children:i=null,location:c,navigationType:d=Cn.Pop,navigator:f,static:m=!1,future:y}=l;Nr()&&qe(!1);let g=a.replace(/^\/*/,"/"),v=x.useMemo(()=>({basename:g,navigator:f,static:m,future:ds({v7_relativeSplatPath:!1},y)}),[g,y,f,m]);typeof c=="string"&&(c=wr(c));let{pathname:N="/",search:_="",hash:E="",state:b=null,key:h="default"}=c,P=x.useMemo(()=>{let j=so(N,g);return j==null?null:{location:{pathname:j,search:_,hash:E,state:b,key:h},navigationType:d}},[g,N,_,E,b,h,d]);return P==null?null:x.createElement(En.Provider,{value:v},x.createElement(Il.Provider,{children:i,value:P}))}function Jx(l){let{children:a,location:i}=l;return Mx(Qi(a),i)}new Promise(()=>{});function Qi(l,a){a===void 0&&(a=[]);let i=[];return x.Children.forEach(l,(c,d)=>{if(!x.isValidElement(c))return;let f=[...a,d];if(c.type===x.Fragment){i.push.apply(i,Qi(c.props.children,f));return}c.type!==ft&&qe(!1),!c.props.index||!c.props.children||qe(!1);let m={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(m.children=Qi(c.props.children,f)),i.push(m)}),i}function Yi(){return Yi=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(l[c]=i[c])}return l},Yi.apply(this,arguments)}function Zx(l,a){if(l==null)return{};var i={},c=Object.keys(l),d,f;for(f=0;f<c.length;f++)d=c[f],!(a.indexOf(d)>=0)&&(i[d]=l[d]);return i}function eg(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function tg(l,a){return l.button===0&&(!a||a==="_self")&&!eg(l)}const ng=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rg="6";try{window.__reactRouterVersion=rg}catch{}const sg="startTransition",Ed=_p[sg];function lg(l){let{basename:a,children:i,future:c,window:d}=l,f=x.useRef();f.current==null&&(f.current=ax({window:d,v5Compat:!0}));let m=f.current,[y,g]=x.useState({action:m.action,location:m.location}),{v7_startTransition:v}=c||{},N=x.useCallback(_=>{v&&Ed?Ed(()=>g(_)):g(_)},[g,v]);return x.useLayoutEffect(()=>m.listen(N),[m,N]),x.useEffect(()=>Yx(c),[c]),x.createElement(Xx,{basename:a,children:i,location:y.location,navigationType:y.action,navigator:m,future:c})}const ag=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ig=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=x.forwardRef(function(a,i){let{onClick:c,relative:d,reloadDocument:f,replace:m,state:y,target:g,to:v,preventScrollReset:N,viewTransition:_}=a,E=Zx(a,ng),{basename:b}=x.useContext(En),h,P=!1;if(typeof v=="string"&&ig.test(v)&&(h=v,ag))try{let Q=new URL(window.location.href),B=v.startsWith("//")?new URL(Q.protocol+v):new URL(v),Z=so(B.pathname,b);B.origin===Q.origin&&Z!=null?v=Z+B.search+B.hash:P=!0}catch{}let j=Lx(v,{relative:d}),I=og(v,{replace:m,state:y,target:g,preventScrollReset:N,relative:d,viewTransition:_});function K(Q){c&&c(Q),Q.defaultPrevented||I(Q)}return x.createElement("a",Yi({},E,{href:h||j,onClick:P||f?c:K,ref:i,target:g}))});var Rd;(function(l){l.UseScrollRestoration="useScrollRestoration",l.UseSubmit="useSubmit",l.UseSubmitFetcher="useSubmitFetcher",l.UseFetcher="useFetcher",l.useViewTransitionState="useViewTransitionState"})(Rd||(Rd={}));var Pd;(function(l){l.UseFetcher="useFetcher",l.UseFetchers="useFetchers",l.UseScrollRestoration="useScrollRestoration"})(Pd||(Pd={}));function og(l,a){let{target:i,replace:c,state:d,preventScrollReset:f,relative:m,viewTransition:y}=a===void 0?{}:a,g=Rn(),v=br(),N=gf(l,{relative:m});return x.useCallback(_=>{if(tg(_,i)){_.preventDefault();let E=c!==void 0?c:Ol(v)===Ol(N);g(l,{replace:E,state:d,preventScrollReset:f,relative:m,viewTransition:y})}},[v,g,N,c,d,i,l,f,m,y])}function cg({value:l,duration:a=1e3,prefix:i="",suffix:c=""}){const[d,f]=x.useState(0),m=x.useRef(0),y=x.useRef(null);x.useEffect(()=>{const v=typeof l=="number"?l:parseInt(l)||0,N=m.current,_=performance.now(),E=b=>{const h=b-_,P=Math.min(h/a,1),j=1-Math.pow(1-P,4),I=Math.floor(N+(v-N)*j);f(I),P<1?y.current=requestAnimationFrame(E):m.current=v};return y.current=requestAnimationFrame(E),()=>{y.current&&cancelAnimationFrame(y.current)}},[l,a]);const g=v=>v>=1e6?(v/1e6).toFixed(1)+"M":v>=1e3?(v/1e3).toFixed(1)+"K":v.toLocaleString();return n.jsxs("span",{className:"tabular-nums",children:[i,g(d),c]})}const Td=["mousemove","mousedown","keydown","scroll","touchstart","click"],ug=1e3,wf=3600*1e3,Nf=x.createContext({isDisconnected:!1,disconnect:()=>{},reconnect:()=>{},registerConnection:()=>{},unregisterConnection:()=>{},timeoutMs:wf});function dg({children:l,timeout:a=wf}){const[i,c]=x.useState(!1),d=x.useRef(new Map),f=x.useRef(null),m=x.useRef(null),y=x.useCallback(()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{c(!0),d.current.forEach((b,h)=>{try{b.cleanup?.()}catch(P){console.error(`Inactivity cleanup error for ${h}:`,P)}})},a)},[a]);x.useEffect(()=>{const b=()=>{m.current||(m.current=setTimeout(()=>{m.current=null,i||y()},ug))};return Td.forEach(h=>{window.addEventListener(h,b,{passive:!0})}),y(),()=>{Td.forEach(h=>{window.removeEventListener(h,b)}),f.current&&clearTimeout(f.current),m.current&&clearTimeout(m.current)}},[i,y]);const g=x.useCallback(()=>{c(!1),y(),d.current.forEach((b,h)=>{try{b.restore?.()}catch(P){console.error(`Inactivity restore error for ${h}:`,P)}})},[y]),v=x.useCallback((b,h)=>{d.current.set(b,h)},[]),N=x.useCallback(b=>{d.current.delete(b)},[]),_=x.useCallback(()=>{c(!0),d.current.forEach((b,h)=>{try{b.cleanup?.()}catch(P){console.error(`Inactivity cleanup error for ${h}:`,P)}})},[]),E={isDisconnected:i,disconnect:_,reconnect:g,registerConnection:v,unregisterConnection:N,timeoutMs:a};return n.jsx(Nf.Provider,{value:E,children:l})}function zl(){const l=x.useContext(Nf);return l||{isDisconnected:!1,disconnect:()=>{},reconnect:()=>{},registerConnection:()=>{},unregisterConnection:()=>{},timeoutMs:0}}function fg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Od=x.forwardRef(fg);function mg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const pg=x.forwardRef(mg);function hg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Ii=x.forwardRef(hg);function xg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const zi=x.forwardRef(xg);function gg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const yg=x.forwardRef(gg);function vg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const jg=x.forwardRef(vg);function wg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Ng=x.forwardRef(wg);function bg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Xi=x.forwardRef(bg);function Sg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const _g=x.forwardRef(Sg);function Cg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const kg=x.forwardRef(Cg);function Eg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ad=x.forwardRef(Eg);function Rg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Pg=x.forwardRef(Rg);function Tg({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Og=x.forwardRef(Tg);function Ag({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Lg=x.forwardRef(Ag),Dg={system_submitted:{icon:"",color:"#00C2B3",label:"Submitted"},system_approved:{icon:"",color:"#4ade80",label:"Approved"},system_rejected:{icon:"",color:"#ef4444",label:"Rejected"},system_saved:{icon:"",color:"#00C2B3",label:"Saved"},system_deleted:{icon:"",color:"#ef4444",label:"Deleted"},system_edited:{icon:"",color:"#f0ad4e",label:"Edited"},region_submitted:{icon:"",color:"#9d4edd",label:"Region"},region_approved:{icon:"",color:"#4ade80",label:"Region"},region_rejected:{icon:"",color:"#ef4444",label:"Region"},discovery_added:{icon:"",color:"#9d4edd",label:"Discovery"},map_generated:{icon:"",color:"#00C2B3",label:"Map"},watcher_upload:{icon:"",color:"#f0ad4e",label:"Watcher"}};function Fg(){const[l,a]=x.useState(null),[i,c]=x.useState(null),[d,f]=x.useState([]),[m,y]=x.useState({systems:0,regions:0}),[g,v]=x.useState([]),[N,_]=x.useState(!0),[E,b]=x.useState([]),[h,P]=x.useState(!1),j=x.useRef(null),I=x.useRef(null),{isDisconnected:K,registerConnection:Q,unregisterConnection:B}=zl();x.useEffect(()=>{(async()=>{try{const[ne,Ee,H,ae]=await Promise.all([ce.get("/api/stats").catch(()=>({data:null})),ce.get("/api/db_stats").catch(()=>({data:{stats:{}}})),ce.get("/api/regions/grouped?include_systems=false&limit=5").catch(()=>({data:{regions:[]}})),ce.get("/api/systems/recent?limit=10").catch(()=>({data:{systems:[]}}))]);a(ne.data),c(Ee.data?.stats||{}),f(ae.data?.systems||[]);const D=(H.data?.regions||[]).map(z=>({name:z.display_name||z.custom_name||`Region (${z.region_x}, ${z.region_y}, ${z.region_z})`,count:z.system_count||0,hasCustomName:!!z.custom_name}));v(D),_(!0)}catch(ne){console.error("Failed to fetch dashboard data:",ne),_(!1)}})(),ce.get("/api/pending-approvals").then(ne=>{const Ee=ne.data||{};y({systems:(Ee.systems||[]).length,regions:(Ee.regions||[]).length})}).catch(()=>{});const A=async()=>{try{const ne=await ce.get("/api/activity_logs?limit=50");b(ne.data?.logs||[]),_(!0)}catch(ne){console.error("Failed to fetch activity logs:",ne)}};if(K)return;A();const te=()=>{I.current=setInterval(()=>{h||A()},5e3)};return te(),Q("dashboard-activity-polling",{cleanup:()=>{I.current&&(clearInterval(I.current),I.current=null)},restore:()=>{A(),te()}}),()=>{B("dashboard-activity-polling"),I.current&&clearInterval(I.current)}},[h,K,Q,B]),x.useEffect(()=>{!h&&j.current&&(j.current.scrollTop=j.current.scrollHeight)},[E,h]);const Z=l?.total||i?.systems||0,le=i?.planets||0,fe=i?.moons||0,we=i?.regions||l?.regions?.length||0,re=i?.discoveries||0,me=ee=>{const A=typeof ee=="string"?new Date(ee):ee,ne=Math.floor((new Date-A)/1e3);return ne<60?"now":ne<3600?`${Math.floor(ne/60)}m ago`:ne<86400?`${Math.floor(ne/3600)}h ago`:`${Math.floor(ne/86400)}d ago`};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl",style:{background:"linear-gradient(135deg, rgba(20, 27, 61, 0.95) 0%, rgba(10, 14, 39, 0.98) 100%)",border:"1px solid rgba(0, 194, 179, 0.2)",boxShadow:"0 0 60px rgba(0, 194, 179, 0.1), inset 0 1px 0 rgba(255,255,255,0.05)"},children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute -top-1/2 -left-1/4 w-1/2 h-full rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(0, 194, 179, 0.4) 0%, transparent 70%)"}}),n.jsx("div",{className:"absolute -bottom-1/2 -right-1/4 w-1/2 h-full rounded-full opacity-15",style:{background:"radial-gradient(circle, rgba(157, 78, 221, 0.4) 0%, transparent 70%)"}})]}),n.jsxs("div",{className:"relative p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold tracking-tight",style:{color:"var(--app-text)"},children:"Haven Control Room"}),n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium",style:{background:N?"rgba(0, 194, 179, 0.15)":"rgba(239, 68, 68, 0.15)",color:N?"#00C2B3":"#ef4444"},children:[n.jsxs("span",{className:"relative flex h-2 w-2",children:[n.jsx("span",{className:`absolute inline-flex h-full w-full rounded-full opacity-75 ${N?"animate-ping":""}`,style:{background:N?"#00C2B3":"#ef4444"}}),n.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2",style:{background:N?"#00C2B3":"#ef4444"}})]}),N?"Systems Online":"Connection Lost"]})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 lg:gap-6 mb-8",children:[{icon:"",label:"Systems",value:Z,change:"+12"},{icon:"",label:"Planets",value:le,change:"+45"},{icon:"",label:"Moons",value:fe,change:"+18"},{icon:"",label:"Regions",value:we,change:"+3"},{icon:"",label:"Discoveries",value:re,change:"+24"}].map((ee,A)=>n.jsxs("div",{className:"text-center p-4 rounded-xl transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.06)"},children:[n.jsx("div",{className:"text-2xl mb-1",children:ee.icon}),n.jsx("div",{className:"text-2xl lg:text-3xl font-bold",style:{color:"#00C2B3"},children:n.jsx(cg,{value:ee.value,duration:1200})}),n.jsx("div",{className:"text-xs uppercase tracking-wider mt-1",style:{color:"var(--muted)"},children:ee.label}),n.jsxs("div",{className:"text-xs mt-1",style:{color:"#4ade80"},children:[" ",ee.change]})]},A))}),n.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:n.jsxs(Oe,{to:"/wizard",className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl font-semibold text-white transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, #00C2B3 0%, #00a89a 100%)",boxShadow:"0 4px 20px rgba(0, 194, 179, 0.4)"},children:[n.jsx(Pg,{className:"w-5 h-5"}),"Add New System"]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 rounded-xl overflow-hidden",style:{background:"var(--app-card)",border:"1px solid rgba(255, 255, 255, 0.06)"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"rgba(255,255,255,0.06)"},children:[n.jsxs("h2",{className:"font-semibold flex items-center gap-2",style:{color:"#00C2B3"},children:[n.jsx(Xi,{className:"w-5 h-5"}),"Galaxy Overview"]}),n.jsx("a",{href:"/map/latest",target:"_blank",rel:"noreferrer",className:"text-sm hover:underline",style:{color:"var(--muted)"},children:"Open Full Map "})]}),n.jsxs("div",{className:"relative",style:{height:"320px"},children:[n.jsx("iframe",{src:"/map/latest?embed=true&hideUI=true",className:"w-full h-full border-0",title:"Galaxy Map Preview",style:{background:"#050810"}}),n.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom, transparent 80%, var(--app-card) 100%)",borderRadius:"0 0 12px 12px"}}),n.jsx("a",{href:"/map/latest",target:"_blank",rel:"noreferrer",className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-300 cursor-pointer",style:{background:"rgba(0, 0, 0, 0.5)"},children:n.jsx("span",{className:"px-6 py-3 rounded-xl font-semibold text-white",style:{background:"rgba(0, 194, 179, 0.9)"},children:"Click to Open Full Map"})})]})]}),n.jsxs("div",{className:"rounded-xl p-5",style:{background:"var(--app-card)",border:"1px solid rgba(255, 255, 255, 0.06)"},children:[n.jsxs("h2",{className:"font-semibold mb-4 flex items-center gap-2",style:{color:"#f0ad4e"},children:[n.jsx(Ng,{className:"w-5 h-5"}),"Pending Review"]}),m.systems+m.regions>0?n.jsxs("div",{className:"space-y-3",children:[m.systems>0&&n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{background:"rgba(240, 173, 78, 0.1)",border:"1px solid rgba(240, 173, 78, 0.2)"},children:[n.jsx("span",{className:"text-sm",children:"Systems awaiting approval"}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-bold",style:{background:"rgba(240, 173, 78, 0.2)",color:"#f0ad4e"},children:m.systems})]}),m.regions>0&&n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{background:"rgba(240, 173, 78, 0.1)",border:"1px solid rgba(240, 173, 78, 0.2)"},children:[n.jsx("span",{className:"text-sm",children:"Region names pending"}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-bold",style:{background:"rgba(240, 173, 78, 0.2)",color:"#f0ad4e"},children:m.regions})]}),n.jsx(Oe,{to:"/pending-approvals",className:"block w-full text-center py-2 rounded-lg text-sm font-medium transition-colors",style:{background:"rgba(240, 173, 78, 0.15)",color:"#f0ad4e"},children:"Review All "})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(pg,{className:"w-12 h-12 mx-auto mb-2",style:{color:"#4ade80"}}),n.jsx("p",{className:"text-sm",style:{color:"var(--muted)"},children:"All caught up!"}),n.jsx("p",{className:"text-xs mt-1",style:{color:"var(--muted)"},children:"No pending approvals"})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t",style:{borderColor:"rgba(255,255,255,0.06)"},children:[n.jsx("h3",{className:"text-xs uppercase tracking-wider mb-3",style:{color:"var(--muted)"},children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(Oe,{to:"/systems",className:"flex items-center gap-2 p-2 rounded-lg text-xs transition-colors hover:bg-white/5",children:[n.jsx(Od,{className:"w-4 h-4",style:{color:"#00C2B3"}}),n.jsx("span",{children:"Systems"})]}),n.jsxs(Oe,{to:"/discoveries",className:"flex items-center gap-2 p-2 rounded-lg text-xs transition-colors hover:bg-white/5",children:[n.jsx(kg,{className:"w-4 h-4",style:{color:"#9d4edd"}}),n.jsx("span",{children:"Discoveries"})]}),n.jsxs(Oe,{to:"/db_stats",className:"flex items-center gap-2 p-2 rounded-lg text-xs transition-colors hover:bg-white/5",children:[n.jsx(Od,{className:"w-4 h-4",style:{color:"#00C2B3"}}),n.jsx("span",{children:"DB Stats"})]}),n.jsxs("button",{onClick:()=>fetch("/api/generate_map",{method:"POST"}),className:"flex items-center gap-2 p-2 rounded-lg text-xs transition-colors hover:bg-white/5 text-left",children:[n.jsx(Xi,{className:"w-4 h-4",style:{color:"#9d4edd"}}),n.jsx("span",{children:"Regen Map"})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"rounded-xl p-5",style:{background:"var(--app-card)",border:"1px solid rgba(255, 255, 255, 0.06)"},children:[n.jsx("h2",{className:"font-semibold mb-4 flex items-center gap-2",style:{color:"#00C2B3"},children:" Top Regions"}),n.jsx("div",{className:"space-y-2",children:g.length>0?g.map((ee,A)=>n.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{background:"rgba(255, 255, 255, 0.02)"},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-5 h-5 flex items-center justify-center rounded text-xs font-bold",style:{background:A===0?"rgba(255, 215, 0, 0.2)":A===1?"rgba(192, 192, 192, 0.2)":A===2?"rgba(205, 127, 50, 0.2)":"rgba(255,255,255,0.05)",color:A===0?"#ffd700":A===1?"#c0c0c0":A===2?"#cd7f32":"var(--muted)"},children:A+1}),n.jsx("span",{className:"text-sm truncate max-w-[140px]",style:{color:ee.hasCustomName?"#9d4edd":"var(--muted)"},children:ee.name})]}),n.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{background:"rgba(0, 194, 179, 0.1)",color:"#00C2B3"},children:[ee.count," sys"]})]},A)):n.jsx("p",{className:"text-sm text-center py-4",style:{color:"var(--muted)"},children:"No regions yet"})})]}),n.jsxs("div",{className:"rounded-xl p-5",style:{background:"var(--app-card)",border:"1px solid rgba(255, 255, 255, 0.06)"},children:[n.jsxs("h2",{className:"font-semibold mb-4 flex items-center gap-2",style:{color:"#9d4edd"},children:[n.jsx(yg,{className:"w-5 h-5"}),"Recent Activity"]}),n.jsx("div",{className:"space-y-2",children:d.length>0?d.slice(0,6).map((ee,A)=>n.jsxs("div",{className:"flex items-start gap-2 p-2 rounded-lg",style:{background:"rgba(255, 255, 255, 0.02)"},children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full mt-1.5 flex-shrink-0",style:{background:"#00C2B3"}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm truncate",children:ee.name}),n.jsxs("p",{className:"text-xs",style:{color:"var(--muted)"},children:[ee.galaxy||"Euclid","  ",ee.planets?.length||0," planets"]})]})]},ee.id||A)):n.jsx("p",{className:"text-sm text-center py-4",style:{color:"var(--muted)"},children:"No recent activity"})}),n.jsx(Oe,{to:"/systems",className:"block text-center text-sm mt-3 pt-3 border-t",style:{borderColor:"rgba(255,255,255,0.06)",color:"var(--muted)"},children:"View All Systems "})]}),n.jsxs("div",{className:"rounded-xl overflow-hidden flex flex-col self-start",style:{background:"var(--app-card)",border:"1px solid rgba(255, 255, 255, 0.06)",height:"290px"},children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0",style:{borderColor:"rgba(255,255,255,0.06)"},children:[n.jsxs("h2",{className:"font-semibold text-sm flex items-center gap-2",children:[" Activity Log",!h&&n.jsx("span",{className:"w-2 h-2 rounded-full animate-pulse",style:{background:"#4ade80"}})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{onClick:()=>P(!h),className:"px-2 py-1 rounded text-xs transition-colors",style:{background:h?"rgba(239, 68, 68, 0.2)":"rgba(255,255,255,0.05)",color:h?"#ef4444":"var(--app-text)"},children:h?" Paused":" Live"})})]}),n.jsx("div",{ref:j,className:"p-3 overflow-y-auto text-xs flex-1",style:{background:"rgba(0,0,0,0.2)"},children:E.length>0?[...E].reverse().map(ee=>{const A=Dg[ee.event_type]||{icon:"",color:"var(--muted)"};return n.jsxs("div",{className:"py-1.5 flex items-start gap-2 border-b border-white/5 last:border-0",children:[n.jsx("span",{className:"flex-shrink-0",children:A.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"truncate",style:{color:A.color},children:ee.message}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",style:{color:"var(--muted)"},children:[n.jsx("span",{children:me(ee.timestamp)}),ee.user_name&&n.jsxs("span",{children:[" ",ee.user_name]})]})]})]},ee.id)}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full",style:{color:"var(--muted)"},children:[n.jsx("span",{className:"text-2xl mb-2",children:""}),n.jsx("p",{children:"No activity yet..."}),n.jsx("p",{className:"text-xs mt-1",children:"Activity will appear here as it happens"})]})})]})]})]})}function De({children:l,className:a="",thin:i=!1,...c}){return n.jsx("div",{...c,className:`bg-card p-6 rounded-lg shadow-sm border border-gray-100 ${a}`,style:{backgroundColor:"var(--app-card)"},children:l})}function ie({children:l,onClick:a,className:i="",type:c="button",variant:d="primary",...f}){const m="px-4 py-2 rounded inline-flex items-center justify-center",y={primary:"btn-primary",ghost:"bg-transparent border border-white/10",neutral:"bg-gray-700 text-white"},g=y[d]||y.primary;return n.jsx("button",{type:c,onClick:a,className:`${m} ${g} ${i}`,...f,children:l})}function Ut({label:l,children:a,hint:i,className:c=""}){return n.jsxs("div",{className:`mb-4 ${c}`,children:[l&&n.jsx("label",{className:"block text-sm font-medium mb-1",children:l}),n.jsx("div",{children:a}),i&&n.jsx("div",{className:"text-xs muted mt-1",children:i})]})}const nn={APPROVALS:"approvals",SETTINGS:"settings",CSV_IMPORT:"csv_import"},_t=x.createContext({isAdmin:!1,isSuperAdmin:!1,isPartner:!1,user:null,loading:!0,login:async()=>{},logout:async()=>{},canAccess:()=>!1,refreshAuth:async()=>{}});function Mg({children:l}){const[a,i]=x.useState(null),[c,d]=x.useState(!0);async function f(){try{const h=await(await fetch("/api/admin/status",{credentials:"include"})).json();h.logged_in?i({type:h.user_type,username:h.username,discordTag:h.discord_tag,displayName:h.display_name,enabledFeatures:h.enabled_features||[]}):i(null)}catch(b){console.error("Auth check failed:",b),i(null)}finally{d(!1)}}x.useEffect(()=>{f()},[]);const m=!!a,y=a?.type==="super_admin",g=a?.type==="partner";function v(b){if(!a)return!1;if(y)return!0;const h=a.enabledFeatures||[];return h.includes("all")?!0:h.includes(b)}async function N(b,h){const P=await fetch("/api/admin/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b,password:h})});if(!P.ok){const I=await P.json().catch(()=>({}));throw new Error(I.detail||"Login failed")}const j=await P.json();return i({type:j.user_type,username:j.username,discordTag:j.discord_tag,displayName:j.display_name,enabledFeatures:j.enabled_features||[]}),j}async function _(){await fetch("/api/admin/logout",{method:"POST",credentials:"include"}),i(null)}async function E(){await f()}return n.jsx(_t.Provider,{value:{isAdmin:m,isSuperAdmin:y,isPartner:g,user:a,loading:c,login:N,logout:_,canAccess:v,refreshAuth:E},children:l})}function Ig(l,a){const[i,c]=x.useState(l);return x.useEffect(()=>{const d=setTimeout(()=>{c(l)},a);return()=>{clearTimeout(d)}},[l,a]),i}function zg(l){if(!l)return null;if(l.startsWith("http"))return l;const i=l.replace(/\\/g,"/").split("/"),c=i[i.length-1];return`/haven-ui-photos/${encodeURIComponent(c)}`}const Ld=["Center Bottom","Center Top","East Core","North Core","South Core","West Core","North-East Top","North-West Bottom","North-West Top","South-East Bottom","South-East Top","South-West Bottom","South-West Top"];function Ug(){Rn();const l=x.useContext(_t),[a,i]=x.useState([]),[c,d]=x.useState(""),f=Ig(c,300),[m,y]=x.useState(!0),[g,v]=x.useState(null),[N,_]=x.useState(null),[E,b]=x.useState({}),[h,P]=x.useState(null),[j,I]=x.useState(""),[K,Q]=x.useState(!1),[B,Z]=x.useState([]),[le,fe]=x.useState("all"),[we,re]=x.useState(!1),[me,ee]=x.useState("list"),[A,te]=x.useState({}),[ne,Ee]=x.useState({});x.useEffect(()=>{ce.get("/api/discord_tags").then(S=>{Z(S.data.tags||[])}).catch(()=>{})},[]),x.useEffect(()=>{H()},[]);async function H(){y(!0);try{const S=await ce.get("/api/regions/grouped?include_systems=false");i(S.data.regions||[]),te({})}catch(S){console.error("Failed to load regions:",S),i([])}finally{y(!1)}}const ae=x.useCallback(async S=>{const V=`${S.region_x},${S.region_y},${S.region_z}`;if(!(A[V]||ne[V])){Ee(oe=>({...oe,[V]:!0}));try{const oe=await ce.get(`/api/regions/${S.region_x}/${S.region_y}/${S.region_z}/systems?include_planets=true`);te(Ae=>({...Ae,[V]:oe.data.systems||[]}))}catch(oe){console.error("Failed to load systems for region:",oe),te(Ae=>({...Ae,[V]:[]}))}finally{Ee(oe=>({...oe,[V]:!1}))}}},[A,ne]);x.useCallback(S=>{const V=`${S.region_x},${S.region_y},${S.region_z}`;return A[V]||S.systems||[]},[A]);const W=x.useMemo(()=>{let S=a;if(we&&(S=S.filter(V=>{const oe=V.custom_name||"";return!Ld.includes(oe)})),le!=="all"&&(S=S.map(V=>{const oe=`${V.region_x},${V.region_y},${V.region_z}`,J=(A[oe]||V.systems||[]).filter(Qe=>le==="untagged"?!Qe.discord_tag:Qe.discord_tag===le);return{...V,_filteredSystems:J,_filteredCount:J.length}}).filter(V=>V._filteredCount>0)),f.trim()){const V=f.toLowerCase().trim();S=S.filter(oe=>{if(oe.display_name?.toLowerCase().includes(V)||oe.custom_name?.toLowerCase().includes(V))return!0;const Ae=`${oe.region_x},${oe.region_y},${oe.region_z}`;return(A[Ae]||[]).some(Qe=>Qe.name?.toLowerCase().includes(V)||Qe.galaxy?.toLowerCase().includes(V)||Qe.glyph_code?.toLowerCase().includes(V)||Qe.description?.toLowerCase().includes(V))})}return S},[a,we,le,f,A]);function D(S,V=null,oe=!1){if(!S)return n.jsx("span",{className:"text-xs bg-gray-500 text-white px-1.5 py-0.5 rounded",children:"UNTAGGED"});if(S==="personal")return n.jsxs("span",{className:"text-xs bg-fuchsia-600 text-white px-1.5 py-0.5 rounded",children:["PERSONAL ",oe&&V&&`(${V})`]});const J={Haven:"bg-cyan-500 text-white",IEA:"bg-green-500 text-white","B.E.S":"bg-orange-500 text-white",ARCH:"bg-purple-500 text-white",TBH:"bg-yellow-500 text-black",EVRN:"bg-pink-500 text-white"}[S]||"bg-indigo-500 text-white";return n.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${J}`,children:S})}function z(S){const V=`${S.region_x},${S.region_y},${S.region_z}`,oe=A[V]||S.systems||[];let Ae=0,J=0;return oe.forEach(Qe=>{const ye=Qe.planets||[];Ae+=ye.length,ye.forEach(st=>{J+=(st.moons||[]).length})}),{systems:oe.length||S.system_count||0,planets:Ae,moons:J}}function k(S,V){g===S?(v(null),_(null),b({})):(v(S),_(null),b({}),V&&ae(V))}function U(S){N===S?(_(null),b({})):(_(S),b({}))}function ge(S){b(V=>({...V,[S]:!V[S]}))}async function xe(S,V){try{const Ae=(await ce.get(`/api/systems/${encodeURIComponent(S)}`)).data;Ae.discord_tag=V||null,await ce.post("/api/save_system",Ae),H()}catch(oe){alert("Failed to update tag: "+(oe.response?.data?.detail||oe.message))}}async function Ne(S,V){if(V.stopPropagation(),!!confirm("Delete system?"))try{await ce.delete(`/api/systems/${encodeURIComponent(S)}`),H()}catch(oe){alert("Delete failed: "+(oe.response?.data?.detail||oe.message))}}function $(S,V){V.stopPropagation(),P(`${S.region_x},${S.region_y},${S.region_z}`),I(S.custom_name||"")}function be(){P(null),I("")}async function Ce(S,V){if(V.preventDefault(),V.stopPropagation(),!j.trim()){alert("Please enter a region name");return}Q(!0);try{await ce.post(`/api/regions/${S.region_x}/${S.region_y}/${S.region_z}/submit`,{proposed_name:j.trim()}),alert("Region name submitted for approval!"),P(null),I("")}catch(oe){alert("Failed to submit: "+(oe.response?.data?.detail||oe.message))}finally{Q(!1)}}const Re=x.useMemo(()=>W.reduce((S,V)=>{if(V._filteredCount!==void 0)return S+V._filteredCount;const oe=`${V.region_x},${V.region_y},${V.region_z}`,Ae=A[oe];return S+(Ae?Ae.length:V.system_count||0)},0),[W,A]);return m?n.jsx("div",{className:"p-6",children:n.jsx(De,{children:n.jsx("div",{className:"text-center py-8",children:"Loading systems..."})})}):n.jsxs("div",{children:[n.jsxs("div",{className:"mb-6 flex flex-col lg:grid lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"lg:col-span-2 flex gap-2",children:[n.jsx(Ut,{className:"flex-1",children:n.jsx("input",{"aria-label":"Search systems",className:"w-full px-3 py-2 rounded",value:c,onChange:S=>d(S.target.value),placeholder:"Search by region name, system name, or galaxy"})}),n.jsx("button",{className:`px-3 py-2 rounded border transition-colors ${we?"bg-purple-600 border-purple-500 text-white":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600"}`,onClick:()=>re(!we),title:"Hide directional region names (Center Top, North-East Bottom, etc.)",children:we?" Showing Named Only":" Show All"}),n.jsxs("select",{className:"px-3 py-2 rounded bg-gray-700 text-white border border-gray-600",value:le,onChange:S=>fe(S.target.value),children:[n.jsx("option",{value:"all",children:"All Communities"}),n.jsx("option",{value:"untagged",children:"Untagged Only"}),n.jsx("option",{value:"personal",children:"Personal Only"}),B.map(S=>n.jsx("option",{value:S.tag,children:S.name},S.tag))]}),n.jsxs("div",{className:"flex rounded border border-gray-600 overflow-hidden",children:[n.jsx("button",{className:`px-3 py-2 flex items-center gap-1 transition-colors ${me==="list"?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>ee("list"),title:"List view",children:n.jsx(_g,{className:"w-4 h-4"})}),n.jsx("button",{className:`px-3 py-2 flex items-center gap-1 transition-colors ${me==="grid"?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>ee("grid"),title:"Grid view",children:n.jsx(Og,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(ie,{onClick:()=>{d(""),fe("all"),re(!1)},variant:"ghost",children:"Clear"}),n.jsx(ie,{onClick:H,variant:"ghost",children:"Reload"}),n.jsx(Oe,{to:"/wizard",children:n.jsx(ie,{variant:"neutral",children:"New"})})]})]}),n.jsxs("div",{className:"mb-4 text-sm text-gray-400",children:[W.length," region",W.length!==1?"s":""," ","(",Re," systems)",f&&` matching "${f}"`,we&&n.jsxs("span",{className:"ml-2",children:[" ",n.jsx("span",{className:"text-purple-400",children:"Hiding directional regions"})]}),le!=="all"&&n.jsxs("span",{className:"ml-2",children:[" Filtered by: ",n.jsx("span",{className:"text-cyan-400",children:le==="untagged"?"Untagged":le==="personal"?"Personal":le})]})]}),W.length===0?n.jsx(De,{children:n.jsx("div",{className:"text-center py-8 text-gray-400",children:c?"No regions match your search":"No systems found"})}):me==="grid"?n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:W.map(S=>{const V=`${S.region_x},${S.region_y},${S.region_z}`,oe=z(S),Ae=Ld.includes(S.custom_name||"");return n.jsxs(De,{className:"p-4 cursor-pointer hover:bg-gray-800 transition-colors border-l-4 border-l-purple-500",onClick:()=>{ee("list"),k(V,S)},children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("h3",{className:"font-semibold text-lg truncate",children:S.custom_name?n.jsx("span",{className:Ae?"text-gray-400":"text-purple-400",children:S.custom_name}):n.jsxs("span",{className:"text-gray-400",children:["(",S.region_x,", ",S.region_y,", ",S.region_z,")"]})}),S.custom_name&&n.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:["[",S.region_x,", ",S.region_y,", ",S.region_z,"]"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[n.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[n.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:oe.systems}),n.jsx("div",{className:"text-xs text-gray-400",children:"Systems"})]}),n.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[n.jsx("div",{className:"text-2xl font-bold text-green-400",children:oe.planets}),n.jsx("div",{className:"text-xs text-gray-400",children:"Planets"})]}),n.jsxs("div",{className:"bg-gray-800 rounded p-2",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:oe.moons}),n.jsx("div",{className:"text-xs text-gray-400",children:"Moons"})]})]}),n.jsx("div",{className:"mt-3 text-xs text-gray-500 text-center",children:"Click to expand in list view"})]},V)})}):n.jsx("div",{className:"space-y-2",children:W.map(S=>{const V=`${S.region_x},${S.region_y},${S.region_z}`,oe=g===V,Ae=h===V;return n.jsxs(De,{className:"overflow-hidden p-0",children:[n.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-800 transition-colors flex items-center justify-between",onClick:()=>k(V,S),children:n.jsxs("div",{className:"flex items-center gap-3",children:[oe?n.jsx(Ii,{className:"w-5 h-5 text-gray-400"}):n.jsx(zi,{className:"w-5 h-5 text-gray-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold",children:S.custom_name?n.jsx("span",{className:"text-purple-400",children:S.custom_name}):n.jsxs("span",{className:"text-gray-300",children:["Region (",S.region_x,", ",S.region_y,", ",S.region_z,")"]})}),n.jsxs("div",{className:"text-sm text-gray-400",children:[S._filteredCount!==void 0?S._filteredCount:S.system_count," system",(S._filteredCount!==void 0?S._filteredCount:S.system_count)!==1?"s":"",S.custom_name&&n.jsxs("span",{className:"ml-2",children:[" Coords: [",S.region_x,", ",S.region_y,", ",S.region_z,"]"]}),ne[V]&&n.jsx("span",{className:"ml-2 text-cyan-400",children:"Loading..."})]})]})]})}),oe&&n.jsxs("div",{className:"border-t border-gray-700",children:[n.jsx("div",{className:"p-4 bg-gray-800/50 border-b border-gray-700",children:Ae?n.jsxs("form",{onSubmit:J=>Ce(S,J),className:"flex items-center gap-2",onClick:J=>J.stopPropagation(),children:[n.jsx("input",{type:"text",className:"flex-1 px-3 py-2 rounded bg-gray-700 border border-gray-600 focus:border-purple-500 focus:outline-none",value:j,onChange:J=>I(J.target.value),placeholder:"Enter region name",autoFocus:!0}),n.jsx(ie,{type:"submit",variant:"primary",disabled:K,children:K?"Submitting...":"Submit"}),n.jsx(ie,{type:"button",variant:"ghost",onClick:be,children:"Cancel"})]}):n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-gray-400",children:S.custom_name?n.jsxs(n.Fragment,{children:["Custom name: ",n.jsx("span",{className:"text-purple-400",children:S.custom_name})]}):"No custom name set for this region"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("a",{href:`/map/region?rx=${S.region_x}&ry=${S.region_y}&rz=${S.region_z}`,onClick:J=>J.stopPropagation(),children:n.jsxs(ie,{variant:"ghost",className:"text-sm text-cyan-400 hover:text-cyan-300",children:[n.jsx(Xi,{className:"w-4 h-4 mr-1 inline"}),"Region View"]})}),n.jsxs(ie,{variant:"ghost",onClick:J=>$(S,J),className:"text-sm",children:[n.jsx(Ad,{className:"w-4 h-4 mr-1 inline"}),S.custom_name?"Change Name":"Set Name"]})]})]})}),n.jsx("div",{className:"divide-y divide-gray-700",children:ne[V]?n.jsx("div",{className:"p-4 text-center text-gray-400",children:"Loading systems..."}):(S._filteredSystems||A[V]||S.systems||[]).map(J=>{const Qe=N===J.id;return n.jsxs("div",{className:"bg-gray-900/30",children:[n.jsxs("div",{className:"p-4 pl-8 cursor-pointer hover:bg-gray-800/50 transition-colors flex items-center justify-between",onClick:()=>U(J.id),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[Qe?n.jsx(Ii,{className:"w-4 h-4 text-gray-400"}):n.jsx(zi,{className:"w-4 h-4 text-gray-400"}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[J.name,J.data_source==="remote"&&n.jsx("span",{className:"text-xs bg-amber-500 text-white px-1.5 py-0.5 rounded",title:"Remote data only - visit for full detail",children:""}),J.data_source==="mixed"&&n.jsx("span",{className:"text-xs bg-blue-500 text-white px-1.5 py-0.5 rounded",title:"Partial data - some planets need visiting",children:""}),D(J.discord_tag,J.personal_discord_username,l?.isSuperAdmin),J.is_phantom&&n.jsx("span",{className:"text-xs bg-purple-600 text-white px-1.5 py-0.5 rounded",title:"Phantom Star - Not normally accessible on Galactic Map",children:""}),J.is_in_core&&n.jsx("span",{className:"text-xs bg-red-600 text-white px-1.5 py-0.5 rounded",title:"Located in Galactic Core Void",children:""})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:[J.galaxy||"Euclid","  x:",J.x," y:",J.y," z:",J.z,J.glyph_code&&n.jsxs("span",{className:"ml-2 font-mono text-xs text-purple-400",children:["(",J.glyph_code,")"]}),J.planets?.length>0&&n.jsxs("span",{className:"ml-2",children:[" ",J.planets.length," planet",J.planets.length!==1?"s":""]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1",onClick:ye=>ye.stopPropagation(),children:[n.jsx(Oe,{to:`/wizard?edit=${encodeURIComponent(J.id||J.name)}`,children:n.jsx(ie,{variant:"ghost",className:"p-2",children:n.jsx(Ad,{className:"w-4 h-4"})})}),l?.isAdmin&&n.jsx(ie,{variant:"ghost",className:"p-2",onClick:ye=>Ne(J.id||J.name,ye),children:n.jsx(Lg,{className:"w-4 h-4 text-red-400"})})]})]}),Qe&&n.jsxs("div",{className:"pl-12 pr-4 pb-4 bg-gray-900/50",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 p-4 bg-gray-800 rounded",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Galaxy"}),n.jsx("div",{children:J.galaxy||"Euclid"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Coordinates"}),n.jsxs("div",{className:"font-mono text-sm",children:[J.x,", ",J.y,", ",J.z]})]}),J.glyph_code&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Glyph Code"}),n.jsx("div",{className:"font-mono text-purple-400",children:J.glyph_code})]}),l?.isSuperAdmin&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Discord Tag"}),n.jsxs("select",{className:"mt-1 px-2 py-1 text-sm rounded bg-gray-700 border border-gray-600 w-full",value:J.discord_tag||"",onChange:ye=>xe(J.id,ye.target.value),onClick:ye=>ye.stopPropagation(),children:[n.jsx("option",{value:"",children:"Untagged"}),n.jsx("option",{value:"personal",children:"Personal"}),B.map(ye=>n.jsx("option",{value:ye.tag,children:ye.name},ye.tag))]})]}),l?.isSuperAdmin&&J.discord_tag==="personal"&&J.personal_discord_username&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Contact Discord"}),n.jsx("div",{className:"text-fuchsia-400",children:J.personal_discord_username})]}),J.star_type&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Star Color"}),n.jsx("div",{className:"text-yellow-400",children:J.star_type})]}),(J.economy_type||J.economy_level)&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Economy"}),n.jsxs("div",{children:[J.economy_type,J.economy_level&&` (${J.economy_level})`]})]}),J.conflict_level&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Conflict"}),n.jsx("div",{children:J.conflict_level})]}),J.dominant_lifeform&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Lifeform"}),n.jsx("div",{children:J.dominant_lifeform})]}),J.discovered_by&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Discovered By"}),n.jsx("div",{children:J.discovered_by})]})]}),n.jsx("div",{className:"mb-4",children:n.jsx("a",{href:`/map/system/${encodeURIComponent(J.id)}`,children:n.jsxs(ie,{variant:"neutral",className:"text-sm",children:[n.jsx(jg,{className:"w-4 h-4 mr-2 inline"}),"View Star System (3D)"]})})}),J.description&&n.jsxs("div",{className:"mb-4 p-3 bg-gray-800/50 rounded",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Description"}),n.jsx("div",{className:"text-gray-300",children:J.description})]}),J.discoveries?.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("h4",{className:"text-sm font-semibold text-yellow-400 mb-2",children:["Discoveries (",J.discoveries.length,")"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:J.discoveries.map((ye,st)=>n.jsxs("div",{className:"p-2 bg-yellow-900/20 border border-yellow-800/50 rounded text-sm",children:[n.jsx("div",{className:"font-medium",children:ye.discovery_name||"Unnamed Discovery"}),ye.discovery_type&&n.jsx("div",{className:"text-xs text-gray-400",children:ye.discovery_type}),ye.description&&n.jsx("div",{className:"text-xs text-gray-300 mt-1",children:ye.description})]},st))})]}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-sm font-semibold text-cyan-400 mb-2",children:["Planets (",J.planets?.length||0,")"]}),!J.planets||J.planets.length===0?n.jsx("div",{className:"text-sm text-gray-400 p-2",children:"No planets in this system"}):n.jsx("div",{className:"space-y-2",children:J.planets.map((ye,st)=>n.jsxs("div",{className:"border border-gray-700 rounded overflow-hidden",children:[n.jsx("div",{className:"bg-gray-800 p-3 cursor-pointer hover:bg-gray-750 transition-colors flex items-center justify-between",onClick:()=>ge(st),children:n.jsxs("div",{className:"flex items-center gap-2",children:[E[st]?n.jsx(Ii,{className:"w-4 h-4 text-gray-400"}):n.jsx(zi,{className:"w-4 h-4 text-gray-400"}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:ye.name}),n.jsx("span",{className:"text-sm text-gray-400 ml-2",children:ye.moons?.length>0&&`${ye.moons.length} moon${ye.moons.length!==1?"s":""}`})]})]})}),E[st]&&n.jsxs("div",{className:"p-3 bg-gray-900/50",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[ye.biome&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Biome"}),n.jsx("div",{className:"text-green-400",children:ye.biome})]}),ye.weather&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Weather"}),n.jsx("div",{className:"text-sky-400",children:ye.weather})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Sentinels"}),n.jsx("div",{children:ye.sentinel||ye.sentinel_level||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Fauna"}),n.jsx("div",{children:ye.fauna||"N/A"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Flora"}),n.jsx("div",{children:ye.flora||"N/A"})]}),ye.climate&&ye.climate!==ye.biome&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Climate"}),n.jsx("div",{children:ye.climate})]}),ye.has_water===1&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Water"}),n.jsx("div",{className:"text-cyan-400",children:"Present"})]}),ye.materials&&n.jsxs("div",{className:"col-span-2 md:col-span-3",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Materials"}),n.jsx("div",{children:ye.materials})]})]}),ye.description&&n.jsxs("div",{className:"mt-3",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Description"}),n.jsx("div",{className:"text-sm text-gray-300",children:ye.description})]}),ye.photo&&n.jsx("div",{className:"mt-3",children:n.jsx("img",{src:zg(ye.photo),alt:ye.name,className:"max-w-xs rounded border border-gray-700"})}),ye.moons?.length>0&&n.jsxs("div",{className:"mt-3",children:[n.jsxs("h5",{className:"text-xs font-semibold text-cyan-400 mb-2",children:["Moons (",ye.moons.length,")"]}),n.jsx("div",{className:"space-y-2",children:ye.moons.map((T,Fe)=>n.jsxs("div",{className:"bg-gray-800 p-2 rounded border border-cyan-900/50 text-sm",children:[n.jsx("div",{className:"font-medium mb-1",children:T.name}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[T.biome&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Biome: "}),n.jsx("span",{className:"text-green-400",children:T.biome})]}),T.weather&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Weather: "}),n.jsx("span",{className:"text-sky-400",children:T.weather})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Sentinels: "}),T.sentinel||"Unknown"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Fauna: "}),T.fauna||"N/A"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Flora: "}),T.flora||"N/A"]})]}),T.description&&n.jsx("div",{className:"mt-1 text-xs text-gray-300",children:T.description})]},Fe))})]})]})]},st))})]})]})]},J.id)})})]})]},V)})})]})}function $g(l){if(!l)return null;if(l.startsWith("http"))return l;const i=l.replace(/\\/g,"/").split("/"),c=i[i.length-1];return`/haven-ui-photos/${encodeURIComponent(c)}`}function Bg(){const{id:l}=Fx(),a=Rn(),i=x.useContext(_t),[c,d]=x.useState(null),[f,m]=x.useState(!0),[y,g]=x.useState(null),[v,N]=x.useState({});x.useEffect(()=>{_()},[l]);async function _(){try{m(!0);const h=await ce.get(`/api/systems/${encodeURIComponent(l)}`);d(h.data),g(null)}catch(h){g(h.response?.data?.detail||"Failed to load system")}finally{m(!1)}}async function E(){if(confirm(`Are you sure you want to delete the system "${c.name}"?`))try{await ce.delete(`/api/systems/${encodeURIComponent(l)}`),alert("System deleted successfully"),a("/systems")}catch(h){alert(`Failed to delete system: ${h.response?.data?.detail||h.message}`)}}function b(h){N(P=>({...P,[h]:!P[h]}))}return f?n.jsx("div",{className:"p-6",children:n.jsx(De,{children:n.jsx("div",{className:"text-center py-8",children:"Loading system..."})})}):y?n.jsx("div",{className:"p-6",children:n.jsxs(De,{children:[n.jsx("div",{className:"text-center py-8 text-red-500",children:y}),n.jsx("div",{className:"text-center mt-4",children:n.jsx(ie,{onClick:()=>a("/systems"),children:"Back to Systems"})})]})}):c?n.jsxs("div",{className:"p-4 sm:p-6 max-w-6xl mx-auto",children:[n.jsxs(De,{className:"mb-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-3 mb-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2 break-words",children:c.name}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsxs("span",{className:"mr-4",children:["Galaxy: ",c.galaxy||"Euclid"]}),c.region_x!==null&&c.region_x!==void 0&&n.jsxs("span",{className:"mr-4",children:["Region: [",c.region_x,", ",c.region_y,", ",c.region_z,"]"]}),n.jsxs("span",{className:"block sm:inline mt-1 sm:mt-0",children:["ID: ",c.id]})]}),c.glyph_code&&n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"text-purple-400 font-mono text-lg tracking-wider",children:c.glyph_code})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto flex-shrink-0",children:[n.jsx(ie,{className:"bg-blue-600 hover:bg-blue-700 w-full sm:w-auto",onClick:()=>a(`/create?edit=${encodeURIComponent(c.id||c.name)}`),children:"Edit"}),i?.isAdmin&&n.jsx(ie,{className:"bg-red-600 hover:bg-red-700 w-full sm:w-auto",onClick:E,children:"Delete"}),n.jsx(ie,{className:"bg-gray-600 hover:bg-gray-700 w-full sm:w-auto",onClick:()=>a("/systems"),children:"Back"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 p-4 bg-gray-800 rounded",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"X Coordinate"}),n.jsx("div",{className:"text-lg font-mono",children:c.x||"0"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Y Coordinate"}),n.jsx("div",{className:"text-lg font-mono",children:c.y||"0"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Z Coordinate"}),n.jsx("div",{className:"text-lg font-mono",children:c.z||"0"})]})]}),(c.star_type||c.economy_type||c.economy_level||c.conflict_level||c.dominant_lifeform)&&n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 mb-4 p-4 bg-gray-800 rounded",children:[c.star_type&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Star Type"}),n.jsx("div",{className:"text-yellow-400",children:c.star_type})]}),c.economy_type&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Economy"}),n.jsx("div",{className:"text-green-400",children:c.economy_type})]}),c.economy_level&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Wealth"}),n.jsx("div",{className:c.economy_level==="High"?"text-yellow-400":c.economy_level==="Medium"?"text-blue-400":"text-gray-300",children:c.economy_level})]}),c.conflict_level&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Conflict"}),n.jsx("div",{className:c.conflict_level==="High"?"text-red-400":c.conflict_level==="Medium"?"text-orange-400":"text-green-400",children:c.conflict_level})]}),c.dominant_lifeform&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Dominant Lifeform"}),n.jsx("div",{className:c.dominant_lifeform==="Vy'keen"?"text-red-400":c.dominant_lifeform==="Gek"?"text-yellow-400":c.dominant_lifeform==="Korvax"?"text-cyan-400":"text-gray-300",children:c.dominant_lifeform})]})]}),c.description&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-gray-300",children:c.description})]})]}),c.space_station&&n.jsxs(De,{className:"mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Space Station"}),n.jsx("div",{className:"bg-purple-900/30 border border-purple-600 rounded p-4",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Name"}),n.jsx("div",{className:"font-semibold",children:c.space_station.name})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Race"}),n.jsx("div",{children:c.space_station.race||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Sell %"}),n.jsxs("div",{children:[c.space_station.sell_percent||"80","%"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Buy %"}),n.jsxs("div",{children:[c.space_station.buy_percent||"50","%"]})]})]})})]}),n.jsxs(De,{children:[n.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Planets (",c.planets?.length||0,")"]}),!c.planets||c.planets.length===0?n.jsx("div",{className:"text-center py-8 text-gray-400",children:"No planets in this system"}):n.jsx("div",{className:"space-y-4",children:c.planets.map((h,P)=>n.jsxs("div",{className:"border border-gray-700 rounded overflow-hidden",children:[n.jsx("div",{className:"bg-gray-800 p-4 cursor-pointer hover:bg-gray-750 transition-colors",onClick:()=>b(P),children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[h.name,h.is_moon===1&&n.jsx("span",{className:"text-sm text-purple-400",children:"(Moon)"}),h.data_source==="remote"&&n.jsx("span",{className:"text-xs bg-amber-500 text-white px-1.5 py-0.5 rounded",title:"Remote data - visit for full detail (weather, flora, fauna, sentinels)",children:" Remote"})]}),n.jsxs("div",{className:"text-sm text-gray-400 mt-1 flex flex-wrap gap-x-4",children:[h.biome&&n.jsx("span",{className:"text-green-400",children:h.biome}),h.planet_size&&n.jsx("span",{children:h.planet_size}),h.moons&&h.moons.length>0&&n.jsxs("span",{children:[h.moons.length," moon",h.moons.length!==1?"s":""]}),n.jsxs("span",{className:(h.sentinel||h.sentinel_level)==="Aggressive"?"text-red-400":(h.sentinel||h.sentinel_level)==="Low"?"text-green-400":"",children:["Sentinel: ",h.sentinel||h.sentinel_level||"Unknown"]}),h.fauna&&h.fauna!=="N/A"&&h.fauna!=="None"&&n.jsxs("span",{className:h.fauna==="Rich"?"text-yellow-400":"",children:["Fauna: ",h.fauna]}),h.flora&&h.flora!=="N/A"&&h.flora!=="None"&&n.jsxs("span",{className:h.flora==="Rich"?"text-green-400":"",children:["Flora: ",h.flora]})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("div",{className:"text-2xl",children:v[P]?"":"+"})})]})}),v[P]&&n.jsxs("div",{className:"p-4 bg-gray-900/50",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4",children:[h.biome&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Biome"}),n.jsx("div",{className:"text-green-400 font-medium",children:h.biome})]}),h.biome_subtype&&h.biome_subtype!=="None_"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Biome Subtype"}),n.jsx("div",{children:h.biome_subtype})]}),h.planet_size&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Size"}),n.jsx("div",{children:h.planet_size})]}),h.is_moon===1&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Type"}),n.jsx("div",{className:"text-purple-400",children:"Moon"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Sentinel Level"}),n.jsx("div",{className:(h.sentinel||h.sentinel_level)==="Aggressive"?"text-red-400":(h.sentinel||h.sentinel_level)==="High"?"text-orange-400":(h.sentinel||h.sentinel_level)==="Low"?"text-green-400":"",children:h.sentinel||h.sentinel_level||"Unknown"})]}),h.sentinels_text&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Sentinel Info"}),n.jsx("div",{className:"text-sm",children:h.sentinels_text})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Fauna"}),n.jsxs("div",{className:h.fauna==="Rich"?"text-yellow-400":h.fauna==="Average"?"text-blue-300":"",children:[h.fauna||"N/A",h.fauna_count>0&&` (${h.fauna_count} species)`]})]}),h.fauna_text&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Fauna Info"}),n.jsx("div",{className:"text-sm",children:h.fauna_text})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Flora"}),n.jsxs("div",{className:h.flora==="Rich"?"text-green-400":h.flora==="Average"?"text-blue-300":"",children:[h.flora||"N/A",h.flora_count>0&&` (${h.flora_count} species)`]})]}),h.flora_text&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Flora Info"}),n.jsx("div",{className:"text-sm",children:h.flora_text})]}),h.climate&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Climate"}),n.jsx("div",{children:h.climate})]}),h.weather&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Weather"}),n.jsx("div",{className:"text-blue-300",children:h.weather})]}),h.weather_text&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Weather Info"}),n.jsx("div",{className:"text-sm",children:h.weather_text})]}),h.storm_frequency&&h.storm_frequency!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Storm Frequency"}),n.jsx("div",{className:h.storm_frequency==="Always"?"text-red-400":h.storm_frequency==="High"?"text-orange-400":h.storm_frequency==="Low"?"text-yellow-400":"",children:h.storm_frequency})]}),h.weather_intensity&&h.weather_intensity!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Weather Intensity"}),n.jsx("div",{className:h.weather_intensity==="Extreme"?"text-red-400":"",children:h.weather_intensity})]}),h.building_density&&h.building_density!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Building Density"}),n.jsx("div",{children:h.building_density})]}),h.has_water===1&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Water"}),n.jsx("div",{className:"text-cyan-400",children:"Present"})]})]}),(h.hazard_temperature!==0||h.hazard_radiation!==0||h.hazard_toxicity!==0)&&n.jsxs("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-800/50 rounded",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-2 font-semibold",children:"Environmental Hazards"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.hazard_temperature!==0&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Temperature"}),n.jsxs("div",{className:h.hazard_temperature>0?"text-orange-400":"text-cyan-400",children:[h.hazard_temperature>0?"+":"",h.hazard_temperature?.toFixed(1),""]})]}),h.hazard_radiation!==0&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Radiation"}),n.jsxs("div",{className:"text-yellow-400",children:[h.hazard_radiation?.toFixed(1)," rad"]})]}),h.hazard_toxicity!==0&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Toxicity"}),n.jsxs("div",{className:"text-green-500",children:[h.hazard_toxicity?.toFixed(1)," tox"]})]})]})]}),(h.common_resource||h.uncommon_resource||h.rare_resource||h.materials)&&n.jsxs("div",{className:"mb-4 p-3 bg-blue-900/20 border border-blue-800/50 rounded",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-2 font-semibold",children:"Resources"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[h.common_resource&&h.common_resource!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Common"}),n.jsx("div",{className:"text-gray-300",children:h.common_resource})]}),h.uncommon_resource&&h.uncommon_resource!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Uncommon"}),n.jsx("div",{className:"text-blue-300",children:h.uncommon_resource})]}),h.rare_resource&&h.rare_resource!=="Unknown"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Rare"}),n.jsx("div",{className:"text-purple-400",children:h.rare_resource})]}),h.materials&&n.jsxs("div",{className:"col-span-2 md:col-span-3",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"All Materials"}),n.jsx("div",{children:h.materials})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[h.base_location&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Base Location"}),n.jsx("div",{children:h.base_location})]}),h.description&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Description"}),n.jsx("div",{className:"text-gray-300",children:h.description})]})]}),h.notes&&n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Notes"}),n.jsx("div",{className:"text-sm text-gray-300",children:h.notes})]}),h.photo&&n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Photo"}),n.jsx("img",{src:$g(h.photo),alt:h.name,className:"w-full max-w-md rounded border border-gray-700"})]}),h.moons&&h.moons.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("h4",{className:"font-semibold mb-2 text-cyan-400",children:["Moons (",h.moons.length,")"]}),n.jsx("div",{className:"space-y-2",children:h.moons.map((j,I)=>n.jsxs("div",{className:"bg-gray-800 p-3 rounded border border-cyan-800",children:[n.jsx("div",{className:"font-medium mb-2",children:j.name}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Sentinel"}),n.jsx("div",{children:j.sentinel||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Fauna"}),n.jsx("div",{children:j.fauna||"N/A"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Flora"}),n.jsx("div",{children:j.flora||"N/A"})]}),j.climate&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Climate"}),n.jsx("div",{children:j.climate})]}),j.materials&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Materials"}),n.jsx("div",{children:j.materials})]})]}),j.description&&n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Description"}),n.jsx("div",{className:"text-sm text-gray-300",children:j.description})]}),j.notes&&n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"text-xs text-gray-400",children:"Notes"}),n.jsx("div",{className:"text-sm text-gray-300",children:j.notes})]})]},I))})]})]})]},P))})]})]}):n.jsx("div",{className:"p-6",children:n.jsxs(De,{children:[n.jsx("div",{className:"text-center py-8",children:"System not found"}),n.jsx("div",{className:"text-center mt-4",children:n.jsx(ie,{onClick:()=>a("/systems"),children:"Back to Systems"})})]})})}async function Hg(){const l=await fetch("/api/admin/status",{method:"GET",credentials:"same-origin"});if(!l.ok)throw new Error(await l.text());return await l.json()}async function bf(l){const a=new FormData;a.append("file",l);const i=await fetch("/api/photos",{method:"POST",credentials:"same-origin",body:a});if(!i.ok)throw new Error(await i.text());return await i.json()}function Dd({moon:l,index:a,onChange:i,onRemove:c,onSave:d}){const[f,m]=x.useState(!1);function y(v,N){const _={...l,[v]:N};i(a,_)}async function g(v){m(!0);try{const N=v.target.files[0];if(!N)return;const _=await bf(N);y("photo",_.path)}catch(N){alert("Upload failed: "+N)}m(!1)}return n.jsxs("div",{className:"p-2 border rounded my-2 bg-white/5",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm",children:"Moon Name"}),n.jsx("input",{placeholder:"Moon name",className:"mt-1 p-1 rounded w-full",value:l.name||"",onChange:v=>y("name",v.target.value)})]}),n.jsxs("div",{className:"w-28",children:[n.jsx("label",{className:"block text-sm",children:"Biome"}),n.jsxs("select",{className:"w-full mt-1 p-1 rounded",value:l.biome||"",onChange:v=>y("biome",v.target.value),children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Lush",children:"Lush"}),n.jsx("option",{value:"Barren",children:"Barren"}),n.jsx("option",{value:"Dead",children:"Dead"}),n.jsx("option",{value:"Scorched",children:"Scorched"}),n.jsx("option",{value:"Frozen",children:"Frozen"}),n.jsx("option",{value:"Toxic",children:"Toxic"}),n.jsx("option",{value:"Radioactive",children:"Radioactive"}),n.jsx("option",{value:"Marsh",children:"Marsh"}),n.jsx("option",{value:"Exotic",children:"Exotic"})]})]}),n.jsxs("div",{className:"w-32",children:[n.jsx("label",{className:"block text-sm",children:"Weather"}),n.jsxs("select",{className:"w-full mt-1 p-1 rounded",value:l.weather||"",onChange:v=>y("weather",v.target.value),children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Clear",children:"Clear"}),n.jsx("option",{value:"Dusty",children:"Dusty"}),n.jsx("option",{value:"Humid",children:"Humid"}),n.jsx("option",{value:"Superheated",children:"Superheated"}),n.jsx("option",{value:"Freezing",children:"Freezing"}),n.jsx("option",{value:"Toxic Rain",children:"Toxic Rain"}),n.jsx("option",{value:"Irradiated",children:"Irradiated"}),n.jsx("option",{value:"Extreme Storms",children:"Extreme Storms"}),n.jsx("option",{value:"Electric",children:"Electric"}),n.jsx("option",{value:"Blissful",children:"Blissful"})]})]}),n.jsx("div",{className:"pl-2",children:n.jsx("button",{type:"button",onClick:()=>c(a),className:"px-2 py-1 bg-red-600 rounded",children:"Remove Moon"})})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Sentinels"}),n.jsxs("select",{className:"w-full mt-1 p-1 rounded",value:l.sentinel||"",onChange:v=>y("sentinel",v.target.value),children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"None",children:"None"}),n.jsx("option",{value:"Limited",children:"Limited"}),n.jsx("option",{value:"Low Security",children:"Low Security"}),n.jsx("option",{value:"Normal",children:"Normal"}),n.jsx("option",{value:"High Security",children:"High Security"}),n.jsx("option",{value:"Aggressive",children:"Aggressive"}),n.jsx("option",{value:"Frenzied",children:"Frenzied"}),n.jsx("option",{value:"Corrupted",children:"Corrupted"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Flora"}),n.jsxs("select",{"aria-label":"Moon Flora",className:"mt-1 p-1 rounded w-full",value:l.flora||"",onChange:v=>y("flora",v.target.value),children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"None",children:"None"}),n.jsx("option",{value:"Sparse",children:"Sparse"}),n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Average",children:"Average"}),n.jsx("option",{value:"High",children:"High"}),n.jsx("option",{value:"Abundant",children:"Abundant"}),n.jsx("option",{value:"Lush",children:"Lush"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Fauna"}),n.jsxs("select",{"aria-label":"Moon Fauna",className:"mt-1 p-1 rounded w-full",value:l.fauna||"",onChange:v=>y("fauna",v.target.value),children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"None",children:"None"}),n.jsx("option",{value:"Sparse",children:"Sparse"}),n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Ample",children:"Ample"}),n.jsx("option",{value:"Full",children:"Full"}),n.jsx("option",{value:"Bountiful",children:"Bountiful"}),n.jsx("option",{value:"Copious",children:"Copious"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Materials"}),n.jsx("input",{"aria-label":"Moon Materials",placeholder:"Comma separated",className:"mt-1 p-1 rounded w-full",value:l.materials||"",onChange:v=>y("materials",v.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Notes"}),n.jsx("input",{placeholder:"Optional notes",className:"mt-1 p-1 rounded w-full",value:l.notes||"",onChange:v=>y("notes",v.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Photo"}),n.jsx("input",{"aria-label":"Moon Photo",type:"file",onChange:g,className:"mt-1"}),f&&n.jsx("div",{className:"muted text-sm mt-1",children:"Uploading..."}),!f&&l.photo&&n.jsxs("div",{className:"mt-2 relative inline-block group",children:[n.jsx("img",{src:l.photo.startsWith("http")?l.photo:`/haven-ui-photos/${l.photo.replace(/^photos[\\/]/,"").split(/[\\/]/).pop()}`,alt:"Moon photo",className:"max-w-xs max-h-32 rounded border border-gray-600"}),n.jsx("button",{type:"button",onClick:()=>y("photo",null),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-sm font-bold",title:"Remove photo",children:"X"}),n.jsx("div",{className:"text-xs text-gray-400 mt-1 break-all",children:l.photo})]})]})]}),n.jsx("div",{className:"mt-2",children:d&&n.jsx("button",{type:"button",onClick:()=>d(l),className:"px-3 py-1 bg-blue-600 rounded",children:"Save"})})]})}function rt({title:l,children:a,onClose:i,isOpen:c=!0}){return c?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40 p-4 overflow-y-auto",children:n.jsxs("div",{className:"p-6 rounded shadow max-w-3xl w-full my-4 max-h-[90vh] flex flex-col",style:{backgroundColor:"var(--app-card)"},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[n.jsx("div",{className:"font-semibold text-lg",children:l}),n.jsx("button",{onClick:i,className:"px-2 py-1 rounded",style:{backgroundColor:"var(--app-accent-3)",color:"#fff"},children:"Close"})]}),n.jsx("div",{className:"overflow-y-auto flex-1",children:a})]})}):null}function Fd({planet:l,index:a,onChange:i,onRemove:c,onSave:d}){const[f,m]=x.useState(!1),[y,g]=x.useState(!1),[v,N]=x.useState(null),[_,E]=x.useState(null);function b(B,Z){const le={...l,[B]:Z};i(a,le)}function h(){N(-1),E({name:"",biome:"",weather:"",sentinel:"None",fauna:"N/A",flora:"N/A",materials:"",notes:"",photo:null}),g(!0)}function P(B,Z){const le=[...l.moons||[]];le[B]=Z,b("moons",le)}function j(B){const Z=[...l.moons||[]];Z.splice(B,1),b("moons",Z)}function I(B){N(B),E(l.moons[B]),g(!0)}function K(B){const Z=[...l.moons||[]];v===-1?Z.push(B):Z[v]=B,b("moons",Z),g(!1)}async function Q(B){m(!0);try{const Z=B.target.files[0];if(!Z)return;const le=await bf(Z);b("photo",le.path)}catch(Z){alert("Upload failed: "+Z)}m(!1)}return n.jsxs("div",{className:"p-3 my-3 border rounded bg-white/5",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm",children:"Planet Name"}),n.jsx("input",{className:"mt-1 p-1 rounded w-full",value:l.name||"",onChange:B=>b("name",B.target.value),placeholder:"Planet name"})]}),n.jsxs("div",{className:"w-32",children:[n.jsx("label",{className:"block text-sm",children:"Biome"}),n.jsxs("select",{className:"w-full mt-1 p-1 rounded",value:l.biome||"",onChange:B=>b("biome",B.target.value),children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Lush",children:"Lush"}),n.jsx("option",{value:"Barren",children:"Barren"}),n.jsx("option",{value:"Dead",children:"Dead"}),n.jsx("option",{value:"Scorched",children:"Scorched"}),n.jsx("option",{value:"Frozen",children:"Frozen"}),n.jsx("option",{value:"Toxic",children:"Toxic"}),n.jsx("option",{value:"Radioactive",children:"Radioactive"}),n.jsx("option",{value:"Marsh",children:"Marsh"}),n.jsx("option",{value:"Exotic",children:"Exotic"})]})]}),n.jsxs("div",{className:"w-36",children:[n.jsx("label",{className:"block text-sm",children:"Weather"}),n.jsxs("select",{className:"w-full mt-1 p-1 rounded",value:l.weather||"",onChange:B=>b("weather",B.target.value),children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Clear",children:"Clear"}),n.jsx("option",{value:"Dusty",children:"Dusty"}),n.jsx("option",{value:"Humid",children:"Humid"}),n.jsx("option",{value:"Superheated",children:"Superheated"}),n.jsx("option",{value:"Freezing",children:"Freezing"}),n.jsx("option",{value:"Toxic Rain",children:"Toxic Rain"}),n.jsx("option",{value:"Irradiated",children:"Irradiated"}),n.jsx("option",{value:"Extreme Storms",children:"Extreme Storms"}),n.jsx("option",{value:"Electric",children:"Electric"}),n.jsx("option",{value:"Blissful",children:"Blissful"})]})]})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Sentinels"}),n.jsxs("select",{className:"w-full mt-1 p-1 rounded",value:l.sentinel||"",onChange:B=>b("sentinel",B.target.value),children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"None",children:"None"}),n.jsx("option",{value:"Limited",children:"Limited"}),n.jsx("option",{value:"Low Security",children:"Low Security"}),n.jsx("option",{value:"Normal",children:"Normal"}),n.jsx("option",{value:"High Security",children:"High Security"}),n.jsx("option",{value:"Aggressive",children:"Aggressive"}),n.jsx("option",{value:"Frenzied",children:"Frenzied"}),n.jsx("option",{value:"Corrupted",children:"Corrupted"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Flora"}),n.jsxs("select",{"aria-label":"Planet Flora",className:"mt-1 p-1 rounded w-full",value:l.flora||"",onChange:B=>b("flora",B.target.value),children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"None",children:"None"}),n.jsx("option",{value:"Sparse",children:"Sparse"}),n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Average",children:"Average"}),n.jsx("option",{value:"High",children:"High"}),n.jsx("option",{value:"Abundant",children:"Abundant"}),n.jsx("option",{value:"Lush",children:"Lush"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Fauna"}),n.jsxs("select",{"aria-label":"Planet Fauna",className:"mt-1 p-1 rounded w-full",value:l.fauna||"",onChange:B=>b("fauna",B.target.value),children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"None",children:"None"}),n.jsx("option",{value:"Sparse",children:"Sparse"}),n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Ample",children:"Ample"}),n.jsx("option",{value:"Full",children:"Full"}),n.jsx("option",{value:"Bountiful",children:"Bountiful"}),n.jsx("option",{value:"Copious",children:"Copious"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Resources / Materials"}),n.jsx("input",{"aria-label":"Planet Materials",placeholder:"Comma separated",className:"mt-1 p-1 rounded w-full",value:l.materials||"",onChange:B=>b("materials",B.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Base Location"}),n.jsx("input",{"aria-label":"Planet Base",placeholder:"Base location",className:"mt-1 p-1 rounded w-full",value:l.base_location||"",onChange:B=>b("base_location",B.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Photo"}),n.jsx("input",{"aria-label":"Planet Photo",type:"file",onChange:Q,className:"mt-1"}),f&&n.jsx("div",{className:"muted text-sm mt-1",children:"Uploading..."}),!f&&l.photo&&n.jsxs("div",{className:"mt-2 relative inline-block group",children:[n.jsx("img",{src:l.photo.startsWith("http")?l.photo:`/haven-ui-photos/${l.photo.replace(/^photos[\\/]/,"").split(/[\\/]/).pop()}`,alt:"Planet photo",className:"max-w-xs max-h-32 rounded border border-gray-600"}),n.jsx("button",{type:"button",onClick:()=>b("photo",null),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-sm font-bold",title:"Remove photo",children:"X"}),n.jsx("div",{className:"text-xs text-gray-400 mt-1 break-all",children:l.photo})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Notes"}),n.jsx("input",{placeholder:"Notes",className:"mt-1 p-1 rounded w-full",value:l.notes||"",onChange:B=>b("notes",B.target.value)})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("button",{type:"button",onClick:h,className:"px-3 py-1 bg-green-600 rounded",children:" Add Moon"}),n.jsx("button",{type:"button",onClick:()=>c(a),className:"ml-3 px-3 py-1 bg-red-600 rounded",children:"Remove Planet"}),d&&n.jsx("button",{type:"button",onClick:()=>d(l),className:"ml-3 px-3 py-1 bg-blue-600 rounded",children:"Save"})]}),n.jsx("div",{className:"mt-3",children:(l.moons||[]).map((B,Z)=>n.jsxs("div",{children:[n.jsx(Dd,{index:Z,moon:B,onChange:P,onRemove:j}),n.jsx("div",{className:"mt-1",children:n.jsx("button",{type:"button",onClick:()=>I(Z),className:"px-2 py-1 bg-sky-600 text-white rounded",children:"Edit Moon"})})]},Z))}),y&&n.jsx(rt,{title:v===-1?"Add Moon":"Edit Moon",onClose:()=>g(!1),children:n.jsx(Dd,{moon:_,index:v,onChange:(B,Z)=>E(Z),onSave:K,onRemove:()=>{g(!1)}})})]})}const Vg=({value:l,onChange:a,onDecoded:i})=>{const[c,d]=x.useState(l||""),[f,m]=x.useState([]),[y,g]=x.useState({}),[v,N]=x.useState("visual"),[_,E]=x.useState({valid:null,message:null}),[b,h]=x.useState(null),[P,j]=x.useState(!1);x.useEffect(()=>{ce.get("/api/glyph_images").then(re=>{g(re.data)}).catch(re=>{console.error("Failed to load glyph images:",re)})},[]),x.useEffect(()=>{a&&a(c)},[c,a]),x.useEffect(()=>{c.length===12?I(c):(h(null),E({valid:null,message:null}))},[c]);const I=async re=>{j(!0);try{const me=await ce.post("/api/validate_glyph",{glyph:re});if(!me.data.valid){E({valid:!1,message:me.data.error}),h(null),j(!1);return}const ee=await ce.post("/api/decode_glyph",{glyph:re,apply_scale:!1});h(ee.data);const A=[];me.data.warning&&A.push(me.data.warning),ee.data.warnings&&A.push(ee.data.warnings),E({valid:!0,message:A.length>0?A.join("; "):null}),i&&i(ee.data)}catch(me){E({valid:!1,message:me.response?.data?.detail||"Failed to decode glyph"}),h(null)}j(!1)},K=re=>{if(f.length<12){const me=[...f,re];m(me),d(me.join(""))}},Q=()=>{if(f.length>0){const re=f.slice(0,-1);m(re),d(re.join(""))}},B=()=>{m([]),d(""),h(null),E({valid:null,message:null})},Z=re=>{const me=re.target.value.toUpperCase().replace(/[^0-9A-F]/g,"").slice(0,12);d(me),m(me.split(""))},le=re=>re?re.length===12?`${re[0]}-${re.slice(1,4)}-${re.slice(4,6)}-${re.slice(6,9)}-${re.slice(9,12)}`:re:"",fe=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],we={0:"Sunset",1:"Bird",2:"Face",3:"Diplo",4:"Eclipse",5:"Balloon",6:"Boat",7:"Bug",8:"Dragonfly",9:"Galaxy",A:"Voxel",B:"Fish",C:"Tent",D:"Rocket",E:"Tree",F:"Atlas"};return n.jsxs("div",{className:"glyph-picker bg-gray-900 p-4 rounded-lg border border-purple-500",children:[n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx("button",{type:"button",onClick:()=>N("visual"),className:`px-4 py-2 rounded ${v==="visual"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Visual Picker"}),n.jsx("button",{type:"button",onClick:()=>N("text"),className:`px-4 py-2 rounded ${v==="text"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Text Input"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Portal Glyph Code (12 digits)"}),n.jsx("div",{className:"bg-gray-800 p-3 rounded border border-gray-700 font-mono text-xl text-center",children:c.length>0?n.jsx("span",{className:_.valid===!1?"text-red-400":"text-green-400",children:le(c)}):n.jsx("span",{className:"text-gray-500",children:"Enter or select glyphs..."})}),n.jsxs("div",{className:"text-xs text-gray-400 mt-1 text-center",children:[c.length,"/12 digits"]})]}),v==="visual"&&n.jsxs("div",{children:[n.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-8 gap-2 sm:gap-2 mb-4",children:fe.map(re=>n.jsxs("button",{type:"button",onClick:()=>K(re),disabled:f.length>=12,className:"relative aspect-square border-2 border-purple-500 rounded hover:border-purple-300 hover:bg-purple-900/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden bg-gray-800",title:`${we[re]} (${re})`,children:[y[re]?n.jsx("img",{src:`/haven-ui-photos/${y[re]}`,alt:we[re],className:"w-full h-full object-contain p-1 sm:p-1 pb-4 sm:pb-4"}):n.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-purple-300 font-mono text-2xl sm:text-lg pb-4",children:re}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/80 text-[10px] sm:text-xs text-purple-300 py-0.5 text-center font-mono",children:re})]},re))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{type:"button",onClick:Q,disabled:f.length===0,className:"flex-1 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Backspace"}),n.jsx("button",{type:"button",onClick:B,disabled:f.length===0,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear All"})]})]}),v==="text"&&n.jsxs("div",{children:[n.jsx("input",{type:"text",value:c,onChange:Z,placeholder:"Paste 12-digit hex code (e.g., 10A4F3E7B2C1)",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded text-white font-mono uppercase focus:border-purple-500 focus:outline-none",maxLength:12}),n.jsx("button",{type:"button",onClick:B,className:"w-full mt-2 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded",children:"Clear"})]}),_.message&&n.jsxs("div",{className:`mt-4 p-3 rounded ${_.valid===!1?"bg-red-900/50 border border-red-500 text-red-300":"bg-yellow-900/50 border border-yellow-500 text-yellow-300"}`,children:[n.jsx("div",{className:"font-semibold mb-1",children:_.valid===!1?" Invalid Glyph":" Warning"}),n.jsx("div",{className:"text-sm",children:_.message})]}),P&&n.jsx("div",{className:"mt-4 p-3 bg-gray-800 rounded border border-purple-500 text-center text-purple-300",children:"Decoding glyph..."}),b&&!P&&n.jsxs("div",{className:`mt-4 p-3 rounded border ${b.is_phantom||b.is_in_core?"bg-orange-900/30 border-orange-500":"bg-green-900/30 border-green-500"}`,children:[n.jsx("div",{className:"font-semibold mb-2 flex items-center gap-2",children:b.is_phantom||b.is_in_core?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-orange-300",children:" Decoded Coordinates"}),b.is_phantom&&n.jsx("span",{className:"text-xs bg-purple-600 text-white px-2 py-0.5 rounded",title:"Phantom Star - Not normally accessible on Galactic Map",children:" PHANTOM"}),b.is_in_core&&n.jsx("span",{className:"text-xs bg-red-600 text-white px-2 py-0.5 rounded",title:"Located in Galactic Core Void",children:" CORE"})]}):n.jsx("span",{className:"text-green-300",children:" Decoded Coordinates"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-300",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"X:"})," ",n.jsx("span",{className:`font-mono ${b.is_phantom||b.is_in_core?"text-orange-300":"text-green-300"}`,children:b.x})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Y:"})," ",n.jsx("span",{className:`font-mono ${b.is_phantom||b.is_in_core?"text-orange-300":"text-green-300"}`,children:b.y})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Z:"})," ",n.jsx("span",{className:`font-mono ${b.is_phantom||b.is_in_core?"text-orange-300":"text-green-300"}`,children:b.z})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Planet:"})," ",n.jsx("span",{className:`font-mono ${b.is_phantom||b.is_in_core?"text-orange-300":"text-green-300"}`,children:b.planet})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-400",children:"Region:"})," ",n.jsxs("span",{className:`font-mono ${b.is_phantom||b.is_in_core?"text-orange-300":"text-green-300"}`,children:["[",b.region_x,", ",b.region_y,", ",b.region_z,"]"]})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-400",children:"Solar System Index:"})," ",n.jsxs("span",{className:`font-mono ${b.is_phantom||b.is_in_core?"text-orange-300":"text-green-300"}`,children:[b.solar_system," (0x",b.solar_system?.toString(16).toUpperCase().padStart(3,"0"),")"]})]})]}),(b.is_phantom||b.is_in_core)&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-orange-700 text-xs text-orange-200",children:[n.jsx("strong",{children:"Classification:"})," ",b.classification?.replace("_"," ").toUpperCase(),n.jsx("div",{className:"mt-1 text-orange-300/80",children:"This system will be recorded for tracking purposes but may not appear on standard maps."})]}),b.star_x!==void 0&&n.jsxs("div",{className:`mt-3 pt-3 border-t ${b.is_phantom||b.is_in_core?"border-orange-700":"border-green-700"}`,children:[n.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"3D Map Position (calculated from region + SSS):"}),n.jsxs("div",{className:"font-mono text-xs text-cyan-300",children:["(",b.star_x?.toFixed(2),", ",b.star_y?.toFixed(2),", ",b.star_z?.toFixed(2),")"]})]})]})]})},_n={STATION_TO_SUN:1.5,STATION_TO_PLANET:2,STATION_TO_MOON:1.5,STATION_TO_STATION:1.5};function Ui(l,a,i,c,d,f){return Math.sqrt((c-l)**2+(d-a)**2+(f-i)**2)}function Wg(l,a){const i=a.orbit_radius||a.orbit_distance||.5;return{x:l.x,y:l.y,z:l.z,radius:i}}function Kg(l,a,i,c,d=[]){const f=Math.sqrt(l*l+a*a+i*i);if(f<_n.STATION_TO_SUN)return{collision:!0,reason:`Too close to sun (${f.toFixed(2)} < ${_n.STATION_TO_SUN})`};for(const m of c){const y=Ui(l,a,i,m.x||0,m.y||0,m.z||0);if(y<_n.STATION_TO_PLANET)return{collision:!0,reason:`Too close to planet "${m.name}" (${y.toFixed(2)} < ${_n.STATION_TO_PLANET})`};if(m.moons&&Array.isArray(m.moons))for(const g of m.moons){const v=Wg(m,g),N=Ui(l,a,i,v.x,v.y,v.z),_=_n.STATION_TO_MOON+v.radius;if(N<_)return{collision:!0,reason:`Too close to moon "${g.name}" orbit (${N.toFixed(2)} < ${_.toFixed(2)})`}}}for(const m of d){const y=Ui(l,a,i,m.x||0,m.y||0,m.z||0);if(y<_n.STATION_TO_STATION)return{collision:!0,reason:`Too close to station "${m.name}" (${y.toFixed(2)} < ${_n.STATION_TO_STATION})`}}return{collision:!1}}function Md(l=[],a=[],i={}){const{maxAttempts:c=100,minOrbitMultiplier:d=.5,maxOrbitMultiplier:f=1.5,defaultMinOrbit:m=5,defaultMaxOrbit:y=40,phiRange:g=.5,preferTradeRoutes:v=!1}=i;let N=m,_=y;if(l.length>0){const P=l.map(K=>Math.sqrt((K.x||0)**2+(K.y||0)**2+(K.z||0)**2)),j=Math.min(...P),I=Math.max(...P);N=j*d,_=I*f,N=Math.max(N,_n.STATION_TO_SUN+1)}console.log(`[Station Placement] Orbital range: ${N.toFixed(2)} to ${_.toFixed(2)} units`),console.log(`[Station Placement] Avoiding ${l.length} planets and ${a.length} existing stations`);for(let P=0;P<c;P++){const j=N+Math.random()*(_-N),I=Math.random()*Math.PI*2,K=(Math.random()-.5)*Math.PI*g,Q=j*Math.cos(K)*Math.cos(I),B=j*Math.sin(K),Z=j*Math.cos(K)*Math.sin(I),le=Kg(Q,B,Z,l,a);if(le.collision)P%20===0&&P>0&&console.log(`[Station Placement] Attempt ${P}: ${le.reason}`);else return console.log(`[Station Placement]  Found safe position after ${P+1} attempts`),console.log(`[Station Placement] Position: (${Q.toFixed(2)}, ${B.toFixed(2)}, ${Z.toFixed(2)})`),{x:parseFloat(Q.toFixed(2)),y:parseFloat(B.toFixed(2)),z:parseFloat(Z.toFixed(2)),attempts:P+1,fallback:!1}}console.warn(`[Station Placement]  Could not find collision-free position after ${c} attempts`),console.warn("[Station Placement] Using fallback position");const E=N+5;return{x:parseFloat(E.toFixed(2)),y:parseFloat(0 .toFixed(2)),z:parseFloat(0 .toFixed(2)),attempts:c,fallback:!0}}function qg(){return new URLSearchParams(br().search)}function Id(){const l=qg(),a=Rn(),i=x.useContext(_t),{isAdmin:c,isSuperAdmin:d,isPartner:f,user:m}=i||{},y=l.get("edit"),[g,v]=x.useState({id:"",name:"",galaxy:"Euclid",glyph_code:"",x:"",y:"",z:"",description:"",planets:[],space_station:null,region_x:null,region_y:null,region_z:null,glyph_planet:0,glyph_solar_system:1,discord_tag:null,star_type:"",economy_type:"",economy_level:"",conflict_level:"",dominant_lifeform:""}),[N,_]=x.useState(!1),[E,b]=x.useState(null),[h,P]=x.useState(null),[j,I]=x.useState(!1),[K,Q]=x.useState(!1),[B,Z]=x.useState([]),[le,fe]=x.useState(""),[we,re]=x.useState(null),[me,ee]=x.useState(""),[A,te]=x.useState(!1),[ne,Ee]=x.useState(!1);x.useEffect(()=>{ce.get("/api/discord_tags").then(S=>{Z(S.data.tags||[])}).catch(()=>{})},[]),x.useEffect(()=>{y&&ce.get(`/api/systems/${encodeURIComponent(y)}`).then(S=>{v(S.data),re(S.data.discord_tag)}).catch(()=>{})},[y]);const H=x.useRef(!1);async function ae(S){if(S.preventDefault(),!H.current){H.current=!1;return}if(H.current=!1,!g.name||!g.name.trim()){alert("System name is required");return}if(!g.star_type){alert("Star Color is required");return}if(!g.economy_type){alert("Economy Type is required");return}if(!g.economy_level){alert("Economy Tier is required");return}if(!g.conflict_level){alert("Conflict Level is required");return}if(!g.dominant_lifeform){alert("Dominant Lifeform is required");return}if(g.planets)for(const V of g.planets){if(!V.name||!V.name.trim()){alert("All planets must have a name");return}if(V.moons){for(const oe of V.moons)if(!oe.name||!oe.name.trim()){alert("All moons must have a name");return}}}if(!g.discord_tag&&!c){alert('Discord Community is required. Please select a community or choose "Personal" if you are not affiliated with a community.');return}if(g.discord_tag==="personal"&&!me.trim()){alert("Discord username is required for personal submissions."),te(!0);return}Q(!0);try{if(c){const V={...g};f&&y&&!we&&le&&(V.edit_explanation=le);const oe=await ce.post("/api/save_system",V);oe.data.status==="pending_approval"?alert(`Your edit has been submitted for super admin approval.

Request ID: ${oe.data.request_id}

${oe.data.message}`):alert("System saved successfully!"),a("/systems")}else{const V={...g};g.discord_tag==="personal"&&me.trim()&&(V.personal_discord_username=me.trim());const oe=await ce.post("/api/submit_system",V);alert(`System submitted for approval!

Submission ID: ${oe.data.submission_id}
System Name: ${oe.data.system_name}

An admin will review your submission.`),a("/systems")}}catch(V){const oe=V.response?.data?.detail||V.message||V;alert(`${c?"Save":"Submission"} failed: ${oe}`)}finally{Q(!1)}}const W=f&&y&&!we;function D(S){if(S.key==="Enter"){const V=S.target&&S.target.tagName?S.target.tagName.toUpperCase():"",oe=S.target&&S.target.type?String(S.target.type).toLowerCase():"";if(V==="TEXTAREA"||oe==="submit"||V==="BUTTON")return;S.preventDefault()}}function z(S,V){v(oe=>({...oe,[S]:V}))}function k(S){v(V=>({...V,x:S.x,y:S.y,z:S.z,region_x:S.region_x,region_y:S.region_y,region_z:S.region_z,glyph_planet:S.planet,glyph_solar_system:S.solar_system,glyph_code:S.glyph}))}function U(){b(-1),P({name:"",biome:"",weather:"",sentinel:"None",fauna:"N/A",flora:"N/A",materials:"",base_location:"",photo:"",notes:"",moons:[]}),_(!0)}function ge(S){b(S),P(g.planets[S]),_(!0)}function xe(S){const V=[...g.planets||[]];E===-1?V.push(S):V[E]=S,v({...g,planets:V}),_(!1)}function Ne(S,V){const oe=[...g.planets||[]];oe[S]=V,v({...g,planets:oe})}function $(S){const V=[...g.planets||[]];V.splice(S,1),v({...g,planets:V})}function be(S){if(I(S),S){const V=Md(g.planets||[]);v({...g,space_station:{name:`${g.name||"System"} Station`,race:"Gek",sell_percent:80,buy_percent:50,...V}})}else v({...g,space_station:null})}function Ce(){if(j&&g.space_station){const S=Md(g.planets||[]);v({...g,space_station:{...g.space_station,...S}}),alert(`New position generated:
X: ${S.x}
Y: ${S.y}
Z: ${S.z}
Attempts: ${S.attempts}${S.fallback?" (fallback used)":""}`)}}function Re(S,V){g.space_station&&v({...g,space_station:{...g.space_station,[S]:V}})}return n.jsx("div",{children:n.jsx(De,{className:"max-w-4xl",children:n.jsxs("form",{onSubmit:ae,onKeyDown:D,children:[n.jsxs("label",{className:"block mb-2",children:["System Name ",n.jsx("input",{placeholder:"Name","aria-label":"Name",className:"w-full mt-1",value:g.name||"",onChange:S=>z("name",S.target.value),required:!0})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2 text-purple-300",children:"Portal Glyph Coordinates"}),n.jsx(Vg,{value:g.glyph_code,onChange:S=>z("glyph_code",S),onDecoded:k})]}),g.x&&g.y&&g.z&&n.jsx("div",{className:"mt-4 p-3 bg-gray-800 rounded border border-green-500",children:n.jsxs("div",{className:"text-sm text-gray-300",children:[n.jsx("span",{className:"text-green-300 font-semibold",children:"Coordinates:"})," X: ",g.x,", Y: ",g.y,", Z: ",g.z,g.region_x!==null&&n.jsxs("span",{className:"ml-3",children:[n.jsx("span",{className:"text-purple-300 font-semibold",children:"Region:"})," [",g.region_x,", ",g.region_y,", ",g.region_z,"]"]})]})}),n.jsxs("label",{className:"block mt-3",children:["Galaxy ",n.jsx("input",{placeholder:"Galaxy",className:"w-full mt-1",value:g.galaxy||"Euclid",onChange:S=>z("galaxy",S.target.value)})]}),n.jsxs("div",{className:"mt-4 p-4 bg-gray-800/50 rounded border border-gray-700",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-300",children:"System Attributes"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Star Color ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${g.star_type?"border-gray-600":"border-red-500"}`,value:g.star_type||"",onChange:S=>z("star_type",S.target.value),required:!0,children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Yellow",children:"Yellow"}),n.jsx("option",{value:"Red",children:"Red"}),n.jsx("option",{value:"Green",children:"Green"}),n.jsx("option",{value:"Blue",children:"Blue"}),n.jsx("option",{value:"Purple",children:"Purple"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Economy Type ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${g.economy_type?"border-gray-600":"border-red-500"}`,value:g.economy_type||"",onChange:S=>z("economy_type",S.target.value),required:!0,children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Trading",children:"Trading"}),n.jsx("option",{value:"Mining",children:"Mining"}),n.jsx("option",{value:"Manufacturing",children:"Manufacturing"}),n.jsx("option",{value:"Technology",children:"Technology"}),n.jsx("option",{value:"Scientific",children:"Scientific"}),n.jsx("option",{value:"Power Generation",children:"Power Generation"}),n.jsx("option",{value:"Mass Production",children:"Mass Production"}),n.jsx("option",{value:"Pirate",children:"Pirate"}),n.jsx("option",{value:"None",children:"None (Abandoned)"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Economy Tier ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${g.economy_level?"border-gray-600":"border-red-500"}`,value:g.economy_level||"",onChange:S=>z("economy_level",S.target.value),required:!0,children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"T1",children:"T1 (Low)"}),n.jsx("option",{value:"T2",children:"T2 (Medium)"}),n.jsx("option",{value:"T3",children:"T3 (High)"}),n.jsx("option",{value:"T4",children:"T4 (Pirate)"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Conflict Level ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${g.conflict_level?"border-gray-600":"border-red-500"}`,value:g.conflict_level||"",onChange:S=>z("conflict_level",S.target.value),required:!0,children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Medium",children:"Medium"}),n.jsx("option",{value:"High",children:"High"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Dominant Lifeform ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${g.dominant_lifeform?"border-gray-600":"border-red-500"}`,value:g.dominant_lifeform||"",onChange:S=>z("dominant_lifeform",S.target.value),required:!0,children:[n.jsx("option",{value:"",children:"-- Select --"}),n.jsx("option",{value:"Gek",children:"Gek"}),n.jsx("option",{value:"Vy'keen",children:"Vy'keen"}),n.jsx("option",{value:"Korvax",children:"Korvax"}),n.jsx("option",{value:"None",children:"None (Abandoned)"})]})]})]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Discord Community ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${g.discord_tag?"":"border-red-500"}`,value:g.discord_tag||"",onChange:S=>{const V=S.target.value;V==="personal"?(te(!0),Ee(!0)):(z("discord_tag",V||null),g.discord_tag==="personal"&&ee(""))},required:!0,children:[n.jsx("option",{value:"",children:"-- Select a Community (Required) --"}),B.map(S=>n.jsxs("option",{value:S.tag,children:[S.name," (",S.tag,")"]},S.tag)),n.jsx("option",{value:"personal",children:"Personal (No Community Affiliation)"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select which Discord community this system belongs to, or "Personal" if not affiliated with a community.'}),g.discord_tag==="personal"&&me&&n.jsxs("div",{className:"mt-2 p-2 bg-fuchsia-900/30 border border-fuchsia-500 rounded flex justify-between items-center",children:[n.jsxs("span",{className:"text-fuchsia-300",children:["Discord Username: ",n.jsx("strong",{children:me})]}),n.jsx("button",{type:"button",onClick:()=>te(!0),className:"text-xs px-2 py-1 bg-fuchsia-600 text-white rounded hover:bg-fuchsia-700",children:"Edit"})]})]}),W&&n.jsxs("div",{className:"mt-4 p-4 bg-yellow-900/30 border border-yellow-700 rounded",children:[n.jsx("p",{className:"text-yellow-400 font-semibold mb-2",children:"This system is untagged. Your edit will require super admin approval."}),n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"text-sm",children:"Explanation for edit (required)"}),n.jsx("textarea",{className:"w-full mt-1 p-2 border rounded bg-gray-700",value:le,onChange:S=>fe(S.target.value),placeholder:"Explain why you need to edit this system...",rows:3,required:!0})]})]}),n.jsxs("label",{className:"block mt-3",children:["Description ",n.jsx("textarea",{"aria-label":"System description",className:"w-full mt-1",value:g.description||"",onChange:S=>z("description",S.target.value)})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-md font-semibold mb-2",children:"Planets"}),n.jsx("div",{children:(g.planets||[]).map((S,V)=>n.jsxs("div",{className:"mb-2",children:[n.jsx(Fd,{index:V,planet:S,onChange:Ne,onRemove:$}),n.jsx("div",{className:"mt-1 flex space-x-2",children:n.jsx("button",{className:"px-3 py-1 bg-sky-600 text-white rounded",onClick:()=>ge(V),children:"Edit"})})]},V))}),n.jsx("div",{className:"mt-2",children:n.jsx("button",{type:"button",onClick:U,className:"px-3 py-1 bg-green-600 rounded",children:" Add Planet"})})]}),n.jsxs("div",{className:"mt-4 border-t pt-4",children:[n.jsx("h3",{className:"text-md font-semibold mb-2",children:"Space Station"}),n.jsxs("label",{className:"flex items-center space-x-2 mb-3",children:[n.jsx("input",{type:"checkbox",checked:j,onChange:S=>be(S.target.checked),className:"w-4 h-4"}),n.jsx("span",{children:" Has Space Station (randomly placed)"})]}),j&&g.space_station&&n.jsxs("div",{className:"ml-6 p-3 bg-purple-900/30 rounded border border-purple-700",children:[n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"block text-sm",children:"Station Name"}),n.jsx("input",{className:"w-full mt-1",value:g.space_station.name||"",onChange:S=>Re("name",S.target.value),placeholder:"Station Name"})]}),n.jsxs("div",{className:"mb-2",children:[n.jsx("label",{className:"block text-sm",children:"Race"}),n.jsxs("select",{className:"w-full mt-1",value:g.space_station.race||"Gek",onChange:S=>Re("race",S.target.value),children:[n.jsx("option",{value:"Gek",children:"Gek"}),n.jsx("option",{value:"Korvax",children:"Korvax"}),n.jsx("option",{value:"Vy'keen",children:"Vy'keen"}),n.jsx("option",{value:"Unknown",children:"Unknown"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"X"}),n.jsx("input",{type:"number",step:"0.1",className:"w-full mt-1 bg-gray-100",value:g.space_station.x||0,onChange:S=>Re("x",parseFloat(S.target.value)),readOnly:!1})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Y"}),n.jsx("input",{type:"number",step:"0.1",className:"w-full mt-1 bg-gray-100",value:g.space_station.y||0,onChange:S=>Re("y",parseFloat(S.target.value)),readOnly:!1})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm",children:"Z"}),n.jsx("input",{type:"number",step:"0.1",className:"w-full mt-1 bg-gray-100",value:g.space_station.z||0,onChange:S=>Re("z",parseFloat(S.target.value)),readOnly:!1})]})]}),n.jsx("button",{type:"button",onClick:Ce,className:"px-3 py-1 bg-purple-600 text-white rounded text-sm",children:" Regenerate Random Position"}),g.space_station.fallback&&n.jsx("div",{className:"mt-2 text-xs text-yellow-300 bg-yellow-900/30 border border-yellow-700 p-2 rounded",children:" Fallback position used - couldn't find collision-free spot after 100 attempts"})]})]}),n.jsxs("div",{className:"mt-4 flex flex-col space-y-2",children:[!c&&n.jsx("div",{className:"text-sm text-yellow-300 bg-yellow-900/30 border border-yellow-700 p-2 rounded",children:"Note: You are not logged in as admin. Your system will be submitted for approval."}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(ie,{className:"btn-primary",type:"submit",onClick:()=>{H.current=!0},disabled:K,children:K?"Submitting...":c?"Save System":"Submit for Approval"}),n.jsx(ie,{className:"bg-gray-200 text-gray-800",onClick:()=>a("/systems"),disabled:K,children:"Cancel"})]})]}),N&&n.jsx(rt,{title:E===-1?"Add Planet":"Edit Planet",onClose:()=>_(!1),children:n.jsx(Fd,{planet:h,index:E,onChange:(S,V)=>{P(V)},onRemove:()=>{},onSave:xe})}),A&&n.jsx(rt,{title:"Personal Discord Username",onClose:()=>{te(!1),ne&&!me.trim()&&Ee(!1)},children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-300",children:'Since you selected "Personal" (no community affiliation), please provide your Discord username so we can contact you if we need more information about your submission.'}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold mb-2",children:["Discord Username ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-gray-700 text-white",value:me,onChange:S=>ee(S.target.value),placeholder:"e.g., username or username#1234",autoFocus:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter your Discord username so we can DM you if needed."})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(ie,{className:"btn-primary bg-fuchsia-600 hover:bg-fuchsia-700",onClick:()=>{if(!me.trim()){alert("Discord username is required");return}z("discord_tag","personal"),Ee(!1),te(!1)},children:"Confirm"}),n.jsx(ie,{className:"bg-gray-600 text-white hover:bg-gray-500",onClick:()=>{te(!1),Ee(!1),ee("")},children:"Cancel"})]})]})})]})})})}function Gg(){const[l,a]=x.useState([]),i=x.useRef(null),{isDisconnected:c,registerConnection:d,unregisterConnection:f}=zl(),m=x.useCallback(()=>{fetch("/api/rtai/history").then(v=>v.json()).then(v=>a(v.messages||[])).catch(()=>{});const y=window.location.protocol==="https:"?"wss":"ws",g=new WebSocket(`${y}://${window.location.host}/ws/rtai`);return g.onmessage=v=>a(N=>[...N,v.data]),i.current=g,g},[]);return x.useEffect(()=>{if(c)return;const y=m();return d("rtai-websocket",{cleanup:()=>{i.current&&(i.current.close(),i.current=null)},restore:()=>{m()}}),()=>{f("rtai-websocket"),y.close()}},[c,m,d,f]),n.jsx("div",{children:n.jsxs(De,{children:[n.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Round Table AI Chat"}),n.jsx("div",{className:"space-y-2 h-72 overflow-auto bg-cyan-800 p-3 rounded",children:l.map((y,g)=>n.jsx("div",{className:"text-white",children:y},g))}),n.jsx("div",{className:"mt-2",children:n.jsx("button",{className:"px-3 py-2 bg-gray-200 rounded",onClick:()=>fetch("/api/rtai/clear",{method:"POST"}),children:"Clear"})})]})})}function Qg(){const l=x.useContext(_t),{isAdmin:a,isSuperAdmin:i,isPartner:c,user:d,logout:f}=l||{},[m,y]=x.useState({}),[g,v]=x.useState({}),[N,_]=x.useState(!0),[E,b]=x.useState(!1),[h,P]=x.useState(""),[j,I]=x.useState(""),[K,Q]=x.useState(""),[B,Z]=x.useState(!1),[le,fe]=x.useState(!1);x.useEffect(()=>{fetch("/api/settings",{credentials:"include"}).then(H=>H.json()).then(H=>y(H||{})).catch(()=>{}).finally(()=>_(!1)),c&&fetch("/api/partner/theme",{credentials:"include"}).then(H=>H.json()).then(H=>v(H.theme||{})).catch(()=>{})},[c]);const we=(H,ae)=>{const W={...m.theme||{},[H]:ae};y({...m,theme:W}),H==="bg"&&document.documentElement.style.setProperty("--app-bg",ae),H==="text"&&document.documentElement.style.setProperty("--app-text",ae),H==="card"&&document.documentElement.style.setProperty("--app-card",ae),H==="primary"&&document.documentElement.style.setProperty("--app-primary",ae)},re=(H,ae)=>{const W={...g,[H]:ae};v(W),H==="bg"&&document.documentElement.style.setProperty("--app-bg",ae),H==="text"&&document.documentElement.style.setProperty("--app-text",ae),H==="card"&&document.documentElement.style.setProperty("--app-card",ae),H==="primary"&&document.documentElement.style.setProperty("--app-primary",ae)},me=async()=>{b(!0);try{const H=await fetch("/api/settings",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!H.ok)throw new Error(await H.text());alert("Settings saved successfully!")}catch(H){alert("Failed to save settings: "+H)}b(!1)},ee=async()=>{b(!0);try{const H=await fetch("/api/partner/theme",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({theme:g})});if(!H.ok)throw new Error(await H.text());alert("Theme saved successfully!")}catch(H){alert("Failed to save theme: "+H)}b(!1)},A=async()=>{try{const H=await fetch("/api/backup",{method:"POST",credentials:"include"});if(!H.ok)throw new Error(await H.text());const ae=await H.json();alert("Backup created: "+ae.backup_path)}catch(H){alert("Backup failed: "+H)}},te=async H=>{try{const ae=H.target.files&&H.target.files[0];if(!ae)return;const W=new FormData;W.append("file",ae);const D=await fetch("/api/db_upload",{method:"POST",credentials:"include",body:W});if(!D.ok)throw new Error(await D.text());const z=await D.json();alert("DB uploaded: "+z.path)}catch(ae){alert("DB upload failed: "+ae)}},ne=async()=>{if(confirm('This will rename systems that have "HUB Tag:" in their description to use the hub tag as the system name. The original name will be preserved in the notes. Continue?')){fe(!0);try{const H=await fetch("/api/migrate_hub_tags",{method:"POST",credentials:"include"});if(!H.ok)throw new Error(await H.text());const ae=await H.json();alert(`Migration complete!

Updated: ${ae.updated} systems
Total found with HUB Tag: ${ae.total_found}`)}catch(H){alert("Migration failed: "+H)}finally{fe(!1)}}},Ee=async()=>{if(!h){alert("Please enter your current password");return}if(!j||j.length<4){alert("New password must be at least 4 characters");return}if(j!==K){alert("New passwords do not match");return}Z(!0);try{const H=await fetch("/api/change_password",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:h,new_password:j})});if(!H.ok){const ae=await H.json();throw new Error(ae.detail||"Failed to change password")}alert("Password changed successfully! Please log in again with your new password."),P(""),I(""),Q(""),f()}catch(H){alert("Failed to change password: "+H.message)}finally{Z(!1)}};return N?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading settings..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-cyan-400",children:"Settings"}),n.jsx(De,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Logged in as"}),n.jsxs("div",{className:"text-gray-300",children:[n.jsx("p",{children:n.jsx("strong",{children:d?.displayName||d?.username})}),i&&n.jsx("p",{className:"text-yellow-400 text-sm",children:"Super Admin"}),c&&d?.discordTag&&n.jsxs("p",{className:"text-cyan-400 text-sm",children:["Partner: ",d.discordTag]})]}),n.jsx(ie,{className:"mt-3",variant:"danger",onClick:f,children:"Logout"})]})}),a&&n.jsx(De,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Change Password"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Update your password. You will be logged out after changing your password."}),n.jsxs("div",{className:"space-y-4 max-w-md",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Current Password"}),n.jsx("input",{type:"password",value:h,onChange:H=>P(H.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Enter current password"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"New Password"}),n.jsx("input",{type:"password",value:j,onChange:H=>I(H.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Enter new password (min 4 characters)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Confirm New Password"}),n.jsx("input",{type:"password",value:K,onChange:H=>Q(H.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Confirm new password"})]}),n.jsx(ie,{onClick:Ee,disabled:B||!h||!j||!K,children:B?"Changing...":"Change Password"})]})]})}),c&&n.jsx(De,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Your Theme"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Customize your view of Haven Control Room. These settings only affect your session."}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Background"}),n.jsx("input",{type:"color",value:g.bg||"#1f2937",onChange:H=>re("bg",H.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Text"}),n.jsx("input",{type:"color",value:g.text||"#f3f4f6",onChange:H=>re("text",H.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Card"}),n.jsx("input",{type:"color",value:g.card||"#374151",onChange:H=>re("card",H.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Primary"}),n.jsx("input",{type:"color",value:g.primary||"#06b6d4",onChange:H=>re("primary",H.target.value),className:"w-full h-10 rounded cursor-pointer"})]})]}),n.jsx(ie,{className:"mt-4",onClick:ee,disabled:E,children:E?"Saving...":"Save Your Theme"})]})}),i&&n.jsx(De,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Global Theme"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Server-side theme controls the color palette for all users (default)."}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Background"}),n.jsx("input",{type:"color",value:m.theme&&m.theme.bg||"#1f2937",onChange:H=>we("bg",H.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Text"}),n.jsx("input",{type:"color",value:m.theme&&m.theme.text||"#f3f4f6",onChange:H=>we("text",H.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Card"}),n.jsx("input",{type:"color",value:m.theme&&m.theme.card||"#374151",onChange:H=>we("card",H.target.value),className:"w-full h-10 rounded cursor-pointer"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Primary"}),n.jsx("input",{type:"color",value:m.theme&&m.theme.primary||"#06b6d4",onChange:H=>we("primary",H.target.value),className:"w-full h-10 rounded cursor-pointer"})]})]}),n.jsx(ie,{className:"mt-4",onClick:me,disabled:E,children:E?"Saving...":"Save Global Theme"})]})}),i&&n.jsx(De,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Database Management"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Create backups or restore the database from a backup file."}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx("div",{children:n.jsx(ie,{onClick:A,children:"Create Backup"})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Upload Database (.db file)"}),n.jsx("input",{type:"file",accept:".db",onChange:te,className:"text-sm text-gray-400"})]})]})]})}),i&&n.jsx(De,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Data Migration"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"One-time migration tools for updating system data."}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Hub Tag Migration"}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:'Renames systems that have "HUB Tag:" in their description to use the hub tag as the display name. The original system name will be preserved in the notes as "New Name:".'}),n.jsx(ie,{onClick:ne,disabled:le,children:le?"Migrating...":"Migrate Hub Tags to Names"})]})})]})})]})}const Yg=[{value:"",label:"Select type..."},{value:"",label:" Fauna"},{value:"",label:" Flora"},{value:"",label:" Mineral"},{value:"",label:" Ancient"},{value:"",label:" History"},{value:"",label:" Bones"},{value:"",label:" Alien"},{value:"",label:" Starship"},{value:"",label:" Multi-tool"},{value:"",label:" Lore"},{value:"",label:" Other"}];function Xg({isOpen:l,onClose:a,onSuccess:i}){const[c,d]=x.useState({discovery_name:"",discovery_type:"",description:"",system_id:"",planet_id:"",moon_id:"",location_name:"",discovered_by:"",discord_user_id:"",evidence_urls:""}),[f,m]=x.useState([]),[y,g]=x.useState([]),[v,N]=x.useState(null),[_,E]=x.useState(""),[b,h]=x.useState(!1),[P,j]=x.useState(!1),[I,K]=x.useState(""),[Q,B]=x.useState(!1),Z=x.useRef(null),le=x.useRef(null);x.useEffect(()=>{l&&(d({discovery_name:"",discovery_type:"",description:"",system_id:"",planet_id:"",moon_id:"",location_name:"",discovered_by:"",discord_user_id:"",evidence_urls:""}),m([]),N(null),E(""),K(""))},[l]),x.useEffect(()=>{if(!_||_.length<2){g([]);return}const D=setTimeout(async()=>{try{const k=await(await fetch(`/api/systems/search?q=${encodeURIComponent(_)}&limit=10`)).json();g(k.results||k||[])}catch(z){console.error("System search error:",z),g([])}},300);return()=>clearTimeout(D)},[_]),x.useEffect(()=>{if(!c.system_id){N(null);return}fetch(`/api/systems/${c.system_id}`).then(D=>D.json()).then(D=>N(D)).catch(()=>N(null))},[c.system_id]);function fe(D,z){d(k=>({...k,[D]:z}))}function we(D){fe("system_id",D.id),fe("planet_id",""),fe("moon_id",""),E(D.name),h(!1)}function re(){fe("system_id",""),fe("planet_id",""),fe("moon_id",""),E(""),N(null)}async function me(D){const z=Array.from(D.target.files||[]);z.length&&await ee(z)}async function ee(D){B(!0);const z=[];for(const k of D){if(!k.type.startsWith("image/"))continue;const U=URL.createObjectURL(k),ge={file:k,preview:U,uploaded:!1,path:null};z.push(ge);try{const xe=new FormData;xe.append("file",k);const Ne=await fetch("/api/photos",{method:"POST",body:xe});if(Ne.ok){const $=await Ne.json();ge.uploaded=!0,ge.path=$.path||$.filename}}catch(xe){console.error("Photo upload error:",xe)}}m(k=>[...k,...z]),B(!1)}function A(D){m(z=>{const k=[...z];return k[D]?.preview&&URL.revokeObjectURL(k[D].preview),k.splice(D,1),k})}function te(D){D.preventDefault(),D.stopPropagation()}function ne(D){D.preventDefault(),D.stopPropagation();const z=Array.from(D.dataTransfer.files||[]);z.length&&ee(z)}async function Ee(D){if(D.preventDefault(),K(""),!c.discovery_name.trim()){K("Discovery Name is required");return}if(!c.discovered_by.trim()){K("Discovered By is required");return}j(!0);try{const z=f.filter(be=>be.uploaded&&be.path),k=z[0]?.path||"",U=z.slice(1).map(be=>be.path),ge=c.evidence_urls.split(`
`).map(be=>be.trim()).filter(Boolean),xe=[...U,...ge],Ne={discovery_name:c.discovery_name.trim(),discovery_type:c.discovery_type||null,description:c.description.trim()||null,system_id:c.system_id?parseInt(c.system_id):null,planet_id:c.planet_id?parseInt(c.planet_id):null,moon_id:c.moon_id?parseInt(c.moon_id):null,location_name:c.location_name.trim()||null,discovered_by:c.discovered_by.trim(),discord_user_id:c.discord_user_id.trim()||null,photo_url:k||null,evidence_urls:xe.length>0?xe.join(","):null},$=await fetch("/api/discoveries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ne)});if(!$.ok){const be=await $.json().catch(()=>({}));throw new Error(be.detail||be.message||"Failed to submit discovery")}i?.()}catch(z){K(z.message||"An error occurred")}finally{j(!1)}}const H=v?.planets||[],W=H.find(D=>D.id===parseInt(c.planet_id))?.moons||[];return n.jsx(rt,{isOpen:l,onClose:a,title:"Submit Discovery",children:n.jsxs("form",{onSubmit:Ee,children:[I&&n.jsx("div",{className:"mb-4 p-3 rounded text-sm",style:{backgroundColor:"rgba(239,68,68,0.2)",color:"#fca5a5"},children:I}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Basic Info"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Ut,{label:n.jsxs(n.Fragment,{children:["Discovery Name ",n.jsx("span",{className:"text-red-400",children:"*"})]}),children:n.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:c.discovery_name,onChange:D=>fe("discovery_name",D.target.value),placeholder:"e.g., Giant Sand Worm"})}),n.jsx(Ut,{label:"Discovery Type",children:n.jsx("select",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:c.discovery_type,onChange:D=>fe("discovery_type",D.target.value),children:Yg.map(D=>n.jsx("option",{value:D.value,children:D.label},D.value))})})]}),n.jsx(Ut,{label:"Description",children:n.jsx("textarea",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)",minHeight:80},value:c.description,onChange:D=>fe("description",D.target.value),placeholder:"Describe the discovery, any notable characteristics, behaviors, etc."})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Location"}),n.jsx(Ut,{label:"System",hint:"Search by system name to link this discovery",children:n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{ref:le,type:"text",className:"flex-1 p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:_,onChange:D=>{E(D.target.value),h(!0),D.target.value||re()},onFocus:()=>h(!0),placeholder:"Search for a system..."}),c.system_id&&n.jsx(ie,{type:"button",variant:"ghost",onClick:re,children:"Clear"})]}),b&&y.length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 rounded shadow-lg max-h-48 overflow-y-auto",style:{backgroundColor:"var(--app-card)",border:"1px solid var(--app-accent-3)"},children:y.map(D=>n.jsxs("div",{className:"p-2 cursor-pointer hover:opacity-80",style:{borderBottom:"1px solid var(--app-accent-3)"},onClick:()=>we(D),children:[n.jsx("div",{className:"font-medium",children:D.name}),D.galaxy&&n.jsx("div",{className:"text-xs muted",children:D.galaxy})]},D.id))})]})}),v&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Ut,{label:"Planet",children:n.jsxs("select",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:c.planet_id,onChange:D=>{fe("planet_id",D.target.value),fe("moon_id","")},children:[n.jsx("option",{value:"",children:"Select planet..."}),H.map(D=>n.jsx("option",{value:D.id,children:D.name||`Planet ${D.planet_index||D.id}`},D.id))]})}),n.jsx(Ut,{label:"Moon (optional)",children:n.jsxs("select",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:c.moon_id,onChange:D=>fe("moon_id",D.target.value),disabled:!c.planet_id||W.length===0,children:[n.jsx("option",{value:"",children:"Select moon..."}),W.map(D=>n.jsx("option",{value:D.id,children:D.name||`Moon ${D.id}`},D.id))]})})]}),n.jsx(Ut,{label:"Location Name",hint:"Specific location on the planet (e.g., 'Near the Archive portal')",children:n.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:c.location_name,onChange:D=>fe("location_name",D.target.value),placeholder:"e.g., Trading Post, Near portal, Coordinates +45.2, -12.8"})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Credits"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Ut,{label:n.jsxs(n.Fragment,{children:["Discovered By ",n.jsx("span",{className:"text-red-400",children:"*"})]}),children:n.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:c.discovered_by,onChange:D=>fe("discovered_by",D.target.value),placeholder:"In-game name or real name"})}),n.jsx(Ut,{label:"Discord Username",hint:"For crediting on Discord",children:n.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:c.discord_user_id,onChange:D=>fe("discord_user_id",D.target.value),placeholder:"e.g., username#1234"})})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Photos & Evidence"}),n.jsxs("div",{className:"border-2 border-dashed rounded p-4 mb-4 text-center cursor-pointer transition-colors",style:{borderColor:"var(--app-accent-3)"},onClick:()=>Z.current?.click(),onDragOver:te,onDrop:ne,children:[n.jsx("input",{ref:Z,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:me}),n.jsx("div",{className:"text-3xl mb-2",children:""}),n.jsx("div",{className:"text-sm",children:Q?"Uploading...":"Click to upload or drag & drop photos here"}),n.jsx("div",{className:"text-xs muted mt-1",children:"First photo will be the main image"})]}),f.length>0&&n.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 mb-4",children:f.map((D,z)=>n.jsxs("div",{className:"relative aspect-square rounded overflow-hidden",style:{backgroundColor:"var(--app-bg)"},children:[n.jsx("img",{src:D.preview,alt:`Upload ${z+1}`,className:"w-full h-full object-cover"}),z===0&&n.jsx("div",{className:"absolute top-1 left-1 text-xs px-1 rounded",style:{backgroundColor:"var(--app-primary)",color:"#fff"},children:"Main"}),!D.uploaded&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:n.jsx("div",{className:"text-xs",children:"Uploading..."})}),n.jsx("button",{type:"button",className:"absolute top-1 right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs",style:{backgroundColor:"rgba(0,0,0,0.7)",color:"#fff"},onClick:k=>{k.stopPropagation(),A(z)},children:""})]},z))}),n.jsx(Ut,{label:"Evidence URLs",hint:"External links to screenshots, videos, etc. (one per line)",children:n.jsx("textarea",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)",minHeight:60},value:c.evidence_urls,onChange:D=>fe("evidence_urls",D.target.value),placeholder:`https://imgur.com/abc123
https://youtube.com/watch?v=xyz`})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",style:{borderTop:"1px solid var(--app-accent-3)"},children:[n.jsx(ie,{type:"button",variant:"ghost",onClick:a,disabled:P,children:"Cancel"}),n.jsx(ie,{type:"submit",disabled:P||Q,children:P?"Submitting...":"Submit Discovery"})]})]})})}function Jg({url:l,alt:a}){return l?n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:l,alt:a||"",style:{maxWidth:"100%",borderRadius:8}})}):null}function Zg(){const[l,a]=x.useState([]),[i,c]=x.useState(""),[d,f]=x.useState(null),[m,y]=x.useState(!1);x.useEffect(()=>{fetch("/api/discoveries").then(E=>E.json()).then(E=>a(E.results||[]))},[]),x.useEffect(()=>{function E(b){const h=b.detail;h&&N(h)}return window.addEventListener("openDetail",E),()=>window.removeEventListener("openDetail",E)},[l]);async function g(){const b=await(await fetch(`/api/discoveries?q=${encodeURIComponent(i)}`)).json();a(b.results||[])}function v(E){if(!E)return null;if(E.startsWith("http"))return E;try{const b=E.replace(/\\/g,"/"),h=b.lastIndexOf("/"),P=h!==-1?b.slice(h+1):b;return`/haven-ui-photos/${encodeURIComponent(P)}`}catch{return null}}async function N(E){try{const b=await fetch(`/api/discoveries/${E.id}`);if(!b.ok){f(E);return}const h=await b.json();h.photo_url&&(h._photo_static=v(h.photo_url));const P=h.evidence_url||h.evidence_urls;P&&typeof P=="string"?h._evidence=P.split(",").map(j=>j.trim()).filter(Boolean).map(j=>v(j)||j):Array.isArray(P)?h._evidence=P.map(j=>v(j)||j):h._evidence=[],f(h)}catch(b){console.error(b),f(E)}}function _(){f(null)}return n.jsxs("div",{children:[n.jsxs("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Discoveries"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{className:"p-2 rounded flex-1 sm:flex-initial",value:i,onChange:E=>c(E.target.value),placeholder:"search discoveries"}),n.jsx(ie,{onClick:g,children:"Search"}),n.jsx(ie,{onClick:()=>y(!0),children:"Submit Discovery"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((E,b)=>n.jsxs(De,{className:"cursor-pointer",onClick:()=>e0(E),children:[n.jsx("div",{className:"font-semibold",children:E.discovery_name||E.discovery_type||E.description&&E.description.slice(0,80)||"Discovery #"+(E.id||b)}),n.jsxs("div",{className:"muted text-sm mt-1",children:[E.system_id?`System: ${E.system_id}`:""," ",E.planet_id?`  Planet: ${E.planet_id}`:""]}),n.jsx("div",{className:"mt-2 text-sm",children:E.description||""}),n.jsxs("div",{className:"mt-3 text-sm muted",children:["Discovered by: ",E.discovered_by||E.discord_user_id||"Unknown"]})]},b))}),d&&n.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:_,children:n.jsxs("div",{className:"p-6 rounded",style:{width:"90%",maxWidth:900,backgroundColor:"var(--app-card)"},onClick:E=>E.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:d.discovery_name||d.discovery_type||`Discovery #${d.id}`}),n.jsx(ie,{onClick:_,variant:"ghost",children:"Close"})]}),n.jsxs("div",{className:"mt-2 text-sm muted",children:["Submitted: ",d.submission_timestamp]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("strong",{children:"Location:"})," ",d.system_id?`System: ${d.system_id}`:""," ",d.location_name?`  ${d.location_name}`:""]}),n.jsx("div",{className:"mt-3 text-sm",children:d.description}),d._photo_static&&n.jsx(Jg,{url:d._photo_static,alt:d.discovery_name}),d._evidence&&d._evidence.length>0&&n.jsxs("div",{className:"mt-3",children:[n.jsx("strong",{children:"Evidence:"}),n.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:d._evidence.map((E,b)=>n.jsx("div",{className:"p-1 rounded",style:{backgroundColor:"rgba(255,255,255,0.03)"},children:E.startsWith("/")?n.jsx("img",{src:E,style:{maxWidth:"100%"}}):n.jsx("a",{href:E,target:"_blank",rel:"noreferrer",children:E})},b))})]}),n.jsxs("div",{className:"mt-4 text-sm muted",children:["Discovered by: ",d.discovered_by||d.discord_user_id||"Unknown"]})]})}),n.jsx(Xg,{isOpen:m,onClose:()=>y(!1),onSuccess:()=>{y(!1),fetch("/api/discoveries").then(E=>E.json()).then(E=>a(E.results||[]))}})]})}function e0(l){const a=new CustomEvent("openDetail",{detail:l});window.dispatchEvent(a)}function t0(){const[l,a]=x.useState([]),[i,c]=x.useState(!1);x.useEffect(()=>{fetch("/api/tests").then(f=>f.json()).then(f=>a(f.tests||[]))},[]);async function d(f){c(!0);const y=await(await fetch("/api/tests/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test_path:f})})).json();alert("Return: "+y.returncode+`
`+y.stdout+`
`+y.stderr),c(!1)}return n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Tests"}),n.jsx("div",{className:"space-y-2",children:l.map((f,m)=>n.jsxs("div",{className:"p-2 bg-white/5 rounded flex justify-between items-center",children:[n.jsx("div",{children:f}),n.jsx("button",{className:"px-3 py-1 bg-sky-600 text-white rounded",onClick:()=>d(f),disabled:i,children:"Run"})]},m))})]})}function n0(){const l=x.useContext(_t),{isAdmin:a,isSuperAdmin:i,isPartner:c,user:d}=l||{},[f,m]=x.useState(null),[y,g]=x.useState(null),[v,N]=x.useState(!0);return x.useEffect(()=>{fetch(c?"/api/partner/stats":"/api/db_stats",{credentials:"include"}).then(E=>E.json()).then(E=>{m(E.stats||null),g(E.discord_tag||null)}).catch(()=>m(null)).finally(()=>N(!1))},[c]),v?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading statistics..."})}):n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold mb-2 text-cyan-400",children:c?"Your Statistics":"Database Statistics"}),c&&y&&n.jsx("div",{className:"mb-4 p-3 bg-cyan-900/30 border border-cyan-700 rounded",children:n.jsxs("p",{className:"text-cyan-300 text-sm",children:["Showing statistics for systems tagged with ",n.jsx("strong",{className:"text-cyan-400",children:y})]})}),f?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Object.entries(f).map(([_,E])=>n.jsxs("div",{className:"p-4 bg-gray-800 rounded border border-gray-700",children:[n.jsx("div",{className:"text-2xl font-bold text-white",children:String(E)}),n.jsx("div",{className:"text-sm text-gray-400 capitalize",children:_.replace(/_/g," ")})]},_))}):n.jsx("div",{className:"text-gray-400",children:"No statistics available."}),c&&n.jsxs("div",{className:"mt-6 p-4 bg-gray-800/50 border border-gray-700 rounded",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"About Your Statistics"}),n.jsxs("ul",{className:"text-sm text-gray-400 space-y-1 list-disc list-inside",children:[n.jsxs("li",{children:["These statistics only include systems tagged with your Discord (",y,")"]}),n.jsx("li",{children:"Planets, moons, and space stations are counted from your tagged systems"}),n.jsx("li",{children:"To increase these numbers, create more systems or have the super admin tag existing systems with your Discord"})]})]})]})}function r0(){const l=Rn(),a=x.useContext(_t),{isAdmin:i,isSuperAdmin:c,loading:d}=a||{},[f,m]=x.useState(!0),[y,g]=x.useState([]),[v,N]=x.useState([]),[_,E]=x.useState([]),[b,h]=x.useState(null),[P,j]=x.useState(null),[I,K]=x.useState(null),[Q,B]=x.useState(!1),[Z,le]=x.useState(!1),[fe,we]=x.useState(!1),[re,me]=x.useState(!1),[ee,A]=x.useState(""),[te,ne]=x.useState(!1),[Ee,H]=x.useState([]),[ae,W]=x.useState("all");x.useEffect(()=>{c&&ce.get("/api/discord_tags").then(T=>{H(T.data.tags||[])}).catch(()=>{})},[c]),x.useEffect(()=>{d||(i?D():(alert("Admin authentication required"),l("/systems")))},[d,i,l]);async function D(){m(!0);try{const[T,Fe,He]=await Promise.all([ce.get("/api/pending_systems"),ce.get("/api/pending_region_names"),ce.get("/api/pending_edits")]);g(T.data.submissions||[]),N(Fe.data.pending||[]),E(He.data.requests||[])}catch(T){alert("Failed to load submissions: "+(T.response?.data?.detail||T.message))}finally{m(!1)}}async function z(T){try{const Fe=await ce.get(`/api/pending_systems/${T.id}`);h(Fe.data),B(!0)}catch(Fe){alert("Failed to load submission details: "+(Fe.response?.data?.detail||Fe.message))}}async function k(T,Fe){if(confirm(`Approve system "${Fe}"?

This will add it to the main database.`)){ne(!0);try{const He=await ce.post(`/api/approve_system/${T}`);alert(`System "${Fe}" approved successfully!

System ID: ${He.data.system_id}`),B(!1),h(null),D()}catch(He){alert("Approval failed: "+(He.response?.data?.detail||He.message))}finally{ne(!1)}}}function U(T){h(T),A(""),me(!0)}async function ge(){if(!ee.trim()){alert("Please provide a rejection reason");return}ne(!0);try{await ce.post(`/api/reject_system/${b.id}`,{reason:ee}),alert(`System "${b.system_name}" rejected`),me(!1),B(!1),h(null),A(""),D()}catch(T){alert("Rejection failed: "+(T.response?.data?.detail||T.message))}finally{ne(!1)}}function xe(T){j(T),le(!0)}async function Ne(T){if(confirm(`Approve region name "${T.proposed_name}" for coordinates [${T.region_x}, ${T.region_y}, ${T.region_z}]?`)){ne(!0);try{await ce.post(`/api/pending_region_names/${T.id}/approve`),alert(`Region name "${T.proposed_name}" approved!`),le(!1),j(null),D()}catch(Fe){alert("Approval failed: "+(Fe.response?.data?.detail||Fe.message))}finally{ne(!1)}}}async function $(){if(!ee.trim()){alert("Please provide a rejection reason");return}ne(!0);try{await ce.post(`/api/pending_region_names/${P.id}/reject`,{reason:ee}),alert(`Region name "${P.proposed_name}" rejected`),me(!1),le(!1),j(null),A(""),D()}catch(T){alert("Rejection failed: "+(T.response?.data?.detail||T.message))}finally{ne(!1)}}function be(T){K(T),we(!0)}async function Ce(T){if(confirm(`Approve edit request for system "${T.system_name}"?

This will apply the partner's changes to the system.`)){ne(!0);try{await ce.post(`/api/pending_edits/${T.id}/approve`),alert(`Edit request approved! Changes have been applied to "${T.system_name}".`),we(!1),K(null),D()}catch(Fe){alert("Approval failed: "+(Fe.response?.data?.detail||Fe.message))}finally{ne(!1)}}}async function Re(){if(!ee.trim()){alert("Please provide a rejection reason");return}ne(!0);try{await ce.post(`/api/pending_edits/${I.id}/reject`,{notes:ee}),alert("Edit request rejected"),me(!1),we(!1),K(null),A(""),D()}catch(T){alert("Rejection failed: "+(T.response?.data?.detail||T.message))}finally{ne(!1)}}function S(T){const Fe={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"};return n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${Fe[T]||"bg-gray-100 text-gray-800"}`,children:T.toUpperCase()})}if(d||f)return n.jsx("div",{className:"p-4",children:n.jsx(De,{children:n.jsx("p",{children:"Loading submissions..."})})});const V=y.filter(T=>T.status==="pending"),oe=y.filter(T=>T.status!=="pending"),Ae=c&&ae!=="all"?V.filter(T=>ae==="untagged"?!T.discord_tag:T.discord_tag===ae):V,J=c&&ae!=="all"?oe.filter(T=>ae==="untagged"?!T.discord_tag:T.discord_tag===ae):oe,Qe=v.filter(T=>T.status==="pending"),ye=_.filter(T=>T.status==="pending");function st(T,Fe=null){if(!T)return n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-gray-500 text-white",children:"UNTAGGED"});if(T==="personal")return n.jsxs("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-fuchsia-600 text-white",children:["PERSONAL ",Fe&&`(${Fe})`]});const He={Haven:"bg-cyan-500 text-white",IEA:"bg-green-500 text-white","B.E.S":"bg-orange-500 text-white",ARCH:"bg-purple-500 text-white",TBH:"bg-yellow-500 text-black",EVRN:"bg-pink-500 text-white"};if(He[T])return n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${He[T]}`,children:T});const Ot=["bg-indigo-500 text-white","bg-violet-500 text-white","bg-fuchsia-500 text-white","bg-amber-500 text-black","bg-lime-500 text-black","bg-teal-500 text-white","bg-sky-500 text-white","bg-rose-500 text-white"];let sn=0;for(let Kn=0;Kn<T.length;Kn++)sn=T.charCodeAt(Kn)+((sn<<5)-sn);const xs=Math.abs(sn)%Ot.length;return n.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${Ot[xs]}`,children:T})}return n.jsx("div",{className:"p-4",children:n.jsxs(De,{className:"max-w-6xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Approvals Queue"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[c&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("label",{className:"text-sm text-gray-300",children:"Filter:"}),n.jsxs("select",{className:"p-2 border rounded bg-gray-700 text-white text-sm",value:ae,onChange:T=>W(T.target.value),children:[n.jsx("option",{value:"all",children:"All Communities"}),n.jsx("option",{value:"untagged",children:"Untagged Only"}),Ee.map(T=>n.jsxs("option",{value:T.tag,children:[T.name," (",T.tag,")"]},T.tag))]})]}),n.jsx(ie,{className:"bg-gray-200 text-gray-800",onClick:()=>l("/systems"),children:"Back to Systems"})]})]}),Qe.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-xl font-semibold mb-3",children:["Pending Region Names (",Qe.length,")"]}),n.jsx("div",{className:"space-y-2",children:Qe.map(T=>n.jsxs("div",{className:"border rounded p-3 bg-purple-700 hover:bg-purple-600 flex justify-between items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold text-lg",children:T.proposed_name}),n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-purple-200 text-purple-800",children:"REGION NAME"}),S(T.status)]}),n.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[n.jsxs("span",{children:["Coordinates: [",T.region_x,", ",T.region_y,", ",T.region_z,"]"]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Submitted by: ",T.submitted_by||"Anonymous"]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Date: ",new Date(T.submission_date).toLocaleString()]})]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>xe(T),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Review"})})]},`region-${T.id}`))})]}),c&&ye.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-xl font-semibold mb-3",children:["Pending Edit Requests (",ye.length,")"]}),n.jsx("div",{className:"space-y-2",children:ye.map(T=>n.jsxs("div",{className:"border rounded p-3 bg-orange-700 hover:bg-orange-600 flex justify-between items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold text-lg",children:T.system_name||"Unknown System"}),n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-orange-200 text-orange-800",children:"PARTNER EDIT"}),S(T.status)]}),n.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[n.jsxs("span",{children:["Partner: ",T.partner_username||"Unknown"]}),T.partner_discord_tag&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-2",children:""}),n.jsx("span",{className:"text-cyan-300",children:T.partner_discord_tag})]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Date: ",new Date(T.submitted_at).toLocaleString()]})]}),T.explanation&&n.jsxs("div",{className:"text-sm text-yellow-300 mt-1",children:[n.jsx("span",{className:"font-medium",children:"Reason:"})," ",T.explanation]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>be(T),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Review"})})]},`edit-${T.id}`))})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-xl font-semibold mb-3",children:["Pending Systems (",Ae.length,c&&ae!=="all"&&` of ${V.length}`,")"]}),Ae.length===0?n.jsx("div",{className:"text-gray-300 italic p-4 bg-cyan-700 rounded",children:ae!=="all"?"No pending submissions match the selected filter":"No pending system submissions"}):n.jsx("div",{className:"space-y-2",children:Ae.map(T=>n.jsxs("div",{className:"border rounded p-3 bg-cyan-700 hover:bg-cyan-600 flex justify-between items-center",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold text-lg",children:T.system_name}),S(T.status),T.edit_system_id&&n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-orange-500 text-white",children:"EDIT"}),!T.edit_system_id&&n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-green-500 text-white",children:"NEW"}),c&&st(T.discord_tag,T.personal_discord_username),T.source==="companion_app"&&T.api_key_name&&n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-cyan-200 text-cyan-800",children:T.api_key_name})]}),n.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[n.jsxs("span",{children:["Galaxy: ",T.system_galaxy||"Euclid"]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Submitted by: ",T.submitted_by||"Anonymous"]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Date: ",new Date(T.submission_date).toLocaleString()]})]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>z(T),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Review"})})]},T.id))})]}),J.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-semibold mb-3",children:["Recently Reviewed (",J.length,c&&ae!=="all"&&` of ${oe.length}`,")"]}),n.jsx("div",{className:"space-y-2",children:J.slice(0,10).map(T=>n.jsx("div",{className:"border rounded p-3 bg-cyan-700 flex justify-between items-center",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-semibold",children:T.system_name}),S(T.status),T.edit_system_id&&n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-orange-500 text-white",children:"EDIT"}),!T.edit_system_id&&n.jsx("span",{className:"px-2 py-1 rounded text-xs font-semibold bg-green-500 text-white",children:"NEW"}),c&&st(T.discord_tag,T.personal_discord_username)]}),n.jsxs("div",{className:"text-sm text-gray-300 mt-1",children:[n.jsxs("span",{children:["Reviewed by: ",T.reviewed_by||"Unknown"]}),n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Date: ",T.review_date?new Date(T.review_date).toLocaleString():"Unknown"]}),T.rejection_reason&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"mx-2",children:""}),n.jsxs("span",{children:["Reason: ",T.rejection_reason]})]})]})]})},T.id))})]}),Q&&b&&n.jsx(rt,{title:`Review: ${b.system_name}`,onClose:()=>{B(!1),h(null)},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"System Information"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",b.system_data?.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Galaxy:"})," ",b.system_data?.galaxy||"Euclid"]}),b.system_data?.region_x!==null&&n.jsxs("p",{children:[n.jsx("strong",{children:"Region:"})," [",b.system_data.region_x,", ",b.system_data.region_y,", ",b.system_data.region_z,"]"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Coordinates:"})," (",b.system_data?.x||0,", ",b.system_data?.y||0,", ",b.system_data?.z||0,")"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Description:"})," ",b.system_data?.description||"None"]})]})]}),b.system_data?.planets&&b.system_data.planets.length>0&&n.jsxs("div",{className:"border-b pb-3",children:[n.jsxs("h4",{className:"font-semibold mb-2",children:["Planets (",b.system_data.planets.length,")"]}),n.jsx("div",{className:"space-y-3",children:b.system_data.planets.map((T,Fe)=>n.jsxs("div",{className:"text-sm bg-cyan-700 p-3 rounded",children:[n.jsx("div",{className:"flex items-start gap-3",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("p",{className:"font-semibold text-base",children:T.name})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-gray-300",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Sentinel:"})," ",T.sentinel||"None"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Fauna:"})," ",T.fauna||"N/A",T.fauna_count>0&&` (${T.fauna_count})`]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Flora:"})," ",T.flora||"N/A",T.flora_count>0&&` (${T.flora_count})`]}),T.climate&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Climate:"})," ",T.climate]}),T.has_water===1&&n.jsx("div",{children:n.jsx("span",{className:"text-cyan-300",children:"Has Water"})})]})]})}),T.materials&&n.jsxs("div",{className:"mt-2 text-gray-300",children:[n.jsx("span",{className:"text-gray-400",children:"Materials:"})," ",T.materials]}),T.base_location&&n.jsxs("div",{className:"mt-1 text-gray-300",children:[n.jsx("span",{className:"text-gray-400",children:"Base Location:"})," ",T.base_location]}),T.description&&n.jsxs("div",{className:"mt-1 text-gray-300",children:[n.jsx("span",{className:"text-gray-400",children:"Description:"})," ",T.description]}),T.notes&&n.jsxs("div",{className:"mt-1 text-gray-300",children:[n.jsx("span",{className:"text-gray-400",children:"Notes:"})," ",T.notes]}),T.photo&&n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-gray-400",children:"Photo:"})," ",n.jsx("span",{className:"text-cyan-300",children:T.photo})]}),T.moons&&T.moons.length>0&&n.jsxs("div",{className:"mt-2 ml-3 border-l-2 border-cyan-500 pl-3",children:[n.jsxs("p",{className:"text-gray-400 text-xs mb-1",children:["Moons (",T.moons.length,"):"]}),T.moons.map((He,Ot)=>n.jsxs("div",{className:"mb-2 text-xs",children:[n.jsx("p",{className:"font-medium",children:He.name}),n.jsxs("div",{className:"grid grid-cols-2 gap-1 mt-1 text-gray-300",children:[n.jsxs("div",{children:["Sentinel: ",He.sentinel||"None"]}),n.jsxs("div",{children:["Fauna: ",He.fauna||"N/A"]}),n.jsxs("div",{children:["Flora: ",He.flora||"N/A"]}),He.materials&&n.jsxs("div",{className:"col-span-2",children:["Materials: ",He.materials]})]})]},Ot))]})]},Fe))})]}),b.system_data?.space_station&&n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Space Station"}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",b.system_data.space_station.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Race:"})," ",b.system_data.space_station.race]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Position:"})," (",b.system_data.space_station.x,", ",b.system_data.space_station.y,", ",b.system_data.space_station.z,")"]})]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Submitted by:"})," ",b.submitted_by||"Anonymous"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Submission Date:"})," ",new Date(b.submission_date).toLocaleString()]}),n.jsxs("p",{children:[n.jsx("strong",{children:"IP Address:"})," ",b.submitted_by_ip]}),b.discord_tag&&n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Discord Community:"})," ",st(b.discord_tag,b.personal_discord_username)]}),b.discord_tag==="personal"&&b.personal_discord_username&&n.jsx("div",{className:"mt-2 p-2 bg-fuchsia-900/30 border border-fuchsia-500 rounded",children:n.jsxs("p",{className:"text-fuchsia-300",children:[n.jsx("strong",{children:"Contact Discord:"})," ",b.personal_discord_username]})})]}),b.status==="pending"&&n.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[n.jsx(ie,{className:"btn-primary bg-green-600 hover:bg-green-700",onClick:()=>k(b.id,b.system_name),disabled:te,children:te?"Approving...":"Approve System"}),n.jsx(ie,{className:"bg-red-600 text-white hover:bg-red-700",onClick:()=>{B(!1),U(b)},disabled:te,children:"Reject System"}),n.jsx(ie,{className:"bg-gray-200 text-gray-800",onClick:()=>{B(!1),h(null)},disabled:te,children:"Close"})]})]})}),re&&b&&n.jsx(rt,{title:`Reject: ${b.system_name}`,onClose:()=>{me(!1),h(null),A("")},children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-700",children:"Please provide a reason for rejecting this submission. This will help the submitter understand why their system was not approved."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Rejection Reason"}),n.jsx("textarea",{className:"w-full border rounded p-2",rows:"4",value:ee,onChange:T=>A(T.target.value),placeholder:"e.g., Duplicate system, incomplete information, violates naming guidelines..."})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(ie,{className:"bg-red-600 text-white hover:bg-red-700",onClick:ge,disabled:te||!ee.trim(),children:te?"Rejecting...":"Confirm Rejection"}),n.jsx(ie,{className:"bg-gray-200 text-gray-800",onClick:()=>{me(!1),A(""),B(!0)},disabled:te,children:"Cancel"})]})]})}),Z&&P&&n.jsx(rt,{title:`Review Region Name: ${P.proposed_name}`,onClose:()=>{le(!1),j(null)},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Region Name Submission"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Proposed Name:"})," ",P.proposed_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Region Coordinates:"})," [",P.region_x,", ",P.region_y,", ",P.region_z,"]"]})]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Submitted by:"})," ",P.submitted_by||"Anonymous"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Submission Date:"})," ",new Date(P.submission_date).toLocaleString()]}),P.submitted_by_ip&&n.jsxs("p",{children:[n.jsx("strong",{children:"IP Address:"})," ",P.submitted_by_ip]})]}),P.status==="pending"&&n.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[n.jsx(ie,{className:"btn-primary bg-green-600 hover:bg-green-700",onClick:()=>Ne(P),disabled:te,children:te?"Approving...":"Approve Region Name"}),n.jsx(ie,{className:"bg-red-600 text-white hover:bg-red-700",onClick:()=>{le(!1),A(""),me(!0)},disabled:te,children:"Reject"}),n.jsx(ie,{className:"bg-gray-200 text-gray-800",onClick:()=>{le(!1),j(null)},disabled:te,children:"Close"})]})]})}),re&&P&&n.jsx(rt,{title:`Reject: ${P.proposed_name}`,onClose:()=>{me(!1),j(null),A("")},children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-700",children:"Please provide a reason for rejecting this region name submission."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Rejection Reason"}),n.jsx("textarea",{className:"w-full border rounded p-2",rows:"4",value:ee,onChange:T=>A(T.target.value),placeholder:"e.g., Name already in use, inappropriate name, etc..."})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(ie,{className:"bg-red-600 text-white hover:bg-red-700",onClick:$,disabled:te||!ee.trim(),children:te?"Rejecting...":"Confirm Rejection"}),n.jsx(ie,{className:"bg-gray-200 text-gray-800",onClick:()=>{me(!1),A(""),le(!0)},disabled:te,children:"Cancel"})]})]})}),fe&&I&&n.jsx(rt,{title:`Review Edit Request: ${I.system_name||"Unknown System"}`,onClose:()=>{we(!1),K(null)},children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Submitted By"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Partner:"})," ",I.partner_username||"Unknown"]}),I.partner_discord_tag&&n.jsxs("p",{children:[n.jsx("strong",{children:"Discord Tag:"})," ",n.jsx("span",{className:"text-cyan-400",children:I.partner_discord_tag})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Submitted:"})," ",new Date(I.submitted_at).toLocaleString()]})]})]}),n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Reason for Edit"}),n.jsx("div",{className:"bg-yellow-900/30 border border-yellow-700 rounded p-3 text-yellow-200",children:I.explanation||"No explanation provided"})]}),n.jsxs("div",{className:"border-b pb-3",children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Proposed Changes"}),n.jsx("div",{className:"text-sm bg-gray-700 p-3 rounded max-h-64 overflow-y-auto",children:I.edit_data?n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"System Name:"})," ",I.edit_data.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Galaxy:"})," ",I.edit_data.galaxy||"Euclid"]}),I.edit_data.description&&n.jsxs("p",{children:[n.jsx("strong",{children:"Description:"})," ",I.edit_data.description]}),I.edit_data.planets&&n.jsxs("p",{children:[n.jsx("strong",{children:"Planets:"})," ",I.edit_data.planets.length]}),I.edit_data.discord_tag&&n.jsxs("p",{children:[n.jsx("strong",{children:"New Discord Tag:"})," ",n.jsx("span",{className:"text-cyan-400",children:I.edit_data.discord_tag})]})]}):n.jsx("p",{className:"text-gray-400",children:"No edit data available"})})]}),I.status==="pending"&&n.jsxs("div",{className:"flex space-x-2 pt-3 border-t",children:[n.jsx(ie,{className:"btn-primary bg-green-600 hover:bg-green-700",onClick:()=>Ce(I),disabled:te,children:te?"Approving...":"Approve Edit"}),n.jsx(ie,{className:"bg-red-600 text-white hover:bg-red-700",onClick:()=>{we(!1),A(""),me(!0)},disabled:te,children:"Reject Edit"}),n.jsx(ie,{className:"bg-gray-200 text-gray-800",onClick:()=>{we(!1),K(null)},disabled:te,children:"Close"})]})]})}),re&&I&&n.jsx(rt,{title:`Reject Edit: ${I.system_name||"Unknown System"}`,onClose:()=>{me(!1),K(null),A("")},children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-700",children:"Please provide a reason for rejecting this edit request. This will be visible to the partner."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Rejection Reason"}),n.jsx("textarea",{className:"w-full border rounded p-2",rows:"4",value:ee,onChange:T=>A(T.target.value),placeholder:"e.g., Edit not appropriate, system belongs to another community, etc..."})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(ie,{className:"bg-red-600 text-white hover:bg-red-700",onClick:Re,disabled:te||!ee.trim(),children:te?"Rejecting...":"Confirm Rejection"}),n.jsx(ie,{className:"bg-gray-200 text-gray-800",onClick:()=>{me(!1),A(""),we(!0)},disabled:te,children:"Cancel"})]})]})})]})})}function s0(){const l=Rn(),[a,i]=x.useState(!1),[c,d]=x.useState(!0),[f,m]=x.useState([]),[y,g]=x.useState(!1),[v,N]=x.useState(!1),[_,E]=x.useState(null),[b,h]=x.useState(!1),[P,j]=x.useState([]),[I,K]=x.useState(!1),[Q,B]=x.useState(null),[Z,le]=x.useState(""),[fe,we]=x.useState(200),[re,me]=x.useState(""),[ee,A]=x.useState(""),[te,ne]=x.useState(200),[Ee,H]=x.useState("");x.useEffect(()=>{Hg().then($=>{i($.logged_in),$.logged_in?(W(),ae()):(alert("Admin authentication required"),l("/systems"))}).catch(()=>{alert("Failed to verify admin status"),l("/systems")})},[l]);async function ae(){try{const $=await ce.get("/api/discord_tags");j($.data.tags||[])}catch($){console.error("Failed to load discord tags:",$)}}async function W(){d(!0);try{const $=await ce.get("/api/keys");m($.data.keys||[])}catch($){alert("Failed to load API keys: "+($.response?.data?.detail||$.message))}finally{d(!1)}}async function D(){if(!Z.trim()){alert("Please enter a name for the API key");return}h(!0);try{const $=await ce.post("/api/keys",{name:Z.trim(),rate_limit:fe,permissions:["submit","check_duplicate"],discord_tag:re||null});E($.data),g(!1),N(!0),le(""),we(200),me(""),W()}catch($){alert("Failed to create API key: "+($.response?.data?.detail||$.message))}finally{h(!1)}}async function z($,be){if(confirm(`Revoke API key "${be}"?

This will immediately invalidate the key. Any companion apps using it will stop working.`)){h(!0);try{await ce.delete(`/api/keys/${$}`),alert(`API key "${be}" has been revoked.`),W()}catch(Ce){alert("Failed to revoke API key: "+(Ce.response?.data?.detail||Ce.message))}finally{h(!1)}}}async function k($,be){h(!0);try{await ce.put(`/api/keys/${$}`,{is_active:!0}),alert(`API key "${be}" has been reactivated.`),W()}catch(Ce){alert("Failed to reactivate API key: "+(Ce.response?.data?.detail||Ce.message))}finally{h(!1)}}function U($){B($),A($.name),ne($.rate_limit),H($.discord_tag||""),K(!0)}async function ge(){if(!ee.trim()){alert("Please enter a name for the API key");return}h(!0);try{await ce.put(`/api/keys/${Q.id}`,{name:ee.trim(),rate_limit:te,discord_tag:Ee||null}),alert(`API key "${ee}" has been updated.`),K(!1),B(null),W()}catch($){alert("Failed to update API key: "+($.response?.data?.detail||$.message))}finally{h(!1)}}function xe($){navigator.clipboard.writeText($).then(()=>{alert("API key copied to clipboard!")}).catch(()=>{alert("Failed to copy to clipboard. Please copy manually.")})}function Ne($){return $?new Date($).toLocaleString():"Never"}return c?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading API keys..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-cyan-400",children:"API Keys"}),n.jsx("p",{className:"text-gray-400 mt-1",children:"Manage API keys for the NMS Save Watcher companion app and other integrations"})]}),n.jsx(ie,{onClick:()=>g(!0),disabled:b,children:"+ Create New Key"})]}),n.jsx(De,{className:"bg-gray-800/50 border border-cyan-900/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-cyan-400 font-semibold mb-2",children:"About API Keys"}),n.jsxs("ul",{className:"text-gray-300 text-sm space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"API keys allow external applications to submit systems to Voyagers Haven"}),n.jsx("li",{children:"Submissions via API key go to the pending approval queue (same as manual submissions)"}),n.jsx("li",{children:"Each key has its own rate limit (default: 200 requests/hour)"}),n.jsx("li",{children:"Keys are shown only once when created - save them securely!"}),n.jsx("li",{children:"Revoked keys can be reactivated if needed"})]})]})}),f.length===0?n.jsx(De,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-8 text-center text-gray-400",children:[n.jsx("p",{className:"text-lg mb-2",children:"No API keys yet"}),n.jsx("p",{className:"text-sm",children:"Create an API key to allow the NMS Save Watcher companion app to submit discoveries."})]})}):n.jsx("div",{className:"space-y-4",children:f.map($=>n.jsx(De,{className:`bg-gray-800/50 border ${$.is_active?"border-gray-700":"border-red-900/50"}`,children:n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:$.name}),$.is_active?n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-green-900/50 text-green-400 border border-green-700",children:"Active"}):n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-red-900/50 text-red-400 border border-red-700",children:"Revoked"}),$.discord_tag&&n.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full border ${$.discord_tag==="personal"?"bg-fuchsia-900/50 text-fuchsia-400 border-fuchsia-700":"bg-cyan-900/50 text-cyan-400 border-cyan-700"}`,children:$.discord_tag})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Key Prefix:"}),n.jsxs("p",{className:"text-gray-300 font-mono",children:[$.key_prefix,"..."]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Rate Limit:"}),n.jsxs("p",{className:"text-gray-300",children:[$.rate_limit,"/hour"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Created:"}),n.jsx("p",{className:"text-gray-300",children:Ne($.created_at)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Last Used:"}),n.jsx("p",{className:"text-gray-300",children:Ne($.last_used_at)})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Permissions: "}),n.jsx("span",{className:"text-gray-400 text-sm",children:($.permissions||[]).join(", ")||"None"})]})]}),n.jsxs("div",{className:"flex gap-2 ml-4",children:[n.jsx(ie,{variant:"secondary",size:"sm",onClick:()=>U($),disabled:b,children:"Edit"}),$.is_active?n.jsx(ie,{variant:"danger",size:"sm",onClick:()=>z($.id,$.name),disabled:b,children:"Revoke"}):n.jsx(ie,{variant:"secondary",size:"sm",onClick:()=>k($.id,$.name),disabled:b,children:"Reactivate"})]})]})})},$.id))}),n.jsx(rt,{isOpen:y,onClose:()=>g(!1),title:"Create API Key",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Key Name *"}),n.jsx("input",{type:"text",value:Z,onChange:$=>le($.target.value),placeholder:"e.g., Parker's Companion App",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"A descriptive name to identify this key"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Rate Limit (requests/hour)"}),n.jsx("input",{type:"number",value:fe,onChange:$=>we(parseInt($.target.value)||200),min:"1",max:"1000",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Maximum submissions per hour (default: 200)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Discord Community Tag"}),n.jsxs("select",{value:re,onChange:$=>me($.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[n.jsx("option",{value:"",children:"-- Select a tag --"}),n.jsx("option",{value:"personal",children:"Personal"}),P.map($=>n.jsxs("option",{value:$.tag,children:[$.name," (",$.tag,")"]},$.tag))]}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Submissions via this key will be auto-tagged with this community"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[n.jsx(ie,{variant:"secondary",onClick:()=>g(!1),children:"Cancel"}),n.jsx(ie,{onClick:D,disabled:b||!Z.trim(),children:b?"Creating...":"Create Key"})]})]})}),n.jsx(rt,{isOpen:v,onClose:()=>N(!1),title:"API Key Created",children:_&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-yellow-900/30 border border-yellow-700 rounded p-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-yellow-500 text-xl",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-400 font-semibold",children:"Save this key now!"}),n.jsx("p",{className:"text-yellow-300 text-sm",children:"This is the only time the full key will be shown. Store it securely."})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your API Key"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:_.key,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-900 border border-gray-600 rounded text-cyan-400 font-mono text-sm"}),n.jsx(ie,{onClick:()=>xe(_.key),children:"Copy"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Name:"}),n.jsx("p",{className:"text-white",children:_.name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Rate Limit:"}),n.jsxs("p",{className:"text-white",children:[_.rate_limit,"/hour"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Discord Tag:"}),n.jsx("p",{className:"text-white",children:_.discord_tag||"None"})]})]}),n.jsxs("div",{className:"bg-gray-800 rounded p-4 text-sm",children:[n.jsx("p",{className:"text-gray-400 mb-2",children:"To use this key with the NMS Save Watcher companion app:"}),n.jsxs("ol",{className:"list-decimal list-inside text-gray-300 space-y-1",children:[n.jsx("li",{children:"Open the companion app's web dashboard"}),n.jsx("li",{children:"Go to Settings"}),n.jsx("li",{children:"Paste this API key in the API Key field"}),n.jsx("li",{children:"Save your settings"})]})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-700",children:n.jsx(ie,{onClick:()=>N(!1),children:"I've Saved the Key"})})]})}),n.jsx(rt,{isOpen:I,onClose:()=>K(!1),title:"Edit API Key",children:Q&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Key Name *"}),n.jsx("input",{type:"text",value:ee,onChange:$=>A($.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Rate Limit (requests/hour)"}),n.jsx("input",{type:"number",value:te,onChange:$=>ne(parseInt($.target.value)||200),min:"1",max:"1000",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Discord Community Tag"}),n.jsxs("select",{value:Ee,onChange:$=>H($.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[n.jsx("option",{value:"",children:"-- No tag --"}),n.jsx("option",{value:"personal",children:"Personal"}),P.map($=>n.jsxs("option",{value:$.tag,children:[$.name," (",$.tag,")"]},$.tag))]}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Submissions via this key will be auto-tagged with this community"})]}),n.jsxs("div",{className:"text-sm text-gray-400",children:[n.jsx("span",{className:"text-gray-500",children:"Key Prefix:"})," ",Q.key_prefix,"..."]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[n.jsx(ie,{variant:"secondary",onClick:()=>K(!1),children:"Cancel"}),n.jsx(ie,{onClick:ge,disabled:b||!ee.trim(),children:b?"Saving...":"Save Changes"})]})]})})]})}const $i=[{id:"system_create",label:"Create Systems",description:"Can create new star systems"},{id:"system_edit",label:"Edit Systems",description:"Can edit systems tagged with their Discord"},{id:"approvals",label:"View Approvals",description:"Can approve/reject pending submissions for their Discord"},{id:"stats",label:"View Statistics",description:"Can view database statistics for their Discord"},{id:"settings",label:"Theme Settings",description:"Can customize their theme colors"},{id:"csv_import",label:"CSV Import",description:"Can bulk import star systems from CSV files"}];function l0(){const l=Rn(),a=x.useContext(_t),[i,c]=x.useState([]),[d,f]=x.useState(!0),[m,y]=x.useState(!1),[g,v]=x.useState(!1),[N,_]=x.useState(!1),[E,b]=x.useState(!1),[h,P]=x.useState(null),[j,I]=x.useState({username:"",password:"",discord_tag:"",display_name:"",enabled_features:[]});x.useEffect(()=>{if(!a.isSuperAdmin){alert("Super admin access required"),l("/systems");return}K()},[a.isSuperAdmin,l]);async function K(){f(!0);try{const A=await ce.get("/api/partners");c(A.data.partners||[])}catch(A){alert("Failed to load partners: "+(A.response?.data?.detail||A.message))}finally{f(!1)}}function Q(){I({username:"",password:"",discord_tag:"",display_name:"",enabled_features:[]})}async function B(){if(!j.username.trim()||j.username.length<3){alert("Username must be at least 3 characters");return}if(!j.password||j.password.length<4){alert("Password must be at least 4 characters");return}y(!0);try{await ce.post("/api/partners",{username:j.username.trim(),password:j.password,discord_tag:j.discord_tag.trim()||null,display_name:j.display_name.trim()||j.username.trim(),enabled_features:j.enabled_features}),alert("Partner account created successfully!"),v(!1),Q(),K()}catch(A){alert("Failed to create partner: "+(A.response?.data?.detail||A.message))}finally{y(!1)}}async function Z(){y(!0);try{await ce.put(`/api/partners/${h.id}`,{discord_tag:j.discord_tag.trim()||null,display_name:j.display_name.trim(),enabled_features:j.enabled_features}),alert("Partner updated successfully!"),_(!1),K()}catch(A){alert("Failed to update partner: "+(A.response?.data?.detail||A.message))}finally{y(!1)}}async function le(){if(!j.password||j.password.length<4){alert("Password must be at least 4 characters");return}y(!0);try{await ce.post(`/api/partners/${h.id}/reset_password`,{password:j.password}),alert("Password reset successfully!"),b(!1),Q()}catch(A){alert("Failed to reset password: "+(A.response?.data?.detail||A.message))}finally{y(!1)}}async function fe(A){const te=A.is_active?"deactivate":"activate";if(!(A.is_active&&!confirm(`Deactivate partner "${A.display_name||A.username}"?

They will not be able to log in until reactivated.`))){y(!0);try{A.is_active?await ce.delete(`/api/partners/${A.id}`):await ce.post(`/api/partners/${A.id}/activate`),K()}catch(ne){alert(`Failed to ${te} partner: `+(ne.response?.data?.detail||ne.message))}finally{y(!1)}}}function we(A){P(A),I({username:A.username,password:"",discord_tag:A.discord_tag||"",display_name:A.display_name||"",enabled_features:A.enabled_features||[]}),_(!0)}function re(A){P(A),I({...j,password:""}),b(!0)}function me(A){I(te=>({...te,enabled_features:te.enabled_features.includes(A)?te.enabled_features.filter(ne=>ne!==A):[...te.enabled_features,A]}))}function ee(A){return A?new Date(A).toLocaleString():"Never"}return d?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading partners..."})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-cyan-400",children:"Partner Management"}),n.jsx("p",{className:"text-gray-400 mt-1",children:"Create and manage login accounts for partner Discord servers"})]}),n.jsx(ie,{onClick:()=>{Q(),v(!0)},disabled:m,children:"+ Add Partner"})]}),n.jsx(De,{className:"bg-gray-800/50 border border-cyan-900/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-cyan-400 font-semibold mb-2",children:"About Partner Accounts"}),n.jsxs("ul",{className:"text-gray-300 text-sm space-y-1 list-disc list-inside",children:[n.jsx("li",{children:'Each partner account is tied to a Discord server via a short tag (e.g., "GHDF", "NMSHub")'}),n.jsx("li",{children:"Partners can only edit systems/regions tagged with their Discord"}),n.jsx("li",{children:"When partners edit untagged systems, it requires your approval"}),n.jsx("li",{children:"You control which features each partner has access to"}),n.jsx("li",{children:"Multiple admins from the same Discord can share one login"})]})]})}),i.length===0?n.jsx(De,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-8 text-center text-gray-400",children:[n.jsx("p",{className:"text-lg mb-2",children:"No partner accounts yet"}),n.jsx("p",{className:"text-sm",children:"Create a partner account to give other Discord servers their own space."})]})}):n.jsx("div",{className:"space-y-4",children:i.map(A=>n.jsx(De,{className:`bg-gray-800/50 border ${A.is_active?"border-gray-700":"border-red-900/50"}`,children:n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:A.display_name||A.username}),n.jsxs("span",{className:"text-sm text-gray-400",children:["@",A.username]}),A.is_active?n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-green-900/50 text-green-400 border border-green-700",children:"Active"}):n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-red-900/50 text-red-400 border border-red-700",children:"Inactive"})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Discord Tag:"}),n.jsx("p",{className:"text-cyan-400 font-mono",children:A.discord_tag||"Not set"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Created:"}),n.jsx("p",{className:"text-gray-300",children:ee(A.created_at)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Last Login:"}),n.jsx("p",{className:"text-gray-300",children:ee(A.last_login_at)})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Enabled Features: "}),n.jsx("span",{className:"text-gray-400 text-sm",children:(A.enabled_features||[]).length>0?A.enabled_features.map(te=>{const ne=$i.find(Ee=>Ee.id===te);return ne?ne.label:te}).join(", "):"None"})]})]}),n.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[n.jsx(ie,{variant:"secondary",size:"sm",onClick:()=>we(A),disabled:m,children:"Edit"}),n.jsx(ie,{variant:"secondary",size:"sm",onClick:()=>re(A),disabled:m,children:"Reset Password"}),n.jsx(ie,{variant:A.is_active?"danger":"primary",size:"sm",onClick:()=>fe(A),disabled:m,children:A.is_active?"Deactivate":"Activate"})]})]})})},A.id))}),n.jsx(rt,{isOpen:g,onClose:()=>v(!1),title:"Create Partner Account",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Username *"}),n.jsx("input",{type:"text",value:j.username,onChange:A=>I({...j,username:A.target.value}),placeholder:"e.g., GHDFAdmin",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Login username (min 3 characters)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password *"}),n.jsx("input",{type:"password",value:j.password,onChange:A=>I({...j,password:A.target.value}),placeholder:"Enter password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Min 4 characters"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Discord Tag"}),n.jsx("input",{type:"text",value:j.discord_tag,onChange:A=>I({...j,discord_tag:A.target.value}),placeholder:"e.g., GHDF",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Short identifier for their Discord server. Systems/regions with this tag belong to them."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Display Name"}),n.jsx("input",{type:"text",value:j.display_name,onChange:A=>I({...j,display_name:A.target.value}),placeholder:"e.g., Galactic Hub Defense Force",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Friendly name shown in the UI"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Enabled Features"}),n.jsx("div",{className:"space-y-2 bg-gray-800 p-3 rounded border border-gray-700",children:$i.map(A=>n.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:j.enabled_features.includes(A.id),onChange:()=>me(A.id),className:"mt-1"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white",children:A.label}),n.jsx("p",{className:"text-gray-500 text-xs",children:A.description})]})]},A.id))})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[n.jsx(ie,{variant:"secondary",onClick:()=>v(!1),children:"Cancel"}),n.jsx(ie,{onClick:B,disabled:m||!j.username.trim()||!j.password,children:m?"Creating...":"Create Partner"})]})]})}),n.jsx(rt,{isOpen:N,onClose:()=>_(!1),title:`Edit ${h?.display_name||h?.username||"Partner"}`,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Discord Tag"}),n.jsx("input",{type:"text",value:j.discord_tag,onChange:A=>I({...j,discord_tag:A.target.value}),placeholder:"e.g., GHDF",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Display Name"}),n.jsx("input",{type:"text",value:j.display_name,onChange:A=>I({...j,display_name:A.target.value}),placeholder:"e.g., Galactic Hub Defense Force",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Enabled Features"}),n.jsx("div",{className:"space-y-2 bg-gray-800 p-3 rounded border border-gray-700",children:$i.map(A=>n.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:j.enabled_features.includes(A.id),onChange:()=>me(A.id),className:"mt-1"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white",children:A.label}),n.jsx("p",{className:"text-gray-500 text-xs",children:A.description})]})]},A.id))})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[n.jsx(ie,{variant:"secondary",onClick:()=>_(!1),children:"Cancel"}),n.jsx(ie,{onClick:Z,disabled:m,children:m?"Saving...":"Save Changes"})]})]})}),n.jsx(rt,{isOpen:E,onClose:()=>b(!1),title:`Reset Password for ${h?.display_name||h?.username||"Partner"}`,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password *"}),n.jsx("input",{type:"password",value:j.password,onChange:A=>I({...j,password:A.target.value}),placeholder:"Enter new password",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Min 4 characters"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-700",children:[n.jsx(ie,{variant:"secondary",onClick:()=>b(!1),children:"Cancel"}),n.jsx(ie,{onClick:le,disabled:m||!j.password||j.password.length<4,children:m?"Resetting...":"Reset Password"})]})]})})]})}function a0(){const l=x.useContext(_t),{isSuperAdmin:a,isPartner:i,user:c}=l||{},d=x.useRef(null),[f,m]=x.useState(null),[y,g]=x.useState(!1),[v,N]=x.useState(null),[_,E]=x.useState(!1),b=K=>{const Q=K.target.files?.[0];Q&&Q.name.endsWith(".csv")&&(m(Q),N(null))},h=K=>{K.preventDefault(),E(!1);const Q=K.dataTransfer.files?.[0];Q&&Q.name.endsWith(".csv")&&(m(Q),N(null))},P=K=>{K.preventDefault(),E(!0)},j=()=>{E(!1)},I=async()=>{if(f){g(!0),N(null);try{const K=new FormData;K.append("file",f);const Q=await fetch("/api/import_csv",{method:"POST",credentials:"include",body:K}),B=await Q.json();if(!Q.ok)throw new Error(B.detail||"Import failed");N({success:!0,imported:B.imported,skipped:B.skipped,errors:B.errors,totalErrors:B.total_errors,regionName:B.region_name}),m(null),d.current&&(d.current.value="")}catch(K){N({success:!1,error:K.message})}finally{g(!1)}}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-cyan-400",children:"CSV Import"}),n.jsx(De,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Import Star Systems from CSV"}),n.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Upload a CSV file exported from Google Sheets to import star systems directly into the database."}),n.jsxs("div",{className:"mb-6 p-3 bg-gray-700/50 rounded border border-gray-600",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Expected CSV Format:"}),n.jsxs("ul",{className:"text-xs text-gray-400 space-y-1 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Row 1:"}),' Region name (e.g., "HUB1 - Sea of Xionahui")']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Row 2:"})," Headers (Coordinates, Original System Name, HUB Tag, New System Name, etc.)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Row 3+:"})," Data rows"]})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Required columns:"})," Coordinates (galactic format XXXX:YYYY:ZZZZ:SSSS), New System Name"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Stored in notes:"})," HUB Tag, Original System Name, Comments/Special Attributes"]})]})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer
              ${_?"border-cyan-400 bg-cyan-900/20":"border-gray-600 hover:border-gray-500"}`,onDrop:h,onDragOver:P,onDragLeave:j,onClick:()=>d.current?.click(),children:[n.jsx("input",{ref:d,type:"file",accept:".csv",onChange:b,className:"hidden"}),f?n.jsxs("div",{children:[n.jsx("div",{className:"text-lg text-cyan-400 font-semibold",children:f.name}),n.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:[(f.size/1024).toFixed(1)," KB"]}),n.jsx("button",{onClick:K=>{K.stopPropagation(),m(null),d.current&&(d.current.value="")},className:"mt-2 text-sm text-red-400 hover:text-red-300",children:"Remove file"})]}):n.jsxs("div",{children:[n.jsx("div",{className:"text-lg text-gray-300",children:"Drop CSV file here"}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"or click to browse"})]})]}),n.jsx("div",{className:"mt-4 flex gap-4",children:n.jsx(ie,{onClick:I,disabled:!f||y,children:y?"Importing...":"Import Systems"})}),v&&n.jsx("div",{className:`mt-6 p-4 rounded border ${v.success?"bg-green-900/30 border-green-700":"bg-red-900/30 border-red-700"}`,children:v.success?n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-green-400 mb-2",children:"Import Complete"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Systems Imported:"}),n.jsx("span",{className:"ml-2 text-green-400 font-semibold",children:v.imported})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Systems Skipped:"}),n.jsx("span",{className:"ml-2 text-yellow-400 font-semibold",children:v.skipped})]}),v.regionName&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-gray-400",children:"Region:"}),n.jsx("span",{className:"ml-2 text-cyan-400",children:v.regionName})]})]}),v.errors&&v.errors.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("h5",{className:"text-sm font-semibold text-yellow-400 mb-1",children:["Errors (",v.totalErrors," total, showing first ",v.errors.length,"):"]}),n.jsx("ul",{className:"text-xs text-gray-400 space-y-1 max-h-32 overflow-y-auto",children:v.errors.map((K,Q)=>n.jsx("li",{className:"text-red-300",children:K},Q))})]})]}):n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-red-400 mb-2",children:"Import Failed"}),n.jsx("p",{className:"text-sm text-red-300",children:v.error})]})})]})}),i&&n.jsx(De,{className:"bg-gray-800/50",children:n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-2",children:"About CSV Import"}),n.jsxs("ul",{className:"text-sm text-gray-400 space-y-1 list-disc list-inside",children:[n.jsxs("li",{children:["Imported systems will be tagged with your Discord (",c?.discordTag,")"]}),n.jsx("li",{children:"Duplicate systems (same glyph code) will be skipped"}),n.jsx("li",{children:"Systems are imported directly into the database (no approval needed)"})]})]})})]})}function i0({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const o0=x.forwardRef(i0);function c0({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"}))}const u0=x.forwardRef(c0);function d0({title:l,titleId:a,...i},c){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:c,"aria-labelledby":a},i),l?x.createElement("title",{id:a},l):null,x.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const f0=x.forwardRef(d0);function m0({open:l,onClose:a}){const[i,c]=x.useState(""),[d,f]=x.useState(""),[m,y]=x.useState(""),[g,v]=x.useState(!1),N=x.useContext(_t);if(!l)return null;async function _(b){b?.preventDefault(),y(""),v(!0);try{await N.login(i,d),c(""),f(""),a()}catch(h){y(h.message||"Login failed")}finally{v(!1)}}function E(b){b.key==="Enter"&&_()}return n.jsx(rt,{title:"Login",onClose:a,children:n.jsx("form",{onSubmit:_,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),n.jsx("input",{value:i,onChange:b=>c(b.target.value),onKeyDown:E,type:"text",className:"w-full p-2 border rounded bg-gray-700 text-white placeholder-gray-400",placeholder:"Enter username",autoFocus:!0,disabled:g})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),n.jsx("input",{value:d,onChange:b=>f(b.target.value),onKeyDown:E,type:"password",className:"w-full p-2 border rounded bg-gray-700 text-white placeholder-gray-400",placeholder:"Enter password",disabled:g})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{type:"submit",className:"btn flex-1",disabled:g||!i.trim()||!d,children:g?"Logging in...":"Login"}),n.jsx("button",{type:"button",className:"btn",onClick:a,disabled:g,children:"Cancel"})]}),m&&n.jsx("div",{className:"text-red-500 mt-2 text-sm",children:m})]})})})}function p0(){const l=x.useContext(_t),[a,i]=x.useState(!1),[c,d]=x.useState(!1),[f,m]=x.useState(0),y=x.useRef(null),{isDisconnected:g,registerConnection:v,unregisterConnection:N}=zl(),{isAdmin:_,isSuperAdmin:E,isPartner:b,user:h,canAccess:P}=l;x.useEffect(()=>{if(!_){m(0);return}if(g)return;const I=async()=>{try{const Q=await ce.get("/api/pending_systems/count");m(Q.data.count||0)}catch{}},K=()=>{y.current=setInterval(I,3e4)};return I(),K(),v("navbar-pending-polling",{cleanup:()=>{y.current&&(clearInterval(y.current),y.current=null)},restore:()=>{I(),K()}}),()=>{N("navbar-pending-polling"),y.current&&clearInterval(y.current)}},[_,g,v,N]);const j=()=>d(!1);return n.jsxs("header",{className:"p-4 shadow",style:{background:"linear-gradient(90deg, var(--app-card), rgba(255,255,255,0.02))"},children:[n.jsxs("div",{className:"container mx-auto",role:"navigation","aria-label":"Main navigation",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{style:{background:"linear-gradient(135deg, var(--app-primary), var(--app-accent-2))"},className:"p-2 rounded-lg",children:n.jsx(u0,{className:"w-7 h-7 text-white"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-semibold",style:{color:"var(--app-text)"},children:"Haven Control Room"}),n.jsx("div",{className:"text-sm muted",style:{color:"var(--app-accent-3)"},children:_?n.jsxs("span",{children:[h?.displayName||h?.username,b&&h?.discordTag&&n.jsxs("span",{className:"ml-1 text-cyan-400",children:["(",h.discordTag,")"]}),E&&n.jsx("span",{className:"ml-1 text-yellow-400",children:"(Super Admin)"})]}):"Web"})]})]}),n.jsxs("nav",{className:"hidden lg:flex space-x-2","aria-label":"Primary",children:[n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/",children:"Dashboard"}),n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/systems",children:"Systems"}),n.jsx("a",{className:"px-3 py-1 hover:underline",href:"/map/latest",children:"Map"}),n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/create",children:"Create"}),E&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/rtai",children:"RT-AI"}),P(nn.SETTINGS)&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/settings",children:"Settings"}),n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/discoveries",children:"Discoveries"}),E&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/tests",children:"Tests"}),n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/db_stats",children:"DB Stats"}),P(nn.APPROVALS)&&n.jsxs(Oe,{className:"px-3 py-1 hover:underline relative",to:"/pending-approvals",children:["Approvals",f>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:f>9?"9+":f})]}),E&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/api-keys",children:"API Keys"}),E&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/admin/partners",children:"Partners"}),P(nn.CSV_IMPORT)&&n.jsx(Oe,{className:"px-3 py-1 hover:underline",to:"/csv-import",children:"CSV Import"}),_?n.jsx("button",{className:"px-3 py-1 bg-red-500 text-white rounded",onClick:()=>l.logout(),children:"Logout"}):n.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded",onClick:()=>i(!0),children:"Login"})]}),n.jsx("button",{className:"lg:hidden p-2 text-white",onClick:()=>d(!c),"aria-label":"Toggle menu",children:c?n.jsx(f0,{className:"w-6 h-6"}):n.jsx(o0,{className:"w-6 h-6"})})]}),c&&n.jsxs("nav",{className:"lg:hidden mt-4 flex flex-col space-y-2 pb-4","aria-label":"Mobile",children:[n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/",onClick:j,children:"Dashboard"}),n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/systems",onClick:j,children:"Systems"}),n.jsx("a",{className:"px-3 py-2 hover:bg-gray-700 rounded",href:"/map/latest",onClick:j,children:"Map"}),n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/create",onClick:j,children:"Create"}),E&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/rtai",onClick:j,children:"RT-AI"}),P(nn.SETTINGS)&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/settings",onClick:j,children:"Settings"}),n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/discoveries",onClick:j,children:"Discoveries"}),E&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/tests",onClick:j,children:"Tests"}),n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/db_stats",onClick:j,children:"DB Stats"}),P(nn.APPROVALS)&&n.jsxs(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded flex justify-between items-center",to:"/pending-approvals",onClick:j,children:[n.jsx("span",{children:"Approvals"}),f>0&&n.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:f>9?"9+":f})]}),E&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/api-keys",onClick:j,children:"API Keys"}),E&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/admin/partners",onClick:j,children:"Partners"}),P(nn.CSV_IMPORT)&&n.jsx(Oe,{className:"px-3 py-2 hover:bg-gray-700 rounded",to:"/csv-import",onClick:j,children:"CSV Import"}),n.jsxs("div",{className:"pt-2 border-t border-gray-700",children:[_&&n.jsxs("div",{className:"px-3 py-2 text-sm text-gray-400 mb-2",children:["Logged in as: ",h?.displayName||h?.username,b&&h?.discordTag&&n.jsxs("span",{className:"text-cyan-400",children:[" (",h.discordTag,")"]})]}),_?n.jsx("button",{className:"w-full px-3 py-2 bg-red-500 text-white rounded",onClick:()=>{l.logout(),j()},children:"Logout"}):n.jsx("button",{className:"w-full px-3 py-2 bg-blue-500 text-white rounded",onClick:()=>{i(!0),j()},children:"Login"})]})]})]}),n.jsx(m0,{open:a,onClose:()=>i(!1)})]})}function h0(){const{isDisconnected:l,reconnect:a}=zl();return l?n.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"p-8 rounded-xl shadow-2xl max-w-md w-full text-center",style:{backgroundColor:"var(--app-card)"},children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{background:"rgba(240, 173, 78, 0.2)"},children:n.jsx("span",{className:"text-3xl",children:""})}),n.jsx("h2",{className:"text-xl font-semibold mb-2",style:{color:"var(--app-text)"},children:"Session Paused"}),n.jsx("p",{className:"mb-6",style:{color:"var(--muted)"},children:"Your session was paused due to inactivity to save resources. Click below to resume all live connections."}),n.jsx("button",{onClick:a,className:"w-full py-3 px-6 rounded-lg font-semibold text-white transition-all duration-300 hover:scale-105",style:{background:"linear-gradient(135deg, var(--app-primary) 0%, #00a89a 100%)",boxShadow:"0 4px 20px rgba(0, 194, 179, 0.4)"},children:"Reconnect"})]})}):null}function kl({children:l}){const a=x.useContext(_t);return a.loading?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading..."})}):a.isSuperAdmin?l:n.jsx(Gi,{to:"/",replace:!0})}function Bi({feature:l,children:a}){const i=x.useContext(_t);return i.loading?n.jsx("div",{className:"flex items-center justify-center min-h-64",children:n.jsx("div",{className:"text-lg text-gray-400",children:"Loading..."})}):i.isAdmin?i.canAccess(l)?a:n.jsx(Gi,{to:"/",replace:!0}):n.jsx(Gi,{to:"/",replace:!0})}function x0(){return x.useEffect(()=>{fetch("/api/settings").then(l=>l.json()).then(l=>{if(!l)return;const a=l.theme||{};a.bg&&document.documentElement.style.setProperty("--app-bg",a.bg),a.text&&document.documentElement.style.setProperty("--app-text",a.text),a.card&&document.documentElement.style.setProperty("--app-card",a.card),a.primary&&document.documentElement.style.setProperty("--app-primary",a.primary)}).catch(()=>{})},[]),n.jsx(Mg,{children:n.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--app-bg, #f8fafc)",color:"var(--app-text, #111827)"},children:[n.jsx(p0,{}),n.jsx("main",{className:"container mx-auto p-6",children:n.jsxs(Jx,{children:[n.jsx(ft,{path:"/",element:n.jsx(Fg,{})}),n.jsx(ft,{path:"/systems",element:n.jsx(Ug,{})}),n.jsx(ft,{path:"/systems/:id",element:n.jsx(Bg,{})}),n.jsx(ft,{path:"/create",element:n.jsx(Id,{})}),n.jsx(ft,{path:"/wizard",element:n.jsx(Id,{})}),n.jsx(ft,{path:"/discoveries",element:n.jsx(Zg,{})}),n.jsx(ft,{path:"/db_stats",element:n.jsx(n0,{})}),n.jsx(ft,{path:"/rtai",element:n.jsx(kl,{children:n.jsx(Gg,{})})}),n.jsx(ft,{path:"/api-keys",element:n.jsx(kl,{children:n.jsx(s0,{})})}),n.jsx(ft,{path:"/tests",element:n.jsx(kl,{children:n.jsx(t0,{})})}),n.jsx(ft,{path:"/admin/partners",element:n.jsx(kl,{children:n.jsx(l0,{})})}),n.jsx(ft,{path:"/settings",element:n.jsx(Bi,{feature:nn.SETTINGS,children:n.jsx(Qg,{})})}),n.jsx(ft,{path:"/pending-approvals",element:n.jsx(Bi,{feature:nn.APPROVALS,children:n.jsx(r0,{})})}),n.jsx(ft,{path:"/csv-import",element:n.jsx(Bi,{feature:nn.CSV_IMPORT,children:n.jsx(a0,{})})})]})}),n.jsx(h0,{})]})})}const g0=x.createContext(null);function gr(l,a){try{document.documentElement.style.setProperty(l,a)}catch{}}function y0({children:l}){return x.useEffect(()=>{fetch("/api/settings").then(a=>a.json()).then(a=>{const i=a&&a.theme||a||{},c=i.colors||i||{},d=c.bg_dark||c.bg||i.bg||i.background,f=c.bg_card||c.card||i.card,m=c.accent_cyan||c.accent||i.primary||i.accent_cyan,y=c.text_primary||c.text||i.text,g=c.glow||i.glow;d&&gr("--app-bg",d),y&&gr("--app-text",y),f&&gr("--app-card",f),m&&gr("--app-primary",m),g&&gr("--app-glow",g);const v=c&&Object.keys(c).length?c:i;Object.entries(v).forEach(([N,_])=>{if(!_)return;const E=`--app-${N.replace(/_/g,"-")}`;gr(E,_)})}).catch(()=>{})},[]),n.jsx(g0.Provider,{value:null,children:l})}lx.createRoot(document.getElementById("root")).render(n.jsx(zd.StrictMode,{children:n.jsx(lg,{basename:"/haven-ui",children:n.jsx(y0,{children:n.jsx(dg,{timeout:36e5,children:n.jsx(x0,{})})})})}));ce.defaults.withCredentials=!0;
