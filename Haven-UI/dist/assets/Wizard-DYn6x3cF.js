import{j as e}from"./vendor-three-B8lJlG1P.js";import{b as m,u as be,h as ye}from"./vendor-react-D7IcbEIw.js";import{a as R}from"./vendor-ui-B9ygI19o.js";import{C as fe}from"./Card-C4YgI0Ez.js";import{B as G}from"./Button-CI6OWZ-Z.js";import{u as Z}from"./api-CLX3FGN7.js";import{S as k}from"./SearchableSelect-uNGq-GhX.js";import{M as $,A as ve}from"./index-DfzvULyl.js";import{a as V}from"./economyTradeGoods-BcE93n58.js";import"./index-DywX51Id.js";import"./floating-ui.dom-DAbdHeWr.js";const X=["[REDACTED]","Abandoned","Abandoned Crucible","Abandoned Paradise","Acidic","Acrid","Airless","Arctic","Arid","Ash-shrouded","Ashen","Azure","Barren","Basalt","Bladed","Bleached Ruin","Bleak","Blighted","Blood","Boggy","Boiling","Boiling Doom","Bountiful","Breached","Bubbling","Cabled","Calcified","Capped","Caustic","Caustic Nightmare","Cerulean","Charred","Chromatic Fog","Claimed By Decay","Cloudy","Columned","Contaminated","Contoured","Corrosive","Crimson","Damp","Dead","Deathly Green Anomaly","Decaying Nuclear","Decaying Ruin","Desert","Desolate","Doomed","Doomed Jade","Drowning","Dusty","Empty","Endless","Endless Morass","Endless Seas","Erased","Erupting","Exotic","Fiery","Fiery Dreadworld","Finned","Fissured","Flame-Ruptured","Flourishing","Foaming","Foggy","Forsaken","Fractured","Fragmented","Freezing","Frostbound","Frothing","Frozen","Frozen Anomaly","Frozen Hell","Frozen Mists","Frozen Relic","Fungal","Gamma Intensive","Gas Giant","Glacial","Grassy","Harsh Blue Globe","Haunted Emeril","Hazardous Moisture","Hazy","Hexagonal","Hiemal","High Energy","High Radio Source","High Temperature","Hot","Humid","Hyperborean","Icebound","Icy","Icy Abhorrence","Icy Ruin","Imminent Core Detonation","Incandescent","Infected Dustbowl","Infested","Infested Paradise","Irradiated","Isotopic","Lava","Life-Incompatible","Lifeless","Lost Blue","Lost Green","Lost Red","Lost To Fire","Low Atmosphere","Lush","Magma","Malfunctioning","Marshy","Mechanical","Metallic","Metallurgic","Miasmatic","Misty","Molten","Murky","Mutated","Mutating Relic","Noxious","Nuclear","Obsidian Bead","Of Light","Ossified","Overgrown","Overgrown Relic","Paradise","Parched","Petrified","Pillared","Planetary Anomaly","Plated","Poisonous","Quagmire","Radioactive","Radioactive Abomination","Rainy","Rattling","Reeking","Rocky","Rotting","Ruined","Ruined Dustbowl","Scalding","Scaly","Scarlet","Scorched","Scorched Relic","Sharded","Shattered","Shell-Strewn","Skeletal","Spined","Sporal","Stellar Corruption","Sub-Zero","Supercritical","Swamp","Tainted","Tectonic","Temperate","Temporary","Terraforming Catastrophe","Terrorsphere","The Nest","Thirsty","Torrid","Toxic","Toxic Anomaly","Toxic Horror","Tropical","Ultramarine","Unstable","Vapour","Verdant","Vermillion Globe","Vile Anomaly","Violent","Viridescent","Volcanic","Webbed","Wind-Swept","Wine Dark","Worm-Ridden","Xeno-Colony"].sort((s,o)=>s.localeCompare(o)),Q=["[REDACTED]","Absent","Acid Rain","Acidic Deluges","Acidic Dust","Acidic Dust Pockets","Airless","Alkaline Cloudbursts","Alkaline Rain","Alkaline Storms","All-Consuming Cold","All-Consuming Fog","Angered Clouds","Anomalous","Arid","Ash Plumes","Ashen Destruction","Atmospheric Corruption","Atmospheric Heat Instabilities","Azure Storms","Baked","Balmy","Basalt Hail","Beautiful","Bilious Storms","Billowing Dust Storms","Blasted Atmosphere","Blazed","Blissful","Blistering Damp","Blistering Floods","Blizzard","Blood Rain","Boiling Catastrophe","Boiling Monsoons","Boiling Puddles","Boiling Superstorms","Bone-Stripping Acid Storms","Broiling Humidity","Burning","Burning Air","Burning Crimson","Burning Gas Clouds","Carmine Winds","Cataclysmic Monsoons","Caustic Dust","Caustic Floods","Caustic Moisture","Caustic Winds","Ceaseless Drought","Choking Ash","Choking Clouds","Choking Humidity","Choking Sandstorms","Cinderfalls","Clammy Menace","Clear","Clouds of Fire","Clouds of Haunted Green","Coastal Storms","Cold","Colossal Firestorms","Combustible Dust","Constant Pressure Storms","Contaminated","Contaminated Puddles","Contaminated Squalls","Corrosive Cyclones","Corrosive Damp","Corrosive Rainstorms","Corrosive Sleet Storms","Corrosive Storms","Corrupted Blood","Crimson Heat","Crisp","Damp","Damp Misery","Dangerously Hot","Dangerously Hot Fog","Dangerously Toxic Rain","Dead Wastes","Deadly Pressure Variations","Death Fog","Deep Freeze","Dehydrated","Deluge","Desiccated","Desolate","Direct Sunlight","Downpours","Drifting Firestorms","Drifting Snowstorms","Drizzle","Droughty","Dry Gusts","Dust-Choked Winds","Echoes of Acid","Eerily Calm","Electric Rain","Elevated Radioactivity","Emollient","Energetic Storms","Enormous Nuclear Storms","Enveloping Ash","Explosive Gas Eruptions","Extreme Acidity","Extreme Atmospheric Decay","Extreme Cold","Extreme Contamination","Extreme Heat","Extreme Low Pressure","Extreme Nuclear Decay","Extreme Radioactivity","Extreme Thermonuclear Fog","Extreme Toxicity","Extreme Wind Blasting","Extreme Winds","Fair","Fevered Clouds","Fine","Firestorms","Flaming Hail","Freezing","Freezing Night Winds","Freezing Rain","Frequent Blizzards","Frequent Firestorms","Frequent Particle Eruptions","Frequent Toxic Floods","Frigid","Frost","Frozen","Frozen Clouds","Frozen Mists","Gamma Cyclones","Gamma Dust","Gas Clouds","Gas Storms","Gelid","Gentle Mist","Glacial","Harmful Rain","Harsh Toxic Wind","Harsh Winds","Harsh, Icy Winds","Haunted Frost","Hazardous Moisture","Hazardous Temperature Extremes","Hazardous Whiteouts","Heated","Heated Atmosphere","Heated Gas Pockets","Heavily Toxic Rain","Heavy Rain","High Energy","Highly Variable Temperatures","Hot","Howling Blizzards","Howling Gales","Humid","Ice Storms","Icebound","Icy","Icy Blasts","Icy Nights","Icy Tempests","Incendiary Dust","Incendiary Winds","Indetectable Burning","Inert","Inescapeable Toxins","Inferno","Inferno Winds","Infinite Toxic Mist","Infrequent Blizzards","Infrequent Dust Storms","Infrequent Heat Storms","Infrequent Torrents","Infrequent Toxic Drizzle","Intense Cold","Intense Dust","Intense Heat","Intense Heatbursts","Intense Rainfall","Intermittent Wind Blasting","Internal Rain","Inverted Superstorms","Invisible Jade Winds","Invisible Mist","Irradiated","Irradiated Downpours","Irradiated Storms","Irradiated Thunderstorms","Irradiated Winds","Lethal Ash Storms","Lethal Atmosphere","Lethal Humidity Outbreaks","Light Showers","Liquid Hell","Lost Clouds","Lung-Burning Night Wind","Magma Geysers","Magma Rain","Mellow","Memories of Frost","Migratory Blizzards","Mild","Mild Rain","Mists of Annihilation","Moderate","Moistureless","Molten Rain","Monsoon","Mostly Calm","Muggy Haze","No Atmosphere","Noxious Gas Storms","Noxious Gases","Nuclear Emission","Nuclidic Atmosphere","Obsidian Doom","Obsidian Heat","Occasional Acid Storms","Occasional Ash Storms","Occasional Boiling Fog","Occasional Firestorms","Occasional Radiation Outbursts","Occasional Sandstorms","Occasional Scalding Cloudbursts","Occasional Snowfall","Oppressive","Outbreaks of Frozen Rain","Overly Warm","Painful Mist","Painfully Hot Rain","Parched","Parched Sands","Particulate Winds","Passing Toxic Fronts","Peaceful","Peaceful Climate","Perfectly Clear","Permafrost","Pillars of Flame","Planetwide Desiccation","Planetwide Maelstrom","Planetwide Radiation Storms","Pleasant","Plumes of Fire","Poison Cyclones","Poison Flurries","Poison Rain","Poisonous Dust","Poisonous Gas","Pouring Rain","Pouring Toxic Rain","Powder Snow","Radioactive","Radioactive Damp","Radioactive Decay","Radioactive Dust Storms","Radioactive Humidity","Radioactive Storms","Radioactivity","Raging Snowstorms","Rain of Atlas","Rainstorms","Rare Firestorms","Reactive","Reactive Dust","Reactive Rain","Red Mist","Refreshing Breeze","Roaring Ice Storms","Roaring Nuclear Wind","Sand Blizzards","Sandstorms","Scalding Heat","Scalding Rainstorms","Scarlet Rain","Scorched","Self-Igniting Storm","Silent","Smothering Ash","Smouldering","Snow","Snowfall","Snowstorms","Snowy","Soggy Danger","Sporadic Grit Storms","Sterile","Sticky Heat","Stinging Atmosphere","Stinging Puddles","Storms of Desolation","Sulfur Fumes","Sulphurous Haze","Sulphurous Inferno","Sunny","Supercooled Storms","Superheated Air","Superheated Drizzle","Superheated Gas Pockets","Superheated Mists","Superheated Rain","Sweltering","Sweltering Damp","Tectonic Storms","Temperate","Tempered","Temperate Murk","Tepid Damp","Thirsty Clouds","Torrential Acid","Torrential Heat","Torrential Rain","Torrid Deluges","Toxic Clouds","Toxic Damp","Toxic Dust","Toxic Horror","Toxic Monsoons","Toxic Outbreaks","Toxic Rain","Toxic Superstorms","Tropical Storms","Ultramarine Wind","Unclouded Skies","Unending Sunlight","Unfathomable Storms","Unimaginable Blue","Unpredictable Conflagrations","Unstable","Unstable Atmosphere","Unstable Fog","Unusually Mild","Usually Mild","Utterly Still","Vermillion Storms","Volatile","Volatile Dust Storms","Volatile Storms","Volatile Winds","Volatile Windstorms","Walls of Flame","Wandering Frosts","Wandering Hot Spots","Warm","Warm Dewdrops","Wet","Whiteout","Wind","Winds From Beyond","Winds of Glass","Wintry","Withered"].sort((s,o)=>s.localeCompare(o)),J=["Absent","Aggressive","Answer To None","Attentive","Corrupted","De-Harmonised","Dissonant","Enforcing","Ever-Present","Few","Forsaken","Frenzied","Frequent","Hateful","High Security","Hostile Patrols","Inescapable","Infrequent","Intermittent","Irregular Patrols","Isolated","Limited","Low","Low Security","Malicious","Minimal","Missing","None","None Present","Normal","Not Present","Observant","Rebellious","Regular Patrols","Remote","Require Obedience","Require Orthodoxy","Sharded from the Atlas","Sparse","Spread Thin","Threatening","Unwavering","Zealous"].sort((s,o)=>s.localeCompare(o)),ee=["Absent","Abundant","Ample","Average","Barren","Between Worlds","Bountiful","Common","Copious","Deficient","Devoid","Diseased","Displaced","Empty","Fair","Few","Forfeited","Frequent","From Elsewhere","Full","Generous","High","Infected","Infrequent","Intermittent","Invasive","Lacking","Limited","Lost","Low","Lush","Medium","Misplaced","Moderate","None","Nonexistent","Not Present","Numerous","Occasional","Ordinary","Rare","Regular","Rich","Scarse","Screaming","Sparse","Sporadic","Typical","Twisted","Uncommon","Undetected","Unusual","Uprooted","Viral"].sort((s,o)=>s.localeCompare(o)),ae=["Absent","Abundant","Ample","Average","Barren","Between Worlds","Bountiful","Common","Copious","Deficient","Devoid","Diseased","Displaced","Empty","Fair","Few","Forfeited","Frequent","From Elsewhere","Full","Generous","High","Infected","Infrequent","Intermittent","Invasive","Lacking","Limited","Lost","Low","Medium","Misplaced","Moderate","None","Nonexistent","Not Present","Numerous","Occasional","Ordinary","Rare","Regular","Rich","Scarse","Screaming","Sparse","Sporadic","Synthetic","Typical","Twisted","Uncommon","Undetected","Unusual","Uprooted","Viral"].sort((s,o)=>s.localeCompare(o)),ne=["Activated Cadmium","Activated Copper","Activated Emeril","Activated Indium","Activated Quartzite","Ammonia","Ancestral Memories","Atlantideum","Basalt","Cactus Flesh","Cadmium","Carbon","Chlorine","Chromatic Metal","Cobalt","Condensed Carbon","Copper","Crystallised Helium","Cursed Dust","Cyto-Phosphate","Deuterium","Di-hydrogen","Dioxite","Emeril","Faecium","Ferrite Dust","Fragmented Qualia","Frost Crystal","Fungal Mould","Gamma Root","Gold","Hexite","Indium","Ionised Cobalt","Kelp Sac","Liquid Sun","Lithium","Living Slime","Magnetised Ferrite","Marrow Bulb","Methane","Mordite","Nitrogen","Oxygen","Paraffinium","Phosphorus","Platinum","Polished Stone","Pugneum","Pure Ferrite","Pyrite","Quartzite","Radon","Residual Goop","Runaway Mould","Rusted Metal","Salt","Shattered Qualia","Silicate Powder","Silver","Sodium","Sodium Nitrate","Solanium","Somnal Dust","Star Bulb","Sulphurine","Tainted Metal","Tritium","Uranium","Viscous Fluids","Void Mote","Ancient Bones","Buried Technology","Salvageable Scrap","Storm Crystals","Vile Brood Detected","Whispering Eggs","Albumen Pearl","Vortex Cube","Submerged Relic","Gravitino Ball","Sac Venom","Larval Core","Living Pearl","Crystal Sulphide","Hadal Core","Hypnotic Eye","Bubble Cluster","Cable Pod","Calcishroom","Capillary Shell","Electric Cube","Glitching Separator","Hexplate Bush","Light Fissure","Ossified Star","Rattle Spine","Terbium Growth","Quad Servo","Walker Brain","Hyaline Brain","Salvaged Data","Geode","Gold Nugget","Crystal Fragment","Echo Seed","Tritium Hypercluster"].sort((s,o)=>s.localeCompare(o)),M=s=>s.map(o=>({value:o,label:o})),je=M(X),Ne=M(Q),Se=M(J),Ce=M(ee),we=M(ae),ke=M(ne);function Y({moon:s,index:o,onChange:g,onRemove:u,onSave:y}){const[d,h]=m.useState(!1);function x(r,j){const f={...s,[r]:j};g(o,f)}async function a(r){h(!0);try{const j=r.target.files[0];if(!j)return;const f=await Z(j);x("photo",f.path)}catch(j){alert("Upload failed: "+j)}h(!1)}return e.jsxs("div",{className:"p-2 border rounded my-2 bg-white/5",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Moon Name"}),e.jsx("input",{placeholder:"Moon name",className:"mt-1 p-1 rounded w-full",value:s.name||"",onChange:r=>x("name",r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Biome"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:je,value:s.biome||"",onChange:r=>x("biome",r),placeholder:"Search biome..."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Weather"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:Ne,value:s.weather||"",onChange:r=>x("weather",r),placeholder:"Search weather..."})})]})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Sentinels"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:Se,value:s.sentinel||"",onChange:r=>x("sentinel",r),placeholder:"Search sentinels..."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Flora"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:Ce,value:s.flora||"",onChange:r=>x("flora",r),placeholder:"Search flora..."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Fauna"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:we,value:s.fauna||"",onChange:r=>x("fauna",r),placeholder:"Search fauna..."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Materials"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:ke,value:s.materials||"",onChange:r=>x("materials",r),placeholder:"Search resources...",isMulti:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Notes"}),e.jsx("input",{placeholder:"Optional notes",className:"mt-1 p-1 rounded w-full",value:s.notes||"",onChange:r=>x("notes",r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Photo"}),e.jsx("input",{"aria-label":"Moon Photo",type:"file",onChange:a,className:"mt-1"}),d&&e.jsx("div",{className:"muted text-sm mt-1",children:"Uploading..."}),!d&&s.photo&&e.jsxs("div",{className:"mt-2 relative inline-block group",children:[e.jsx("img",{src:s.photo.startsWith("http")?s.photo:`/haven-ui-photos/${s.photo.replace(/^photos[\\/]/,"").split(/[\\/]/).pop()}`,alt:"Moon photo",className:"max-w-full sm:max-w-xs max-h-32 rounded border border-gray-600"}),e.jsx("button",{type:"button",onClick:()=>x("photo",null),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-sm font-bold",title:"Remove photo",children:"X"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1 break-all",children:s.photo})]})]})]}),e.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[e.jsx("div",{children:y&&e.jsx("button",{type:"button",onClick:()=>y(s),className:"px-3 py-1.5 bg-blue-600 rounded text-sm",children:"Save"})}),e.jsx("button",{type:"button",onClick:()=>u(o),className:"px-3 py-1.5 bg-red-600 rounded text-sm",children:"Remove Moon"})]})]})}const _e=M(X),De=M(Q),Me=M(J),Pe=M(ee),Ae=M(ae),Re=M(ne);function K({planet:s,index:o,onChange:g,onRemove:u,onSave:y}){const[d,h]=m.useState(!1),[x,a]=m.useState(!1),[r,j]=m.useState(null),[f,N]=m.useState(null);function t(l,p){const D={...s,[l]:p};g(o,D)}function S(){j(-1),N({name:"",biome:"",weather:"",sentinel:"None",fauna:"N/A",flora:"N/A",materials:"",notes:"",photo:null}),a(!0)}function _(l,p){const D=[...s.moons||[]];D[l]=p,t("moons",D)}function P(l){const p=[...s.moons||[]];p.splice(l,1),t("moons",p)}function I(l){j(l),N(s.moons[l]),a(!0)}function A(l){const p=[...s.moons||[]];r===-1?p.push(l):p[r]=l,t("moons",p),a(!1)}async function F(l){h(!0);try{const p=l.target.files[0];if(!p)return;const D=await Z(p);t("photo",D.path)}catch(p){alert("Upload failed: "+p)}h(!1)}return e.jsxs("div",{className:"p-3 my-3 border rounded bg-white/5",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Planet Name"}),e.jsx("input",{className:"mt-1 p-1 rounded w-full",value:s.name||"",onChange:l=>t("name",l.target.value),placeholder:"Planet name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Biome"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:_e,value:s.biome||"",onChange:l=>t("biome",l),placeholder:"Search biome..."})})]}),e.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"block text-sm",children:"Weather"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:De,value:s.weather||"",onChange:l=>t("weather",l),placeholder:"Search weather..."})})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Sentinels"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:Me,value:s.sentinel||"",onChange:l=>t("sentinel",l),placeholder:"Search sentinels..."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Flora"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:Pe,value:s.flora||"",onChange:l=>t("flora",l),placeholder:"Search flora..."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Fauna"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:Ae,value:s.fauna||"",onChange:l=>t("fauna",l),placeholder:"Search fauna..."})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Resources / Materials"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{options:Re,value:s.materials||"",onChange:l=>t("materials",l),placeholder:"Search resources...",isMulti:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Base Location"}),e.jsx("input",{"aria-label":"Planet Base",placeholder:"Base location",className:"mt-1 p-1 rounded w-full",value:s.base_location||"",onChange:l=>t("base_location",l.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Photo"}),e.jsx("input",{"aria-label":"Planet Photo",type:"file",onChange:F,className:"mt-1"}),d&&e.jsx("div",{className:"muted text-sm mt-1",children:"Uploading..."}),!d&&s.photo&&e.jsxs("div",{className:"mt-2 relative inline-block group",children:[e.jsx("img",{src:s.photo.startsWith("http")?s.photo:`/haven-ui-photos/${s.photo.replace(/^photos[\\/]/,"").split(/[\\/]/).pop()}`,alt:"Planet photo",className:"max-w-full sm:max-w-xs max-h-32 rounded border border-gray-600"}),e.jsx("button",{type:"button",onClick:()=>t("photo",null),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-sm font-bold",title:"Remove photo",children:"X"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1 break-all",children:s.photo})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Notes"}),e.jsx("input",{placeholder:"Notes",className:"mt-1 p-1 rounded w-full",value:s.notes||"",onChange:l=>t("notes",l.target.value)})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",onClick:S,className:"px-3 py-1.5 bg-green-600 rounded text-sm",children:"‚ûï Add Moon"}),e.jsx("button",{type:"button",onClick:()=>u(o),className:"px-3 py-1.5 bg-red-600 rounded text-sm",children:"Remove Planet"}),y&&e.jsx("button",{type:"button",onClick:()=>y(s),className:"px-3 py-1.5 bg-blue-600 rounded text-sm",children:"Save"})]}),e.jsx("div",{className:"mt-3",children:(s.moons||[]).map((l,p)=>e.jsxs("div",{children:[e.jsx(Y,{index:p,moon:l,onChange:_,onRemove:P}),e.jsx("div",{className:"mt-1",children:e.jsx("button",{type:"button",onClick:()=>I(p),className:"px-2 py-1 bg-sky-600 text-white rounded",children:"Edit Moon"})})]},p))}),x&&e.jsx($,{title:r===-1?"Add Moon":"Edit Moon",onClose:()=>a(!1),children:e.jsx(Y,{moon:f,index:r,onChange:(l,p)=>N(p),onSave:A,onRemove:()=>{a(!1)}})})]})}const Fe=({value:s,onChange:o,onDecoded:g})=>{const[u,y]=m.useState(s||""),[d,h]=m.useState([]),[x,a]=m.useState({}),[r,j]=m.useState("visual"),[f,N]=m.useState({valid:null,message:null}),[t,S]=m.useState(null),[_,P]=m.useState(!1);m.useEffect(()=>{R.get("/api/glyph_images").then(c=>{a(c.data)}).catch(c=>{console.error("Failed to load glyph images:",c)})},[]),m.useEffect(()=>{s&&s!==u&&(y(s),h(s.split("")))},[s]),m.useEffect(()=>{o&&o(u)},[u,o]),m.useEffect(()=>{u.length===12?I(u):(S(null),N({valid:null,message:null}))},[u]);const I=async c=>{P(!0);try{const v=await R.post("/api/validate_glyph",{glyph:c});if(!v.data.valid){N({valid:!1,message:v.data.error}),S(null),P(!1);return}const E=await R.post("/api/decode_glyph",{glyph:c,apply_scale:!1});S(E.data);const C=[];v.data.warning&&C.push(v.data.warning),E.data.warnings&&C.push(E.data.warnings),N({valid:!0,message:C.length>0?C.join("; "):null}),g&&g(E.data)}catch(v){N({valid:!1,message:v.response?.data?.detail||"Failed to decode glyph"}),S(null)}P(!1)},A=c=>{if(d.length<12){const v=[...d,c];h(v),y(v.join(""))}},F=()=>{if(d.length>0){const c=d.slice(0,-1);h(c),y(c.join(""))}},l=()=>{h([]),y(""),S(null),N({valid:null,message:null})},p=c=>{const v=c.target.value.toUpperCase().replace(/[^0-9A-F]/g,"").slice(0,12);y(v),h(v.split(""))},D=c=>c?c.length===12?`${c[0]}-${c.slice(1,4)}-${c.slice(4,6)}-${c.slice(6,9)}-${c.slice(9,12)}`:c:"",U=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],B={0:"Sunset",1:"Bird",2:"Face",3:"Diplo",4:"Eclipse",5:"Balloon",6:"Boat",7:"Bug",8:"Dragonfly",9:"Galaxy",A:"Voxel",B:"Fish",C:"Tent",D:"Rocket",E:"Tree",F:"Atlas"};return e.jsxs("div",{className:"glyph-picker bg-gray-900 p-4 rounded-lg border border-purple-500",children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{type:"button",onClick:()=>j("visual"),className:`px-4 py-2 rounded ${r==="visual"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Visual Picker"}),e.jsx("button",{type:"button",onClick:()=>j("text"),className:`px-4 py-2 rounded ${r==="text"?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Text Input"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Portal Glyph Code (12 digits)"}),e.jsx("div",{className:"bg-gray-800 p-3 rounded border border-gray-700 font-mono text-xl text-center",children:u.length>0?e.jsx("span",{className:f.valid===!1?"text-red-400":"text-green-400",children:D(u)}):e.jsx("span",{className:"text-gray-500",children:"Enter or select glyphs..."})}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1 text-center",children:[u.length,"/12 digits"]})]}),r==="visual"&&e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-8 gap-2 sm:gap-2 mb-4",children:U.map(c=>e.jsxs("button",{type:"button",onClick:()=>A(c),disabled:d.length>=12,className:"relative aspect-square border-2 border-purple-500 rounded hover:border-purple-300 hover:bg-purple-900/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden bg-gray-800",title:`${B[c]} (${c})`,children:[x[c]?e.jsx("img",{src:`/haven-ui-photos/${x[c]}`,alt:B[c],className:"w-full h-full object-contain p-1 sm:p-1 pb-4 sm:pb-4"}):e.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-purple-300 font-mono text-2xl sm:text-lg pb-4",children:c}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/80 text-[10px] sm:text-xs text-purple-300 py-0.5 text-center font-mono",children:c})]},c))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:F,disabled:d.length===0,className:"flex-1 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Backspace"}),e.jsx("button",{type:"button",onClick:l,disabled:d.length===0,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear All"})]})]}),r==="text"&&e.jsxs("div",{children:[e.jsx("input",{type:"text",value:u,onChange:p,placeholder:"Paste 12-digit hex code (e.g., 10A4F3E7B2C1)",className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded text-white font-mono uppercase focus:border-purple-500 focus:outline-none",maxLength:12}),e.jsx("button",{type:"button",onClick:l,className:"w-full mt-2 px-4 py-2 bg-red-600 hover:bg-red-500 text-white rounded",children:"Clear"})]}),f.message&&e.jsxs("div",{className:`mt-4 p-3 rounded ${f.valid===!1?"bg-red-900/50 border border-red-500 text-red-300":"bg-yellow-900/50 border border-yellow-500 text-yellow-300"}`,children:[e.jsx("div",{className:"font-semibold mb-1",children:f.valid===!1?"‚ùå Invalid Glyph":"‚ö†Ô∏è Warning"}),e.jsx("div",{className:"text-sm",children:f.message})]}),_&&e.jsx("div",{className:"mt-4 p-3 bg-gray-800 rounded border border-purple-500 text-center text-purple-300",children:"Decoding glyph..."}),t&&!_&&e.jsxs("div",{className:`mt-4 p-3 rounded border ${t.is_phantom||t.is_in_core?"bg-orange-900/30 border-orange-500":"bg-green-900/30 border-green-500"}`,children:[e.jsx("div",{className:"font-semibold mb-2 flex items-center gap-2",children:t.is_phantom||t.is_in_core?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-orange-300",children:"‚ö† Decoded Coordinates"}),t.is_phantom&&e.jsx("span",{className:"text-xs bg-purple-600 text-white px-2 py-0.5 rounded",title:"Phantom Star - Not normally accessible on Galactic Map",children:"üëª PHANTOM"}),t.is_in_core&&e.jsx("span",{className:"text-xs bg-red-600 text-white px-2 py-0.5 rounded",title:"Located in Galactic Core Void",children:"üåÄ CORE"})]}):e.jsx("span",{className:"text-green-300",children:"‚úì Decoded Coordinates"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-300",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"X:"})," ",e.jsx("span",{className:`font-mono ${t.is_phantom||t.is_in_core?"text-orange-300":"text-green-300"}`,children:t.x})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Y:"})," ",e.jsx("span",{className:`font-mono ${t.is_phantom||t.is_in_core?"text-orange-300":"text-green-300"}`,children:t.y})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Z:"})," ",e.jsx("span",{className:`font-mono ${t.is_phantom||t.is_in_core?"text-orange-300":"text-green-300"}`,children:t.z})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Planet:"})," ",e.jsx("span",{className:`font-mono ${t.is_phantom||t.is_in_core?"text-orange-300":"text-green-300"}`,children:t.planet})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-gray-400",children:"Region:"})," ",e.jsxs("span",{className:`font-mono ${t.is_phantom||t.is_in_core?"text-orange-300":"text-green-300"}`,children:["[",t.region_x,", ",t.region_y,", ",t.region_z,"]"]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-gray-400",children:"Solar System Index:"})," ",e.jsxs("span",{className:`font-mono ${t.is_phantom||t.is_in_core?"text-orange-300":"text-green-300"}`,children:[t.solar_system," (0x",t.solar_system?.toString(16).toUpperCase().padStart(3,"0"),")"]})]})]}),(t.is_phantom||t.is_in_core)&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-orange-700 text-xs text-orange-200",children:[e.jsx("strong",{children:"Classification:"})," ",t.classification?.replace("_"," ").toUpperCase(),e.jsx("div",{className:"mt-1 text-orange-300/80",children:"This system will be recorded for tracking purposes but may not appear on standard maps."})]}),t.star_x!==void 0&&e.jsxs("div",{className:`mt-3 pt-3 border-t ${t.is_phantom||t.is_in_core?"border-orange-700":"border-green-700"}`,children:[e.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"3D Map Position (calculated from region + SSS):"}),e.jsxs("div",{className:"font-mono text-xs text-cyan-300",children:["(",t.star_x?.toFixed(2),", ",t.star_y?.toFixed(2),", ",t.star_z?.toFixed(2),")"]})]})]})]})},H={STATION_TO_SUN:1.5,ORBITAL_BUFFER:3};function se(s,o,g){return Math.sqrt(s*s+o*o+g*g)}function Ee(s){const o=se(s.x||0,s.y||0,s.z||0);let g=0;if(s.moons&&Array.isArray(s.moons))for(const u of s.moons){const y=u.orbit_radius||u.orbit_distance||.5;g=Math.max(g,y)}return{name:s.name,innerEdge:Math.max(0,o-g-H.ORBITAL_BUFFER),center:o,outerEdge:o+g+H.ORBITAL_BUFFER}}function Te(s){if(s.length===0)return[{min:H.STATION_TO_SUN+2,max:40}];const o=s.map(Ee);o.sort((d,h)=>d.center-h.center);const g=[],u=o[0].innerEdge;u>H.STATION_TO_SUN+2&&g.push({min:H.STATION_TO_SUN+2,max:u-1,label:"Inner system (before first planet)"});for(let d=0;d<o.length-1;d++){const h=o[d].outerEdge,x=o[d+1].innerEdge;x-h>=2&&g.push({min:h+.5,max:x-.5,label:`Between ${o[d].name} and ${o[d+1].name}`})}const y=o[o.length-1].outerEdge;return g.push({min:y+1,max:y+15,label:"Outer system (beyond last planet)"}),g}function Ie(s=[],o=[],g={}){const{preferredSlot:u="outer",fixedAngle:y=null}=g,d=Te(s);if(console.log(`[Station Placement] Found ${d.length} safe orbital slots:`),d.forEach((t,S)=>{console.log(`  ${S+1}. ${t.label}: ${t.min.toFixed(1)} - ${t.max.toFixed(1)} units`)}),d.length===0)return console.warn("[Station Placement] No safe slots found, using fallback"),{x:10,y:0,z:0,orbitalRadius:10,slot:"fallback",fallback:!0};let h;u==="inner"&&d.length>0?h=d[0]:u==="largest"?h=d.reduce((t,S)=>{const _=S.max-S.min,P=t.max-t.min;return _>P?S:t},d[0]):h=d[d.length-1],console.log(`[Station Placement] Selected slot: ${h.label}`);const x=(h.min+h.max)/2;let a;if(y!==null)a=y*Math.PI/180;else{a=Math.random()*Math.PI*2;for(const t of o){const S=se(t.x,t.y,t.z);if(Math.abs(S-x)<5){const _=Math.atan2(t.z,t.x);Math.abs(a-_)<Math.PI/4&&(a=(a+Math.PI)%(Math.PI*2))}}}const r=(Math.random()-.5)*.2,j=x*Math.cos(r)*Math.cos(a),f=x*Math.sin(r),N=x*Math.cos(r)*Math.sin(a);return console.log(`[Station Placement] ‚úÖ Position: (${j.toFixed(2)}, ${f.toFixed(2)}, ${N.toFixed(2)})`),console.log(`[Station Placement] Orbital radius: ${x.toFixed(2)} units`),{x:parseFloat(j.toFixed(2)),y:parseFloat(f.toFixed(2)),z:parseFloat(N.toFixed(2)),orbitalRadius:parseFloat(x.toFixed(2)),slot:h.label,fallback:!1}}const Be=[{index:1,name:"Euclid"},{index:2,name:"Hilbert Dimension"},{index:3,name:"Calypso"},{index:4,name:"Hesperius Dimension"},{index:5,name:"Hyades"},{index:6,name:"Ickjamatew"},{index:7,name:"Budullangr"},{index:8,name:"Kikolgallr"},{index:9,name:"Eltiensleen"},{index:10,name:"Eissentam"},{index:11,name:"Elkupalos"},{index:12,name:"Aptarkaba"},{index:13,name:"Ontiniangp"},{index:14,name:"Odiwagiri"},{index:15,name:"Ogtialabi"},{index:16,name:"Muhacksonto"},{index:17,name:"Hitonskyer"},{index:18,name:"Rerasmutul"},{index:19,name:"Isdoraijung"},{index:20,name:"Doctinawyra"},{index:21,name:"Loychazinq"},{index:22,name:"Zukasizawa"},{index:23,name:"Ekwathore"},{index:24,name:"Yeberhahne"},{index:25,name:"Twerbetek"},{index:26,name:"Sivarates"},{index:27,name:"Eajerandal"},{index:28,name:"Aldukesci"},{index:29,name:"Wotyarogii"},{index:30,name:"Sudzerbal"},{index:31,name:"Maupenzhay"},{index:32,name:"Sugueziume"},{index:33,name:"Brogoweldian"},{index:34,name:"Ehbogdenbu"},{index:35,name:"Ijsenufryos"},{index:36,name:"Nipikulha"},{index:37,name:"Autsurabin"},{index:38,name:"Lusontrygiamh"},{index:39,name:"Rewmanawa"},{index:40,name:"Ethiophodhe"},{index:41,name:"Urastrykle"},{index:42,name:"Xobeurindj"},{index:43,name:"Oniijialdu"},{index:44,name:"Wucetosucc"},{index:45,name:"Ebyeloof"},{index:46,name:"Odyavanta"},{index:47,name:"Milekistri"},{index:48,name:"Waferganh"},{index:49,name:"Agnusopwit"},{index:50,name:"Teyaypilny"},{index:51,name:"Zalienkosm"},{index:52,name:"Ladgudiraf"},{index:53,name:"Mushonponte"},{index:54,name:"Amsentisz"},{index:55,name:"Fladiselm"},{index:56,name:"Laanawemb"},{index:57,name:"Ilkerloor"},{index:58,name:"Davanossi"},{index:59,name:"Ploehrliou"},{index:60,name:"Corpinyaya"},{index:61,name:"Leckandmeram"},{index:62,name:"Quulngais"},{index:63,name:"Nokokipsechl"},{index:64,name:"Rinblodesa"},{index:65,name:"Loydporpen"},{index:66,name:"Ibtrevskip"},{index:67,name:"Elkowaldb"},{index:68,name:"Heholhofsko"},{index:69,name:"Yebrilowisod"},{index:70,name:"Husalvangewi"},{index:71,name:"Ovna'uesed"},{index:72,name:"Bahibusey"},{index:73,name:"Nuybeliaure"},{index:74,name:"Doshawchuc"},{index:75,name:"Ruckinarkh"},{index:76,name:"Thorettac"},{index:77,name:"Nuponoparau"},{index:78,name:"Moglaschil"},{index:79,name:"Uiweupose"},{index:80,name:"Nasmilete"},{index:81,name:"Ekdaluskin"},{index:82,name:"Hakapanasy"},{index:83,name:"Dimonimba"},{index:84,name:"Cajaccari"},{index:85,name:"Olonerovo"},{index:86,name:"Umlanswick"},{index:87,name:"Henayliszm"},{index:88,name:"Utzenmate"},{index:89,name:"Umirpaiya"},{index:90,name:"Paholiang"},{index:91,name:"Iaereznika"},{index:92,name:"Yudukagath"},{index:93,name:"Boealalosnj"},{index:94,name:"Yaevarcko"},{index:95,name:"Coellosipp"},{index:96,name:"Wayndohalou"},{index:97,name:"Smoduraykl"},{index:98,name:"Apmaneessu"},{index:99,name:"Hicanpaav"},{index:100,name:"Akvasanta"},{index:101,name:"Tuychelisaor"},{index:102,name:"Rivskimbe"},{index:103,name:"Daksanquix"},{index:104,name:"Kissonlin"},{index:105,name:"Aediabiel"},{index:106,name:"Ulosaginyik"},{index:107,name:"Roclaytonycar"},{index:108,name:"Kichiaroa"},{index:109,name:"Irceauffey"},{index:110,name:"Nudquathsenfe"},{index:111,name:"Getaizakaal"},{index:112,name:"Hansolmien"},{index:113,name:"Bloytisagra"},{index:114,name:"Ladsenlay"},{index:115,name:"Luyugoslasr"},{index:116,name:"Ubredhatk"},{index:117,name:"Cidoniana"},{index:118,name:"Jasinessa"},{index:119,name:"Torweierf"},{index:120,name:"Saffneckm"},{index:121,name:"Thnistner"},{index:122,name:"Dotusingg"},{index:123,name:"Luleukous"},{index:124,name:"Jelmandan"},{index:125,name:"Otimanaso"},{index:126,name:"Enjaxusanto"},{index:127,name:"Sezviktorew"},{index:128,name:"Zikehpm"},{index:129,name:"Bephembah"},{index:130,name:"Broomerrai"},{index:131,name:"Meximicka"},{index:132,name:"Venessika"},{index:133,name:"Gaiteseling"},{index:134,name:"Zosakasiro"},{index:135,name:"Drajayanes"},{index:136,name:"Ooibekuar"},{index:137,name:"Urckiansi"},{index:138,name:"Dozivadido"},{index:139,name:"Emiekereks"},{index:140,name:"Meykinunukur"},{index:141,name:"Kimycuristh"},{index:142,name:"Roansfien"},{index:143,name:"Isgarmeso"},{index:144,name:"Daitibeli"},{index:145,name:"Gucuttarik"},{index:146,name:"Enlaythie"},{index:147,name:"Drewweste"},{index:148,name:"Akbulkabi"},{index:149,name:"Homskiw"},{index:150,name:"Zavainlani"},{index:151,name:"Jewijkmas"},{index:152,name:"Itlhotagra"},{index:153,name:"Podalicess"},{index:154,name:"Hiviusauer"},{index:155,name:"Halsebenk"},{index:156,name:"Puikitoac"},{index:157,name:"Gaybakuaria"},{index:158,name:"Grbodubhe"},{index:159,name:"Rycempler"},{index:160,name:"Indjalala"},{index:161,name:"Fontenikk"},{index:162,name:"Pasycihelwhee"},{index:163,name:"Ikbaksmit"},{index:164,name:"Telicianses"},{index:165,name:"Oyleyzhan"},{index:166,name:"Uagerosat"},{index:167,name:"Impoxectin"},{index:168,name:"Twoodmand"},{index:169,name:"Hilfsesorbs"},{index:170,name:"Ezdaranit"},{index:171,name:"Wiensanshe"},{index:172,name:"Ewheelonc"},{index:173,name:"Litzmantufa"},{index:174,name:"Emarmatosi"},{index:175,name:"Mufimbomacvi"},{index:176,name:"Wongquarum"},{index:177,name:"Hapirajua"},{index:178,name:"Igbinduina"},{index:179,name:"Wepaitvas"},{index:180,name:"Sthatigudi"},{index:181,name:"Yekathsebehn"},{index:182,name:"Ebedeagurst"},{index:183,name:"Nolisonia"},{index:184,name:"Ulexovitab"},{index:185,name:"Iodhinxois"},{index:186,name:"Irroswitzs"},{index:187,name:"Bifredait"},{index:188,name:"Beiraghedwe"},{index:189,name:"Yeonatlak"},{index:190,name:"Cugnatachh"},{index:191,name:"Nozoryenki"},{index:192,name:"Ebralduri"},{index:193,name:"Evcickcandj"},{index:194,name:"Ziybosswin"},{index:195,name:"Heperclait"},{index:196,name:"Sugiuniam"},{index:197,name:"Aaseertush"},{index:198,name:"Uglyestemaa"},{index:199,name:"Horeroedsh"},{index:200,name:"Drundemiso"},{index:201,name:"Ityanianat"},{index:202,name:"Purneyrine"},{index:203,name:"Dokiessmat"},{index:204,name:"Nupiacheh"},{index:205,name:"Dihewsonj"},{index:206,name:"Rudrailhik"},{index:207,name:"Tweretnort"},{index:208,name:"Snatreetze"},{index:209,name:"Iwundaracos"},{index:210,name:"Digarlewena"},{index:211,name:"Erquagsta"},{index:212,name:"Logovoloin"},{index:213,name:"Boyaghosganh"},{index:214,name:"Kuolungau"},{index:215,name:"Pehneldept"},{index:216,name:"Yevettiiqidcon"},{index:217,name:"Sahliacabru"},{index:218,name:"Noggalterpor"},{index:219,name:"Chmageaki"},{index:220,name:"Veticueca"},{index:221,name:"Vittesbursul"},{index:222,name:"Nootanore"},{index:223,name:"Innebdjerah"},{index:224,name:"Kisvarcini"},{index:225,name:"Cuzcogipper"},{index:226,name:"Pamanhermonsu"},{index:227,name:"Brotoghek"},{index:228,name:"Mibittara"},{index:229,name:"Huruahili"},{index:230,name:"Raldwicarn"},{index:231,name:"Ezdartlic"},{index:232,name:"Badesclema"},{index:233,name:"Isenkeyan"},{index:234,name:"Iadoitesu"},{index:235,name:"Yagrovoisi"},{index:236,name:"Ewcomechio"},{index:237,name:"Inunnunnoda"},{index:238,name:"Dischiutun"},{index:239,name:"Yuwarugha"},{index:240,name:"Ialmendra"},{index:241,name:"Reponudrle"},{index:242,name:"Rinjanagrbo"},{index:243,name:"Zeziceloh"},{index:244,name:"Oeileutasc"},{index:245,name:"Zicniijinis"},{index:246,name:"Dugnowarilda"},{index:247,name:"Neuxoisan"},{index:248,name:"Ilmenhorn"},{index:249,name:"Rukwatsuku"},{index:250,name:"Nepitzaspru"},{index:251,name:"Chcehoemig"},{index:252,name:"Haffneyrin"},{index:253,name:"Uliciawai"},{index:254,name:"Tuhgrespod"},{index:255,name:"Iousongola"},{index:256,name:"Odyalutai"}],He=[{value:"Normal",label:"Normal (all non-permadeath modes)"},{value:"Permadeath",label:"Permadeath"}];function Oe(){return new URLSearchParams(ye().search)}function Xe(){const s=Oe(),o=be(),g=m.useContext(ve),{isAdmin:u,isSuperAdmin:y,isPartner:d,user:h}=g||{},x=s.get("edit"),[a,r]=m.useState({id:"",name:"",galaxy:"Euclid",reality:"Normal",glyph_code:"",x:"",y:"",z:"",description:"",planets:[],space_station:null,region_x:null,region_y:null,region_z:null,glyph_planet:0,glyph_solar_system:1,discord_tag:null,star_type:"",economy_type:"",economy_level:"",conflict_level:"",dominant_lifeform:"",stellar_classification:""}),[j,f]=m.useState(!1),[N,t]=m.useState(null),[S,_]=m.useState(null),[P,I]=m.useState(!1),[A,F]=m.useState(!1),[l,p]=m.useState([]),[D,U]=m.useState(""),[B,c]=m.useState(null),[v,E]=m.useState(""),[C,L]=m.useState(""),[te,T]=m.useState(!1),[ie,O]=m.useState(!1);m.useEffect(()=>{R.get("/api/discord_tags").then(n=>{p(n.data.tags||[])}).catch(()=>{})},[]),m.useEffect(()=>{x&&R.get(`/api/systems/${encodeURIComponent(x)}`).then(n=>{r(n.data),c(n.data.discord_tag)}).catch(()=>{})},[x]);const z=m.useRef(!1);async function oe(n){if(n.preventDefault(),!z.current){z.current=!1;return}if(z.current=!1,!a.name||!a.name.trim()){alert("System name is required");return}if(!a.star_type){alert("Star Color is required");return}if(!a.economy_type){alert("Economy Type is required");return}if(!a.economy_level){alert("Economy Tier is required");return}if(!a.conflict_level){alert("Conflict Level is required");return}if(!a.dominant_lifeform){alert("Dominant Lifeform is required");return}if(a.planets)for(const i of a.planets){if(!i.name||!i.name.trim()){alert("All planets must have a name");return}if(i.moons){for(const b of i.moons)if(!b.name||!b.name.trim()){alert("All moons must have a name");return}}}if(!a.discord_tag&&!u){alert('Discord Community is required. Please select a community or choose "Personal" if you are not affiliated with a community.');return}if(!v.trim()&&!u){alert("Your Discord username is required for all submissions.");return}if(a.discord_tag==="personal"&&!C.trim()){alert("Discord username is required for personal submissions."),T(!0);return}F(!0);try{if(u){const i={...a};d&&x&&!B&&D&&(i.edit_explanation=D);const b=await R.post("/api/save_system",i);b.data.status==="pending_approval"?alert(`Your edit has been submitted for super admin approval.

Request ID: ${b.data.request_id}

${b.data.message}`):alert("System saved successfully!"),o("/systems")}else{const i={...a};v.trim()&&(i.personal_discord_username=v.trim()),a.discord_tag==="personal"&&C.trim()&&(i.personal_discord_username=C.trim());const b=await R.post("/api/submit_system",i);alert(`System submitted for approval!

Submission ID: ${b.data.submission_id}
System Name: ${b.data.system_name}

An admin will review your submission.`),o("/systems")}}catch(i){const b=i.response?.data?.detail||i.message||i;alert(`${u?"Save":"Submission"} failed: ${b}`)}finally{F(!1)}}const re=d&&x&&!B;function le(n){if(n.key==="Enter"){const i=n.target&&n.target.tagName?n.target.tagName.toUpperCase():"",b=n.target&&n.target.type?String(n.target.type).toLowerCase():"";if(i==="TEXTAREA"||b==="submit"||i==="BUTTON")return;n.preventDefault()}}function w(n,i){r(b=>({...b,[n]:i}))}function de(n){r(i=>({...i,x:n.x,y:n.y,z:n.z,region_x:n.region_x,region_y:n.region_y,region_z:n.region_z,glyph_planet:n.planet,glyph_solar_system:n.solar_system,glyph_code:n.glyph}))}function ce(){t(-1),_({name:"",biome:"",weather:"",sentinel:"None",fauna:"N/A",flora:"N/A",materials:"",base_location:"",photo:"",notes:"",moons:[]}),f(!0)}function me(n){t(n),_(a.planets[n]),f(!0)}function ue(n){const i=[...a.planets||[]];N===-1?i.push(n):i[N]=n,r({...a,planets:i}),f(!1)}function xe(n,i){const b=[...a.planets||[]];b[n]=i,r({...a,planets:b})}function he(n){const i=[...a.planets||[]];i.splice(n,1),r({...a,planets:i})}function pe(n){if(I(n),n){const i=Ie(a.planets||[]),b=V(a.economy_type||"None",a.economy_level||"T3");r({...a,space_station:{name:`${a.name||"System"} Station`,race:a.dominant_lifeform||"Gek",trade_goods:b.map(W=>W.id),...i}})}else r({...a,space_station:null})}function ge(n){if(!a.space_station)return;const i=a.space_station.trade_goods||[],b=i.includes(n)?i.filter(W=>W!==n):[...i,n];r({...a,space_station:{...a.space_station,trade_goods:b}})}function q(n,i){a.space_station&&r({...a,space_station:{...a.space_station,[n]:i}})}return e.jsx("div",{children:e.jsx(fe,{className:"max-w-4xl",children:e.jsxs("form",{onSubmit:oe,onKeyDown:le,children:[e.jsxs("label",{className:"block mb-2",children:["System Name ",e.jsx("input",{placeholder:"Name","aria-label":"Name",className:"w-full mt-1",value:a.name||"",onChange:n=>w("name",n.target.value),required:!0})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-purple-300",children:"Portal Glyph Coordinates"}),e.jsx(Fe,{value:a.glyph_code,onChange:n=>w("glyph_code",n),onDecoded:de})]}),a.x&&a.y&&a.z&&e.jsx("div",{className:"mt-4 p-3 bg-gray-800 rounded border border-green-500",children:e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsx("span",{className:"text-green-300 font-semibold",children:"Coordinates:"})," X: ",a.x,", Y: ",a.y,", Z: ",a.z,a.region_x!==null&&e.jsxs("span",{className:"ml-3",children:[e.jsx("span",{className:"text-purple-300 font-semibold",children:"Region:"})," [",a.region_x,", ",a.region_y,", ",a.region_z,"]"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Reality ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("select",{className:"w-full p-2 border rounded bg-gray-700 border-gray-600",value:a.reality||"Normal",onChange:n=>w("reality",n.target.value),required:!0,children:He.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Permadeath is separate from all other game modes"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Galaxy ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx(k,{options:Be.map(n=>({value:n.name,label:`${n.index}: ${n.name}`})),value:a.galaxy||"Euclid",onChange:n=>w("galaxy",n||"Euclid"),placeholder:"Search by number or name..."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Search by galaxy number (1-256) or name"})]})]}),e.jsxs("div",{className:"mt-4 p-4 bg-gray-800/50 rounded border border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-cyan-300",children:"System Attributes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Star Color ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${a.star_type?"border-gray-600":"border-red-500"}`,value:a.star_type||"",onChange:n=>w("star_type",n.target.value),required:!0,style:{color:a.star_type==="Yellow"?"#fbbf24":a.star_type==="Red"?"#ef4444":a.star_type==="Green"?"#22c55e":a.star_type==="Blue"?"#3b82f6":a.star_type==="Purple"?"#a855f7":"inherit"},children:[e.jsx("option",{value:"",style:{color:"#9ca3af"},children:"-- Select --"}),e.jsx("option",{value:"Yellow",style:{color:"#fbbf24"},children:"‚òÄ Yellow"}),e.jsx("option",{value:"Red",style:{color:"#ef4444"},children:"üî¥ Red"}),e.jsx("option",{value:"Green",style:{color:"#22c55e"},children:"üü¢ Green"}),e.jsx("option",{value:"Blue",style:{color:"#3b82f6"},children:"üîµ Blue"}),e.jsx("option",{value:"Purple",style:{color:"#a855f7"},children:"üü£ Purple"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Economy Type ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${a.economy_type?"border-gray-600":"border-red-500"}`,value:a.economy_type||"",onChange:n=>w("economy_type",n.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Select --"}),e.jsx("option",{value:"Trading",children:"‚öñÔ∏è Trading"}),e.jsx("option",{value:"Mining",children:"‚õèÔ∏è Mining"}),e.jsx("option",{value:"Manufacturing",children:"üè≠ Manufacturing"}),e.jsx("option",{value:"Technology",children:"üíª Technology"}),e.jsx("option",{value:"Scientific",children:"üî¨ Scientific"}),e.jsx("option",{value:"Power Generation",children:"‚ö° Power Generation"}),e.jsx("option",{value:"Mass Production",children:"üì¶ Mass Production"}),e.jsx("option",{value:"Advanced Materials",children:"üîß Advanced Materials"}),e.jsx("option",{value:"Pirate",children:"‚ò†Ô∏è Pirate"}),e.jsx("option",{value:"None",children:"‚≠ï None"}),e.jsx("option",{value:"Abandoned",children:"üö´ Abandoned"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Economy Tier ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${a.economy_level?"border-gray-600":"border-red-500"}`,value:a.economy_level||"",onChange:n=>w("economy_level",n.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Select --"}),e.jsx("option",{value:"T1",children:"‚òÖ (Low)"}),e.jsx("option",{value:"T2",children:"‚òÖ‚òÖ (Medium)"}),e.jsx("option",{value:"T3",children:"‚òÖ‚òÖ‚òÖ (High)"}),e.jsx("option",{value:"T4",children:"‚ò† (Pirate)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Conflict Level ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${a.conflict_level?"border-gray-600":"border-red-500"}`,value:a.conflict_level||"",onChange:n=>w("conflict_level",n.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Select --"}),e.jsx("option",{value:"Low",children:"üî• Low"}),e.jsx("option",{value:"Medium",children:"üî•üî• Medium"}),e.jsx("option",{value:"High",children:"üî•üî•üî• High"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Dominant Lifeform ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${a.dominant_lifeform?"border-gray-600":"border-red-500"}`,value:a.dominant_lifeform||"",onChange:n=>w("dominant_lifeform",n.target.value),required:!0,children:[e.jsx("option",{value:"",children:"-- Select --"}),e.jsx("option",{value:"Gek",children:"üê∏ Gek"}),e.jsx("option",{value:"Vy'keen",children:"‚öîÔ∏è Vy'keen"}),e.jsx("option",{value:"Korvax",children:"ü§ñ Korvax"}),e.jsx("option",{value:"None",children:"üëª None (Abandoned)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Spectral Class"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-gray-700 border-gray-600 font-mono uppercase",value:a.stellar_classification||"",onChange:n=>w("stellar_classification",n.target.value.toUpperCase().slice(0,6)),placeholder:"e.g. G2pf, M7, O3f",style:{color:(()=>{switch((a.stellar_classification||"")[0]?.toUpperCase()){case"O":return"#9999ff";case"B":return"#aaaaff";case"A":return"#caf0f8";case"F":return"#ffffcc";case"G":return"#fbbf24";case"K":return"#fb923c";case"M":return"#ef4444";case"E":return"#22c55e";case"X":case"Y":return"#a855f7";default:return"inherit"}})()}}),a.stellar_classification&&e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium whitespace-nowrap ${(()=>{switch((a.stellar_classification||"")[0]?.toUpperCase()){case"O":case"B":return"bg-blue-900 text-blue-200";case"F":case"G":return"bg-yellow-900 text-yellow-200";case"K":case"M":return"bg-red-900 text-red-200";case"E":return"bg-green-900 text-green-200";case"X":case"Y":return"bg-purple-900 text-purple-200";default:return"bg-gray-700 text-gray-300"}})()}`,children:(()=>{switch((a.stellar_classification||"")[0]?.toUpperCase()){case"O":case"B":return"üîµ Blue";case"F":case"G":return"üü° Yellow";case"K":case"M":return"üî¥ Red";case"E":return"üü¢ Green";case"X":case"Y":return"üü£ Purple";default:return""}})()})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: Letter + Number (0-9) + Suffix. Examples: G2pf, M7, O3f, E5p"}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[e.jsx("span",{className:"text-blue-400",children:"O/B"}),"=Blue,",e.jsx("span",{className:"text-yellow-400 ml-1",children:"F/G"}),"=Yellow,",e.jsx("span",{className:"text-red-400 ml-1",children:"K/M"}),"=Red,",e.jsx("span",{className:"text-green-400 ml-1",children:"E"}),"=Green,",e.jsx("span",{className:"text-purple-400 ml-1",children:"X/Y"}),"=Purple"]})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Discord Community ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{className:`w-full p-2 border rounded bg-gray-700 ${a.discord_tag?"":"border-red-500"}`,value:a.discord_tag||"",onChange:n=>{const i=n.target.value;i==="personal"?(T(!0),O(!0)):(w("discord_tag",i||null),a.discord_tag==="personal"&&L(""))},required:!0,children:[e.jsx("option",{value:"",children:"-- Select a Community (Required) --"}),l.map(n=>e.jsxs("option",{value:n.tag,children:[n.name," (",n.tag,")"]},n.tag)),e.jsx("option",{value:"personal",children:"Personal (No Community Affiliation)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select which Discord community this system belongs to, or "Personal" if not affiliated with a community.'}),a.discord_tag==="personal"&&C&&e.jsxs("div",{className:"mt-2 p-2 bg-fuchsia-900/30 border border-fuchsia-500 rounded flex justify-between items-center",children:[e.jsxs("span",{className:"text-fuchsia-300",children:["Discord Username: ",e.jsx("strong",{children:C})]}),e.jsx("button",{type:"button",onClick:()=>T(!0),className:"text-xs px-2 py-1 bg-fuchsia-600 text-white rounded hover:bg-fuchsia-700",children:"Edit"})]})]}),!u&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Your Discord Username ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",className:`w-full p-2 border rounded bg-gray-700 ${v.trim()?"border-gray-600":"border-red-500"}`,value:v,onChange:n=>E(n.target.value),placeholder:"e.g., username or username#1234",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your Discord username is required so we can contact you about your submission if needed."})]}),re&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-900/30 border border-yellow-700 rounded",children:[e.jsx("p",{className:"text-yellow-400 font-semibold mb-2",children:"This system is untagged. Your edit will require super admin approval."}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"text-sm",children:"Explanation for edit (required)"}),e.jsx("textarea",{className:"w-full mt-1 p-2 border rounded bg-gray-700",value:D,onChange:n=>U(n.target.value),placeholder:"Explain why you need to edit this system...",rows:3,required:!0})]})]}),e.jsxs("label",{className:"block mt-3",children:["Description ",e.jsx("textarea",{"aria-label":"System description",className:"w-full mt-1",value:a.description||"",onChange:n=>w("description",n.target.value)})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-md font-semibold mb-2",children:"Planets"}),e.jsx("div",{children:(a.planets||[]).map((n,i)=>e.jsxs("div",{className:"mb-2",children:[e.jsx(K,{index:i,planet:n,onChange:xe,onRemove:he}),e.jsx("div",{className:"mt-1",children:e.jsx("button",{className:"px-3 py-1.5 bg-sky-600 text-white rounded text-sm",onClick:()=>me(i),children:"Edit"})})]},i))}),e.jsx("div",{className:"mt-2",children:e.jsx("button",{type:"button",onClick:ce,className:"px-3 py-1 bg-green-600 rounded",children:"‚ûï Add Planet"})})]}),e.jsxs("div",{className:"mt-4 border-t pt-4",children:[e.jsx("h3",{className:"text-md font-semibold mb-2",children:"Space Station"}),e.jsxs("label",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("input",{type:"checkbox",checked:P,onChange:n=>pe(n.target.checked),className:"w-4 h-4"}),e.jsx("span",{children:"üõ∏ Has Space Station"})]}),P&&a.space_station&&e.jsxs("div",{className:"ml-6 p-3 bg-purple-900/30 rounded border border-purple-700",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm",children:"Station Name"}),e.jsx("input",{className:"w-full mt-1",value:a.space_station.name||"",onChange:n=>q("name",n.target.value),placeholder:"Station Name"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm",children:"Race"}),e.jsxs("select",{className:"w-full mt-1",value:a.space_station.race||"Gek",onChange:n=>q("race",n.target.value),children:[e.jsx("option",{value:"Gek",children:"Gek"}),e.jsx("option",{value:"Korvax",children:"Korvax"}),e.jsx("option",{value:"Vy'keen",children:"Vy'keen"}),e.jsx("option",{value:"Unknown",children:"Unknown"})]})]}),e.jsxs("div",{className:"mb-3 p-2 bg-gray-800 rounded border border-gray-600",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Orbital Position (auto-calculated)"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-cyan-300",children:"Distance:"})," ",a.space_station.orbitalRadius?.toFixed(1)||"?"," units from star"]}),a.space_station.slot&&e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Placement: ",a.space_station.slot]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Trade Goods Sold",a.economy_type&&a.economy_level&&e.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",a.economy_type," economy, ",a.economy_level==="T3"?"High":a.economy_level==="T2"?"Medium":a.economy_level==="T1"?"Low":"Pirate"," wealth)"]})]}),!a.economy_type||a.economy_type==="None"||a.economy_type==="Abandoned"?e.jsx("div",{className:"text-xs text-gray-500 italic",children:"No trade goods available (abandoned system or no economy type selected)"}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1 max-h-48 overflow-y-auto p-2 bg-gray-800 rounded",children:V(a.economy_type,a.economy_level).map(n=>e.jsxs("label",{className:"flex items-center space-x-2 text-sm cursor-pointer hover:bg-gray-700 p-1 rounded",children:[e.jsx("input",{type:"checkbox",checked:(a.space_station.trade_goods||[]).includes(n.id),onChange:()=>ge(n.id),className:"w-3 h-3"}),e.jsxs("span",{className:"text-gray-200",children:[n.name,e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(T",n.tier,")"]})]})]},n.id))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select which trade goods this station sells (based on economy tier)"})]}),a.space_station.fallback&&e.jsx("div",{className:"mt-2 text-xs text-yellow-300 bg-yellow-900/30 border border-yellow-700 p-2 rounded",children:"Station placed in fallback position - system has unusual planet configuration"})]})]}),e.jsxs("div",{className:"mt-4 flex flex-col space-y-2",children:[!u&&e.jsx("div",{className:"text-sm text-yellow-300 bg-yellow-900/30 border border-yellow-700 p-2 rounded",children:"Note: You are not logged in as admin. Your system will be submitted for approval."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(G,{className:"btn-primary w-full sm:w-auto",type:"submit",onClick:()=>{z.current=!0},disabled:A,children:A?"Submitting...":u?"Save System":"Submit for Approval"}),e.jsx(G,{className:"bg-gray-200 text-gray-800 w-full sm:w-auto",onClick:()=>o("/systems"),disabled:A,children:"Cancel"})]})]}),j&&e.jsx($,{title:N===-1?"Add Planet":"Edit Planet",onClose:()=>f(!1),children:e.jsx(K,{planet:S,index:N,onChange:(n,i)=>{_(i)},onRemove:()=>{},onSave:ue})}),te&&e.jsx($,{title:"Personal Discord Username",onClose:()=>{T(!1),ie&&!C.trim()&&O(!1)},children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-300",children:'Since you selected "Personal" (no community affiliation), please provide your Discord username so we can contact you if we need more information about your submission.'}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2",children:["Discord Username ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",className:"w-full p-2 border rounded bg-gray-700 text-white",value:C,onChange:n=>L(n.target.value),placeholder:"e.g., username or username#1234",autoFocus:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter your Discord username so we can DM you if needed."})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(G,{className:"btn-primary bg-fuchsia-600 hover:bg-fuchsia-700",onClick:()=>{if(!C.trim()){alert("Discord username is required");return}w("discord_tag","personal"),O(!1),T(!1)},children:"Confirm"}),e.jsx(G,{className:"bg-gray-600 text-white hover:bg-gray-500",onClick:()=>{T(!1),O(!1),L("")},children:"Cancel"})]})]})})]})})})}export{Xe as default};
