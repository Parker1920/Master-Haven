import{j as e}from"./vendor-three-pXgRM845.js";import{b as r,L as K}from"./vendor-react-DGfbrl1l.js";import{M as Q,A as X}from"./index-DgLtObAt.js";import{B as V}from"./Button-POFR3cy9.js";import{c as h,b as Z,a as ee,F as te}from"./FormField-gbuH2irL.js";import{F as ae}from"./XMarkIcon-ghU6kRhd.js";function se({title:s,titleId:o,...d},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":o},d),s?r.createElement("title",{id:o},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const re=r.forwardRef(se);function le({title:s,titleId:o,...d},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":o},d),s?r.createElement("title",{id:o},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const oe=r.forwardRef(le),ne=[{value:"",label:"Select type..."},{value:"ðŸ¦—",label:"ðŸ¦— Fauna"},{value:"ðŸŒ¿",label:"ðŸŒ¿ Flora"},{value:"ðŸ’Ž",label:"ðŸ’Ž Mineral"},{value:"ðŸ›ï¸",label:"ðŸ›ï¸ Ancient"},{value:"ðŸ“œ",label:"ðŸ“œ History"},{value:"ðŸ¦´",label:"ðŸ¦´ Bones"},{value:"ðŸ‘½",label:"ðŸ‘½ Alien"},{value:"ðŸš€",label:"ðŸš€ Starship"},{value:"âš™ï¸",label:"âš™ï¸ Multi-tool"},{value:"ðŸ“–",label:"ðŸ“– Lore"},{value:"ðŸ ",label:"ðŸ  Custom Base"},{value:"ðŸ†•",label:"ðŸ†• Other"}];function ge({isOpen:s,onClose:o,onSuccess:d}){const[a,u]=r.useState({discovery_name:"",discovery_type:"",description:"",system_id:"",planet_id:"",moon_id:"",location_name:"",discovered_by:"",discord_user_id:"",evidence_urls:""}),[x,g]=r.useState([]),[f,j]=r.useState([]),[w,m]=r.useState(null),[p,v]=r.useState(""),[_,b]=r.useState(!1),[N,k]=r.useState(!1),[D,S]=r.useState(""),[I,E]=r.useState(!1),L=r.useRef(null),B=r.useRef(null);r.useEffect(()=>{s&&(u({discovery_name:"",discovery_type:"",description:"",system_id:"",planet_id:"",moon_id:"",location_name:"",discovered_by:"",discord_user_id:"",evidence_urls:""}),g([]),m(null),v(""),S(""))},[s]),r.useEffect(()=>{if(!p||p.length<2){j([]);return}const t=setTimeout(async()=>{try{const i=await(await fetch(`/api/systems/search?q=${encodeURIComponent(p)}&limit=10`)).json();j(i.results||i||[])}catch(l){console.error("System search error:",l),j([])}},300);return()=>clearTimeout(t)},[p]),r.useEffect(()=>{if(!a.system_id){m(null);return}fetch(`/api/systems/${a.system_id}`).then(t=>t.json()).then(t=>m(t)).catch(()=>m(null))},[a.system_id]);function c(t,l){u(i=>({...i,[t]:l}))}function $(t){c("system_id",t.id),c("planet_id",""),c("moon_id",""),v(t.name),b(!1)}function P(){c("system_id",""),c("planet_id",""),c("moon_id",""),v(""),m(null)}async function q(t){const l=Array.from(t.target.files||[]);l.length&&await F(l)}async function F(t){E(!0);const l=[];for(const i of t){if(!i.type.startsWith("image/"))continue;const Y=URL.createObjectURL(i),U={file:i,preview:Y,uploaded:!1,path:null};l.push(U);try{const C=new FormData;C.append("file",i);const z=await fetch("/api/photos",{method:"POST",body:C});if(z.ok){const A=await z.json();U.uploaded=!0,U.path=A.path||A.filename}}catch(C){console.error("Photo upload error:",C)}}g(i=>[...i,...l]),E(!1)}function M(t){g(l=>{const i=[...l];return i[t]?.preview&&URL.revokeObjectURL(i[t].preview),i.splice(t,1),i})}function T(t){t.preventDefault(),t.stopPropagation()}function O(t){t.preventDefault(),t.stopPropagation();const l=Array.from(t.dataTransfer.files||[]);l.length&&F(l)}async function H(t){if(t.preventDefault(),S(""),!a.discovery_name.trim()){S("Discovery Name is required");return}if(!a.discovered_by.trim()){S("Discovered By is required");return}k(!0);try{const l=x.filter(y=>y.uploaded&&y.path),i=l[0]?.path||"",Y=l.slice(1).map(y=>y.path),U=a.evidence_urls.split(`
`).map(y=>y.trim()).filter(Boolean),C=[...Y,...U],z={discovery_name:a.discovery_name.trim(),discovery_type:a.discovery_type||null,description:a.description.trim()||null,system_id:a.system_id?parseInt(a.system_id):null,planet_id:a.planet_id?parseInt(a.planet_id):null,moon_id:a.moon_id?parseInt(a.moon_id):null,location_name:a.location_name.trim()||null,discovered_by:a.discovered_by.trim(),discord_user_id:a.discord_user_id.trim()||null,photo_url:i||null,evidence_urls:C.length>0?C.join(","):null},A=await fetch("/api/discoveries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});if(!A.ok){const y=await A.json().catch(()=>({}));throw new Error(y.detail||y.message||"Failed to submit discovery")}d?.()}catch(l){S(l.message||"An error occurred")}finally{k(!1)}}const R=w?.planets||[],n=R.find(t=>t.id===parseInt(a.planet_id))?.moons||[];return e.jsx(Q,{isOpen:s,onClose:o,title:"Submit Discovery",children:e.jsxs("form",{onSubmit:H,children:[D&&e.jsx("div",{className:"mb-4 p-3 rounded text-sm",style:{backgroundColor:"rgba(239,68,68,0.2)",color:"#fca5a5"},children:D}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Basic Info"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(h,{label:e.jsxs(e.Fragment,{children:["Discovery Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),children:e.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:a.discovery_name,onChange:t=>c("discovery_name",t.target.value),placeholder:"e.g., Giant Sand Worm"})}),e.jsx(h,{label:"Discovery Type",children:e.jsx("select",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:a.discovery_type,onChange:t=>c("discovery_type",t.target.value),children:ne.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})})]}),e.jsx(h,{label:"Description",children:e.jsx("textarea",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)",minHeight:80},value:a.description,onChange:t=>c("description",t.target.value),placeholder:"Describe the discovery, any notable characteristics, behaviors, etc."})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Location"}),e.jsx(h,{label:"System",hint:"Search by system name to link this discovery",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:B,type:"text",className:"flex-1 p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:p,onChange:t=>{v(t.target.value),b(!0),t.target.value||P()},onFocus:()=>b(!0),placeholder:"Search for a system..."}),a.system_id&&e.jsx(V,{type:"button",variant:"ghost",onClick:P,children:"Clear"})]}),_&&f.length>0&&e.jsx("div",{className:"absolute z-10 w-full mt-1 rounded shadow-lg max-h-48 overflow-y-auto",style:{backgroundColor:"var(--app-card)",border:"1px solid var(--app-accent-3)"},children:f.map(t=>e.jsxs("div",{className:"p-2 cursor-pointer hover:opacity-80",style:{borderBottom:"1px solid var(--app-accent-3)"},onClick:()=>$(t),children:[e.jsx("div",{className:"font-medium",children:t.name}),t.galaxy&&e.jsx("div",{className:"text-xs muted",children:t.galaxy})]},t.id))})]})}),w&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(h,{label:"Planet",children:e.jsxs("select",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:a.planet_id,onChange:t=>{c("planet_id",t.target.value),c("moon_id","")},children:[e.jsx("option",{value:"",children:"Select planet..."}),R.map(t=>e.jsx("option",{value:t.id,children:t.name||`Planet ${t.planet_index||t.id}`},t.id))]})}),e.jsx(h,{label:"Moon (optional)",children:e.jsxs("select",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:a.moon_id,onChange:t=>c("moon_id",t.target.value),disabled:!a.planet_id||n.length===0,children:[e.jsx("option",{value:"",children:"Select moon..."}),n.map(t=>e.jsx("option",{value:t.id,children:t.name||`Moon ${t.id}`},t.id))]})})]}),e.jsx(h,{label:"Location Name",hint:"Specific location on the planet (e.g., 'Near the Archive portal')",children:e.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:a.location_name,onChange:t=>c("location_name",t.target.value),placeholder:"e.g., Trading Post, Near portal, Coordinates +45.2, -12.8"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Credits"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(h,{label:e.jsxs(e.Fragment,{children:["Discovered By ",e.jsx("span",{className:"text-red-400",children:"*"})]}),children:e.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:a.discovered_by,onChange:t=>c("discovered_by",t.target.value),placeholder:"In-game name or real name"})}),e.jsx(h,{label:"Discord Username",hint:"For crediting on Discord",children:e.jsx("input",{type:"text",className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)"},value:a.discord_user_id,onChange:t=>c("discord_user_id",t.target.value),placeholder:"e.g., username#1234"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wide mb-3",style:{color:"var(--app-primary)"},children:"Photos & Evidence"}),e.jsxs("div",{className:"border-2 border-dashed rounded p-4 mb-4 text-center cursor-pointer transition-colors",style:{borderColor:"var(--app-accent-3)"},onClick:()=>L.current?.click(),onDragOver:T,onDrop:O,children:[e.jsx("input",{ref:L,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:q}),e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“·"}),e.jsx("div",{className:"text-sm",children:I?"Uploading...":"Click to upload or drag & drop photos here"}),e.jsx("div",{className:"text-xs muted mt-1",children:"First photo will be the main image"})]}),x.length>0&&e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 mb-4",children:x.map((t,l)=>e.jsxs("div",{className:"relative aspect-square rounded overflow-hidden",style:{backgroundColor:"var(--app-bg)"},children:[e.jsx("img",{src:t.preview,alt:`Upload ${l+1}`,className:"w-full h-full object-cover"}),l===0&&e.jsx("div",{className:"absolute top-1 left-1 text-xs px-1 rounded",style:{backgroundColor:"var(--app-primary)",color:"#fff"},children:"Main"}),!t.uploaded&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"text-xs",children:"Uploading..."})}),e.jsx("button",{type:"button",className:"absolute top-1 right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs",style:{backgroundColor:"rgba(0,0,0,0.7)",color:"#fff"},onClick:i=>{i.stopPropagation(),M(l)},children:"Ã—"})]},l))}),e.jsx(h,{label:"Evidence URLs",hint:"External links to screenshots, videos, etc. (one per line)",children:e.jsx("textarea",{className:"w-full p-2 rounded",style:{backgroundColor:"var(--app-bg)",border:"1px solid var(--app-accent-3)",minHeight:60},value:a.evidence_urls,onChange:t=>c("evidence_urls",t.target.value),placeholder:`https://imgur.com/abc123
https://youtube.com/watch?v=xyz`})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",style:{borderTop:"1px solid var(--app-accent-3)"},children:[e.jsx(V,{type:"button",variant:"ghost",onClick:o,disabled:N,children:"Cancel"}),e.jsx(V,{type:"submit",disabled:N||I,children:N?"Submitting...":"Submit Discovery"})]})]})})}function ie(s){if(!s)return null;if(s.startsWith("http"))return s;const d=s.replace(/\\/g,"/").split("/"),a=d[d.length-1];return`/haven-ui-photos/${encodeURIComponent(a)}`}const J={fauna:"bg-gradient-to-br from-green-900 to-green-950",flora:"bg-gradient-to-br from-emerald-900 to-emerald-950",mineral:"bg-gradient-to-br from-purple-900 to-purple-950",ancient:"bg-gradient-to-br from-yellow-900 to-amber-950",history:"bg-gradient-to-br from-amber-900 to-orange-950",bones:"bg-gradient-to-br from-stone-800 to-stone-900",alien:"bg-gradient-to-br from-cyan-900 to-cyan-950",starship:"bg-gradient-to-br from-blue-900 to-blue-950",multitool:"bg-gradient-to-br from-orange-900 to-orange-950",lore:"bg-gradient-to-br from-indigo-900 to-indigo-950",base:"bg-gradient-to-br from-teal-900 to-teal-950",other:"bg-gradient-to-br from-gray-800 to-gray-900"};function fe({discovery:s,onClick:o,className:d=""}){const{id:a,discovery_name:u,discovery_type:x,type_slug:g,type_info:f,photo_url:j,discovered_by:w,system_name:m,system_galaxy:p,is_featured:v}=s,_=g||"other",b=ie(j),N=J[_]||J.other,k=f?.emoji||x||"?",D=f?.label||_;return e.jsxs("div",{onClick:()=>o?.(s),className:`
        group relative rounded-xl overflow-hidden
        bg-gray-800 border border-gray-700
        cursor-pointer
        transform transition-all duration-300
        hover:border-gray-500 hover:shadow-xl hover:shadow-black/30
        ${d}
      `,children:[e.jsxs("div",{className:`relative aspect-video overflow-hidden ${b?"":N}`,children:[b?e.jsx("img",{src:b,alt:u,loading:"lazy",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-6xl opacity-30",children:k})}),v?e.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1 px-2 py-1 rounded-full bg-yellow-500 text-yellow-900 text-xs font-bold shadow-lg",children:[e.jsx(Z,{className:"w-3 h-3"}),"Featured"]}):null,e.jsxs("div",{className:"absolute bottom-3 left-3 flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-black/60 backdrop-blur-sm text-white text-sm",children:[e.jsx("span",{children:k}),e.jsx("span",{className:"font-medium",children:D})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-white font-semibold text-lg truncate group-hover:text-cyan-400 transition-colors",children:u||`Discovery #${a}`}),(m||p)&&e.jsxs("div",{className:"mt-1 text-gray-400 text-sm truncate",children:[m&&e.jsx("span",{children:m}),m&&p&&e.jsx("span",{className:"mx-1",children:"â€¢"}),p&&e.jsx("span",{children:p})]}),e.jsxs("div",{className:"mt-3 text-gray-500 text-sm",children:["Discovered by ",e.jsx("span",{className:"text-gray-400",children:w||"Unknown"})]})]})]})}function W(s){if(!s)return null;if(s.startsWith("http"))return s;const d=s.replace(/\\/g,"/").split("/"),a=d[d.length-1];return`/haven-ui-photos/${encodeURIComponent(a)}`}function ce(s){return s?Array.isArray(s)?s.map(o=>W(o)||o):typeof s=="string"?s.split(",").map(o=>o.trim()).filter(Boolean).map(o=>W(o)||o):[]:[]}function ve({discovery:s,isOpen:o,onClose:d,onFeatureToggle:a}){const u=r.useContext(X);u.user;const[x,g]=r.useState(null),[f,j]=r.useState(!1);if(r.useEffect(()=>{s?.photo_url?g(W(s.photo_url)):g(null)},[s]),r.useEffect(()=>{o&&s?.id&&fetch(`/api/discoveries/${s.id}/view`,{method:"POST"}).catch(()=>{})},[o,s?.id]),!o||!s)return null;const{id:w,discovery_name:m,discovery_type:p,type_info:v,description:_,photo_url:b,evidence_url:N,discovered_by:k,discord_user_id:D,submission_timestamp:S,created_at:I,system_id:E,system_name:L,system_galaxy:B,location_name:c,is_featured:$,view_count:P}=s,q=W(b),F=ce(N),M=[q,...F].filter(Boolean),T=S||I,O=v?.emoji||p||"?",H=v?.label||"Discovery",R=u.isSuperAdmin||u.isPartner||u.isSubAdmin;async function G(){if(!(!R||f)){j(!0);try{const n=await fetch(`/api/discoveries/${w}/feature`,{method:"POST",credentials:"include"});if(n.ok){const t=await n.json();a?.(w,t.is_featured)}}catch(n){console.error("Failed to toggle featured:",n)}finally{j(!1)}}}return e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:d,children:e.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-xl",style:{backgroundColor:"var(--app-card)"},onClick:n=>n.stopPropagation(),children:[e.jsx("button",{onClick:d,className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors",children:e.jsx(ae,{className:"w-6 h-6"})}),x?e.jsx("div",{className:"relative aspect-video bg-black",children:e.jsx("img",{src:x,alt:m,className:"w-full h-full object-contain"})}):e.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:e.jsx("span",{className:"text-8xl opacity-30",children:O})}),M.length>1&&e.jsx("div",{className:"flex gap-2 p-4 overflow-x-auto bg-black/30",children:M.map((n,t)=>e.jsx("button",{onClick:()=>g(n),className:`
                  flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all
                  ${x===n?"border-cyan-500":"border-transparent opacity-60 hover:opacity-100"}
                `,children:e.jsx("img",{src:n,alt:`Photo ${t+1}`,className:"w-full h-full object-cover"})},t))}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-2xl",children:O}),e.jsx("span",{className:"text-gray-400",children:H}),$&&e.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full bg-yellow-500 text-yellow-900 text-xs font-bold",children:[e.jsx(Z,{className:"w-3 h-3"}),"Featured"]})]}),e.jsx("h2",{className:"text-2xl font-bold text-white",children:m||`Discovery #${w}`})]}),R&&e.jsx("button",{onClick:G,disabled:f,className:`
                  flex items-center gap-2 px-4 py-2 rounded-lg transition-colors
                  ${$?"bg-yellow-500 text-yellow-900 hover:bg-yellow-400":"bg-gray-700 text-gray-300 hover:bg-gray-600"}
                  ${f?"opacity-50 cursor-not-allowed":""}
                `,children:$?e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-4 h-4"}),"Unfeature"]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-4 h-4"}),"Feature"]})})]}),_&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:_})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-2",children:"Location"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-300",children:[E&&L&&e.jsxs(K,{to:`/systems/${E}`,className:"flex items-center gap-2 hover:text-cyan-400 transition-colors",children:[e.jsx(te,{className:"w-4 h-4"}),L,B&&e.jsxs("span",{className:"text-gray-500",children:["(",B,")"]})]}),c&&e.jsxs("span",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx("span",{className:"text-gray-600",children:"â€¢"}),c]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700 flex flex-wrap items-center gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsx("span",{children:"Discovered by"}),e.jsx("span",{className:"text-gray-300",children:k||D||"Unknown"})]}),T&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(T).toLocaleDateString()})]}),P>0&&e.jsxs("div",{className:"text-gray-500",children:[P.toLocaleString()," ",P===1?"view":"views"]})]}),F.some(n=>n.startsWith("http")&&!n.includes("haven-ui-photos"))&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wide mb-2",children:"External Links"}),e.jsx("div",{className:"space-y-1",children:F.filter(n=>n.startsWith("http")&&!n.includes("haven-ui-photos")).map((n,t)=>e.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"block text-cyan-400 hover:text-cyan-300 truncate",children:n},t))})]})]})]})})}export{fe as D,ge as a,ve as b};
