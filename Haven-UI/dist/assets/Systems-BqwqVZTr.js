import{j as e}from"./vendor-three-B8lJlG1P.js";import{b as n,L as ne,u as be,e as je,d as we}from"./vendor-react-D7IcbEIw.js";import{a as I}from"./vendor-ui-B9ygI19o.js";import{C as M}from"./Card-C4YgI0Ez.js";import{B as q}from"./Button-CI6OWZ-Z.js";import{F as ee,a as X,b as ve,c as Ne}from"./FormField-Bz54WX62.js";import{F as Q,A as de,M as Se,a as Ge}from"./index-CIVSKp76.js";import{F as _e,a as ke,b as Ce,D as $e}from"./DiscordTagBadge-Dk1S4C0Q.js";import{u as Ee}from"./usePersonalColor--X9CeE-n.js";import{S as D}from"./SearchableSelect-uNGq-GhX.js";import{F as me}from"./XMarkIcon-COi7J9yy.js";import{F as ye}from"./FunnelIcon-Do0aaPDo.js";import"./index-DywX51Id.js";import"./floating-ui.dom-DAbdHeWr.js";function Re({title:l,titleId:o,...c},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},c),l?n.createElement("title",{id:o},l):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const K=n.forwardRef(Re);function Fe({title:l,titleId:o,...c},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},c),l?n.createElement("title",{id:o},l):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const xe=n.forwardRef(Fe);function Le({title:l,titleId:o,...c},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},c),l?n.createElement("title",{id:o},l):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const se=n.forwardRef(Le);function Ae({title:l,titleId:o,...c},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},c),l?n.createElement("title",{id:o},l):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const oe=n.forwardRef(Ae);function Pe({title:l,titleId:o,...c},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},c),l?n.createElement("title",{id:o},l):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"}))}const Me=n.forwardRef(Pe);function Te({title:l,titleId:o,...c},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":o},c),l?n.createElement("title",{id:o},l):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const ze=n.forwardRef(Te);function De({onSelect:l,selectedReality:o}){const[c,i]=n.useState([]),[x,b]=n.useState(!0),[m,y]=n.useState(null);n.useEffect(()=>{N()},[]);async function N(){b(!0),y(null);try{const p=await I.get("/api/realities/summary");i(p.data.realities||[])}catch(p){console.error("Failed to load realities:",p),y("Failed to load reality data"),i([{reality:"Normal",galaxy_count:0,system_count:0},{reality:"Permadeath",galaxy_count:0,system_count:0}])}finally{b(!1)}}const C={Normal:Q,Permadeath:Me},S={Normal:{bg:"bg-cyan-600",hoverBg:"hover:bg-cyan-500",border:"border-cyan-500",text:"text-cyan-400",ring:"ring-cyan-500"},Permadeath:{bg:"bg-red-600",hoverBg:"hover:bg-red-500",border:"border-red-500",text:"text-red-400",ring:"ring-red-500"}};if(x)return e.jsx(M,{children:e.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading realities..."})});const h=["Normal","Permadeath"].map(p=>c.find(r=>r.reality===p)||{reality:p,galaxy_count:0,system_count:0});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Select Reality"}),m&&e.jsx("span",{className:"text-sm text-red-400",children:m})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:h.map(p=>{const d=C[p.reality]||Q,r=S[p.reality]||S.Normal,u=o===p.reality;return e.jsxs("button",{onClick:()=>l(p.reality),className:`
                relative p-6 rounded-lg border-2 transition-all duration-200
                text-left group
                ${u?`${r.bg} ${r.border} text-white ring-2 ${r.ring} ring-offset-2 ring-offset-gray-900`:`bg-gray-800 border-gray-700 ${r.hoverBg.replace("hover:","")} hover:border-gray-600`}
              `,children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`
                  p-3 rounded-lg transition-colors
                  ${u?"bg-white/20":"bg-gray-700 group-hover:bg-gray-600"}
                `,children:e.jsx(d,{className:`w-8 h-8 ${u?"text-white":r.text}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-xl font-bold ${u?"text-white":"text-gray-100"}`,children:p.reality}),e.jsx("p",{className:`text-sm mt-1 ${u?"text-white/80":"text-gray-400"}`,children:p.reality==="Normal"?"Standard survival mode":"One life, permanent death"})]})]}),e.jsxs("div",{className:`
                mt-4 pt-4 border-t flex justify-between
                ${u?"border-white/20":"border-gray-700"}
              `,children:[e.jsxs("div",{children:[e.jsx("div",{className:`text-2xl font-bold ${u?"text-white":r.text}`,children:p.system_count.toLocaleString()}),e.jsx("div",{className:`text-xs ${u?"text-white/70":"text-gray-500"}`,children:"Systems"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${u?"text-white":r.text}`,children:p.galaxy_count}),e.jsx("div",{className:`text-xs ${u?"text-white/70":"text-gray-500"}`,children:"Galaxies"})]})]}),u&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:"bg-white text-gray-900 text-xs font-bold px-2 py-1 rounded",children:"Selected"})})]},p.reality)})})]})}const ae={Euclid:{num:1,type:"norm",desc:"The starting galaxy - most explored"},"Hilbert Dimension":{num:2,type:"norm",desc:"Second galaxy reached via center"},Calypso:{num:3,type:"harsh",desc:"Raging Galaxy - high conflict"},"Hesperius Dimension":{num:4,type:"norm",desc:"Fourth galaxy"},Hyades:{num:5,type:"norm",desc:"Fifth galaxy"},Ickjamatew:{num:6,type:"norm",desc:"Sixth galaxy"},Budullangr:{num:7,type:"lush",desc:"Ancestral Galaxy - more lush planets"},Kikolgallr:{num:8,type:"norm",desc:"Eighth galaxy"},Eltiensleen:{num:9,type:"norm",desc:"Ninth galaxy"},Eissentam:{num:10,type:"lush",desc:"Tranquil Galaxy - paradise planets"},Elkupalos:{num:11,type:"norm",desc:"Eleventh galaxy"},Aptarkaba:{num:12,type:"norm",desc:"Twelfth galaxy"},Ontiniangp:{num:13,type:"norm",desc:"Thirteenth galaxy"},Odiwagiri:{num:14,type:"norm",desc:"Fourteenth galaxy"},Ogtialabi:{num:15,type:"norm",desc:"Fifteenth galaxy"},Muhacksonto:{num:16,type:"norm",desc:"Sixteenth galaxy"},Hitonskyer:{num:17,type:"norm",desc:"Seventeenth galaxy"},Rerasmutul:{num:18,type:"norm",desc:"Eighteenth galaxy"},Isdoraijung:{num:19,type:"lush",desc:"Halcyon Galaxy - more lush planets"},Doctinawyra:{num:20,type:"norm",desc:"Twentieth galaxy"},Loychazinq:{num:21,type:"norm",desc:"Twenty-first galaxy"},Zukasizawa:{num:22,type:"norm",desc:"Twenty-second galaxy"},Ekwathore:{num:23,type:"norm",desc:"Twenty-third galaxy"},Yeberhahne:{num:24,type:"norm",desc:"Twenty-fourth galaxy"},Twerbetek:{num:25,type:"norm",desc:"Twenty-fifth galaxy"},Sivarates:{num:26,type:"norm",desc:"Twenty-sixth galaxy"},Eajerandal:{num:27,type:"norm",desc:"Twenty-seventh galaxy"},Aldukesci:{num:28,type:"norm",desc:"Twenty-eighth galaxy"},Wotyarogii:{num:29,type:"norm",desc:"Twenty-ninth galaxy"},Sudzerbal:{num:30,type:"norm",desc:"Thirtieth galaxy"},Maupenzhay:{num:31,type:"norm",desc:"Thirty-first galaxy"},Sugueziume:{num:32,type:"norm",desc:"Thirty-second galaxy"},Brogoweldian:{num:33,type:"norm",desc:"Thirty-third galaxy"},Ehbogdenbu:{num:34,type:"norm",desc:"Thirty-fourth galaxy"},Ijsenufryos:{num:35,type:"norm",desc:"Thirty-fifth galaxy"},Nipikulha:{num:36,type:"norm",desc:"Thirty-sixth galaxy"},Autsurabin:{num:37,type:"norm",desc:"Thirty-seventh galaxy"},Lusontrygiamh:{num:38,type:"norm",desc:"Thirty-eighth galaxy"},Rewmanawa:{num:39,type:"norm",desc:"Thirty-ninth galaxy"},Ethiophodhe:{num:40,type:"norm",desc:"Fortieth galaxy"},Urastrykle:{num:41,type:"norm",desc:"Forty-first galaxy"},Xobeurindj:{num:42,type:"norm",desc:"Forty-second galaxy"},Oniijialdu:{num:43,type:"norm",desc:"Forty-third galaxy"},Wucetosucc:{num:44,type:"norm",desc:"Forty-fourth galaxy"},Ebyeloof:{num:45,type:"norm",desc:"Forty-fifth galaxy"},Odyavanta:{num:46,type:"norm",desc:"Forty-sixth galaxy"},Milekistri:{num:47,type:"norm",desc:"Forty-seventh galaxy"},Waferganh:{num:48,type:"norm",desc:"Forty-eighth galaxy"},Agnusopwit:{num:49,type:"norm",desc:"Forty-ninth galaxy"},Teyaypilny:{num:50,type:"norm",desc:"Fiftieth galaxy"},Zalienkosm:{num:51,type:"norm",desc:"Fifty-first galaxy"},Ladgudiraf:{num:52,type:"norm",desc:"Fifty-second galaxy"},Mushonponte:{num:53,type:"norm",desc:"Fifty-third galaxy"},Amsentisz:{num:54,type:"norm",desc:"Fifty-fourth galaxy"},Fladiselm:{num:55,type:"norm",desc:"Fifty-fifth galaxy"},Laanawemb:{num:56,type:"norm",desc:"Fifty-sixth galaxy"},Ilkerloor:{num:57,type:"norm",desc:"Fifty-seventh galaxy"},Davanossi:{num:58,type:"norm",desc:"Fifty-eighth galaxy"},Ploehrliou:{num:59,type:"norm",desc:"Fifty-ninth galaxy"},Corpinyaya:{num:60,type:"norm",desc:"Sixtieth galaxy"},Leckandmeram:{num:61,type:"norm",desc:"Sixty-first galaxy"},Quulngais:{num:62,type:"norm",desc:"Sixty-second galaxy"},Nokokipsechl:{num:63,type:"norm",desc:"Sixty-third galaxy"},Rinblodesa:{num:64,type:"norm",desc:"Sixty-fourth galaxy"},Loydporpen:{num:65,type:"norm",desc:"Sixty-fifth galaxy"},Ibtrevskip:{num:66,type:"norm",desc:"Sixty-sixth galaxy"},Elkowaldb:{num:67,type:"norm",desc:"Sixty-seventh galaxy"},Heholhofsko:{num:68,type:"norm",desc:"Sixty-eighth galaxy"},Yebrilowisod:{num:69,type:"norm",desc:"Sixty-ninth galaxy"},Husalvangewi:{num:70,type:"norm",desc:"Seventieth galaxy"},"Ovna'uesed":{num:71,type:"norm",desc:"Seventy-first galaxy"},Bahibusey:{num:72,type:"norm",desc:"Seventy-second galaxy"},Nuybeliaure:{num:73,type:"norm",desc:"Seventy-third galaxy"},Doshawchuc:{num:74,type:"norm",desc:"Seventy-fourth galaxy"},Ruckinarkh:{num:75,type:"norm",desc:"Seventy-fifth galaxy"},Thorettac:{num:76,type:"norm",desc:"Seventy-sixth galaxy"},Nuponoparau:{num:77,type:"norm",desc:"Seventy-seventh galaxy"},Moglaschil:{num:78,type:"norm",desc:"Seventy-eighth galaxy"},Uiweupose:{num:79,type:"norm",desc:"Seventy-ninth galaxy"},Nasmilete:{num:80,type:"norm",desc:"Eightieth galaxy"},Ekdaluskin:{num:81,type:"norm",desc:"Eighty-first galaxy"},Hakapanasy:{num:82,type:"norm",desc:"Eighty-second galaxy"},Dimonimba:{num:83,type:"norm",desc:"Eighty-third galaxy"},Cajaccari:{num:84,type:"norm",desc:"Eighty-fourth galaxy"},Olonerovo:{num:85,type:"norm",desc:"Eighty-fifth galaxy"},Umlanswick:{num:86,type:"norm",desc:"Eighty-sixth galaxy"},Henayliszm:{num:87,type:"norm",desc:"Eighty-seventh galaxy"},Utzenmate:{num:88,type:"norm",desc:"Eighty-eighth galaxy"},Umirpaiya:{num:89,type:"norm",desc:"Eighty-ninth galaxy"},Paholiang:{num:90,type:"norm",desc:"Ninetieth galaxy"},Iaereznika:{num:91,type:"norm",desc:"Ninety-first galaxy"},Yudukagath:{num:92,type:"norm",desc:"Ninety-second galaxy"},Boealalosnj:{num:93,type:"norm",desc:"Ninety-third galaxy"},Yaevarcko:{num:94,type:"norm",desc:"Ninety-fourth galaxy"},Coellosipp:{num:95,type:"norm",desc:"Ninety-fifth galaxy"},Wayndohalou:{num:96,type:"norm",desc:"Ninety-sixth galaxy"},Smoduraykl:{num:97,type:"norm",desc:"Ninety-seventh galaxy"},Apmaneessu:{num:98,type:"norm",desc:"Ninety-eighth galaxy"},Hicanpaav:{num:99,type:"norm",desc:"Ninety-ninth galaxy"},Akvasanta:{num:100,type:"norm",desc:"One hundredth galaxy"},Tuychelisaor:{num:101,type:"norm",desc:"Galaxy #101"},Rivskimbe:{num:102,type:"norm",desc:"Galaxy #102"},Daksanquix:{num:103,type:"norm",desc:"Galaxy #103"},Kissonlin:{num:104,type:"norm",desc:"Galaxy #104"},Aediabiel:{num:105,type:"norm",desc:"Galaxy #105"},Ulosaginyik:{num:106,type:"norm",desc:"Galaxy #106"},Roclaytonycar:{num:107,type:"norm",desc:"Galaxy #107"},Kichiaroa:{num:108,type:"norm",desc:"Galaxy #108"},Irceauffey:{num:109,type:"norm",desc:"Galaxy #109"},Nudquathsenfe:{num:110,type:"norm",desc:"Galaxy #110"},Getaizakaal:{num:111,type:"norm",desc:"Galaxy #111"},Hansolmien:{num:112,type:"norm",desc:"Galaxy #112"},Bloytisagra:{num:113,type:"norm",desc:"Galaxy #113"},Ladsenlay:{num:114,type:"norm",desc:"Galaxy #114"},Luyugoslasr:{num:115,type:"norm",desc:"Galaxy #115"},Ubredhatk:{num:116,type:"norm",desc:"Galaxy #116"},Cidoniana:{num:117,type:"norm",desc:"Galaxy #117"},Jasinessa:{num:118,type:"norm",desc:"Galaxy #118"},Torweierf:{num:119,type:"norm",desc:"Galaxy #119"},Saffneckm:{num:120,type:"norm",desc:"Galaxy #120"},Thnistner:{num:121,type:"norm",desc:"Galaxy #121"},Dotusingg:{num:122,type:"norm",desc:"Galaxy #122"},Luleukous:{num:123,type:"norm",desc:"Galaxy #123"},Jelmandan:{num:124,type:"norm",desc:"Galaxy #124"},Otimanaso:{num:125,type:"norm",desc:"Galaxy #125"},Enjaxusanto:{num:126,type:"norm",desc:"Galaxy #126"},Sezviktorew:{num:127,type:"norm",desc:"Galaxy #127"},Zikehpm:{num:128,type:"norm",desc:"Galaxy #128"},Bephembah:{num:129,type:"norm",desc:"Galaxy #129"},Broomerrai:{num:130,type:"norm",desc:"Galaxy #130"},Meximicka:{num:131,type:"norm",desc:"Galaxy #131"},Venessika:{num:132,type:"norm",desc:"Galaxy #132"},Gaiteseling:{num:133,type:"norm",desc:"Galaxy #133"},Zosakasiro:{num:134,type:"norm",desc:"Galaxy #134"},Drajayanes:{num:135,type:"norm",desc:"Galaxy #135"},Ooibekuar:{num:136,type:"norm",desc:"Galaxy #136"},Urckiansi:{num:137,type:"norm",desc:"Galaxy #137"},Dozivadido:{num:138,type:"norm",desc:"Galaxy #138"},Emiekereks:{num:139,type:"norm",desc:"Galaxy #139"},Meykinunukur:{num:140,type:"norm",desc:"Galaxy #140"},Kimycuristh:{num:141,type:"norm",desc:"Galaxy #141"},Roansfien:{num:142,type:"norm",desc:"Galaxy #142"},Isgarmeso:{num:143,type:"norm",desc:"Galaxy #143"},Daitibeli:{num:144,type:"norm",desc:"Galaxy #144"},Gucuttarik:{num:145,type:"norm",desc:"Galaxy #145"},Enlaythie:{num:146,type:"norm",desc:"Galaxy #146"},Drewweste:{num:147,type:"norm",desc:"Galaxy #147"},Akbulkabi:{num:148,type:"norm",desc:"Galaxy #148"},Homskiw:{num:149,type:"norm",desc:"Galaxy #149"},Zavainlani:{num:150,type:"norm",desc:"Galaxy #150"},Jewijkmas:{num:151,type:"norm",desc:"Galaxy #151"},Itlhotagra:{num:152,type:"norm",desc:"Galaxy #152"},Podalicess:{num:153,type:"norm",desc:"Galaxy #153"},Hiviusauer:{num:154,type:"norm",desc:"Galaxy #154"},Halsebenk:{num:155,type:"norm",desc:"Galaxy #155"},Puikitoac:{num:156,type:"norm",desc:"Galaxy #156"},Gaybakuaria:{num:157,type:"norm",desc:"Galaxy #157"},Grbodubhe:{num:158,type:"norm",desc:"Galaxy #158"},Rycempler:{num:159,type:"norm",desc:"Galaxy #159"},Indjalala:{num:160,type:"norm",desc:"Galaxy #160"},Fontenikk:{num:161,type:"norm",desc:"Galaxy #161"},Pasycihelwhee:{num:162,type:"norm",desc:"Galaxy #162"},Ikbaksmit:{num:163,type:"norm",desc:"Galaxy #163"},Telicianses:{num:164,type:"norm",desc:"Galaxy #164"},Oyleyzhan:{num:165,type:"norm",desc:"Galaxy #165"},Uagerosat:{num:166,type:"norm",desc:"Galaxy #166"},Impoxectin:{num:167,type:"norm",desc:"Galaxy #167"},Twoodmand:{num:168,type:"norm",desc:"Galaxy #168"},Hilfsesorbs:{num:169,type:"norm",desc:"Galaxy #169"},Ezdaranit:{num:170,type:"norm",desc:"Galaxy #170"},Wiensanshe:{num:171,type:"norm",desc:"Galaxy #171"},Ewheelonc:{num:172,type:"norm",desc:"Galaxy #172"},Litzmantufa:{num:173,type:"norm",desc:"Galaxy #173"},Emarmatosi:{num:174,type:"norm",desc:"Galaxy #174"},Mufimbomacvi:{num:175,type:"norm",desc:"Galaxy #175"},Wongquarum:{num:176,type:"norm",desc:"Galaxy #176"},Hapirajua:{num:177,type:"norm",desc:"Galaxy #177"},Igbinduina:{num:178,type:"norm",desc:"Galaxy #178"},Wepaitvas:{num:179,type:"norm",desc:"Galaxy #179"},Sthatigudi:{num:180,type:"norm",desc:"Galaxy #180"},Yekathsebehn:{num:181,type:"norm",desc:"Galaxy #181"},Ebedeagurst:{num:182,type:"norm",desc:"Galaxy #182"},Nolisonia:{num:183,type:"norm",desc:"Galaxy #183"},Ulexovitab:{num:184,type:"norm",desc:"Galaxy #184"},Iodhinxois:{num:185,type:"norm",desc:"Galaxy #185"},Irroswitzs:{num:186,type:"norm",desc:"Galaxy #186"},Bifredait:{num:187,type:"norm",desc:"Galaxy #187"},Beiraghedwe:{num:188,type:"norm",desc:"Galaxy #188"},Yeonatlak:{num:189,type:"norm",desc:"Galaxy #189"},Cugnatachh:{num:190,type:"norm",desc:"Galaxy #190"},Nozoryenki:{num:191,type:"norm",desc:"Galaxy #191"},Ebralduri:{num:192,type:"norm",desc:"Galaxy #192"},Evcickcandj:{num:193,type:"norm",desc:"Galaxy #193"},Ziybosswin:{num:194,type:"norm",desc:"Galaxy #194"},Heperclait:{num:195,type:"norm",desc:"Galaxy #195"},Sugiuniam:{num:196,type:"norm",desc:"Galaxy #196"},Aaseertush:{num:197,type:"norm",desc:"Galaxy #197"},Uglyestemaa:{num:198,type:"norm",desc:"Galaxy #198"},Horeroedsh:{num:199,type:"norm",desc:"Galaxy #199"},Drundemiso:{num:200,type:"norm",desc:"Galaxy #200"},Ityanianat:{num:201,type:"norm",desc:"Galaxy #201"},Purneyrine:{num:202,type:"norm",desc:"Galaxy #202"},Dokiessmat:{num:203,type:"norm",desc:"Galaxy #203"},Nupiacheh:{num:204,type:"norm",desc:"Galaxy #204"},Dihewsonj:{num:205,type:"norm",desc:"Galaxy #205"},Rudrailhik:{num:206,type:"norm",desc:"Galaxy #206"},Tweretnort:{num:207,type:"norm",desc:"Galaxy #207"},Snatreetze:{num:208,type:"norm",desc:"Galaxy #208"},Iwundaracos:{num:209,type:"norm",desc:"Galaxy #209"},Digarlewena:{num:210,type:"norm",desc:"Galaxy #210"},Erquagsta:{num:211,type:"norm",desc:"Galaxy #211"},Logovoloin:{num:212,type:"norm",desc:"Galaxy #212"},Boyaghosganh:{num:213,type:"norm",desc:"Galaxy #213"},Kuolungau:{num:214,type:"norm",desc:"Galaxy #214"},Pehneldept:{num:215,type:"norm",desc:"Galaxy #215"},Yevettiiqidcon:{num:216,type:"norm",desc:"Galaxy #216"},Sahliacabru:{num:217,type:"norm",desc:"Galaxy #217"},Noggalterpor:{num:218,type:"norm",desc:"Galaxy #218"},Chmageaki:{num:219,type:"norm",desc:"Galaxy #219"},Veticueca:{num:220,type:"norm",desc:"Galaxy #220"},Vittesbursul:{num:221,type:"norm",desc:"Galaxy #221"},Nootanore:{num:222,type:"norm",desc:"Galaxy #222"},Innebdjerah:{num:223,type:"norm",desc:"Galaxy #223"},Kisvarcini:{num:224,type:"norm",desc:"Galaxy #224"},Cuzcogipper:{num:225,type:"norm",desc:"Galaxy #225"},Pamanhermonsu:{num:226,type:"norm",desc:"Galaxy #226"},Brotoghek:{num:227,type:"norm",desc:"Galaxy #227"},Mibittara:{num:228,type:"norm",desc:"Galaxy #228"},Huruahili:{num:229,type:"norm",desc:"Galaxy #229"},Raldwicarn:{num:230,type:"norm",desc:"Galaxy #230"},Ezdartlic:{num:231,type:"norm",desc:"Galaxy #231"},Badesclema:{num:232,type:"norm",desc:"Galaxy #232"},Isenkeyan:{num:233,type:"norm",desc:"Galaxy #233"},Iadoitesu:{num:234,type:"norm",desc:"Galaxy #234"},Yagrovoisi:{num:235,type:"norm",desc:"Galaxy #235"},Ewcomechio:{num:236,type:"norm",desc:"Galaxy #236"},Inunnunnoda:{num:237,type:"norm",desc:"Galaxy #237"},Dischiutun:{num:238,type:"norm",desc:"Galaxy #238"},Yuwarugha:{num:239,type:"norm",desc:"Galaxy #239"},Ialmendra:{num:240,type:"norm",desc:"Galaxy #240"},Reponudrle:{num:241,type:"norm",desc:"Galaxy #241"},Rinjanagrbo:{num:242,type:"norm",desc:"Galaxy #242"},Zeziceloh:{num:243,type:"norm",desc:"Galaxy #243"},Oeileutasc:{num:244,type:"norm",desc:"Galaxy #244"},Zicniijinis:{num:245,type:"norm",desc:"Galaxy #245"},Dugnowarilda:{num:246,type:"norm",desc:"Galaxy #246"},Neuxoisan:{num:247,type:"norm",desc:"Galaxy #247"},Ilmenhorn:{num:248,type:"norm",desc:"Galaxy #248"},Rukwatsuku:{num:249,type:"norm",desc:"Galaxy #249"},Nepitzaspru:{num:250,type:"norm",desc:"Galaxy #250"},Chcehoemig:{num:251,type:"norm",desc:"Galaxy #251"},Haffneyrin:{num:252,type:"norm",desc:"Galaxy #252"},Uliciawai:{num:253,type:"norm",desc:"Galaxy #253"},Tuhgrespod:{num:254,type:"norm",desc:"Galaxy #254"},Iousongola:{num:255,type:"norm",desc:"Galaxy #255"},Odyalutai:{num:256,type:"norm",desc:"Galaxy #256 - Final galaxy"}},ie={lush:{label:"Lush",color:"from-emerald-600 to-green-700",border:"border-emerald-500",badge:"bg-emerald-500 text-white",icon:"ðŸŒ¿"},harsh:{label:"Harsh",color:"from-red-600 to-orange-700",border:"border-red-500",badge:"bg-red-500 text-white",icon:"âš”ï¸"},norm:{label:"Normal",color:"from-cyan-600 to-blue-700",border:"border-cyan-500",badge:"bg-cyan-500 text-white",icon:"ðŸŒŒ"},empty:{label:"Empty",color:"from-gray-600 to-gray-700",border:"border-gray-500",badge:"bg-gray-500 text-white",icon:"ðŸŒ‘"}};function Ie({reality:l,onSelect:o,selectedGalaxy:c,filters:i={},discordTag:x="all"}){const[b,m]=n.useState([]),[y,N]=n.useState(!0),[C,S]=n.useState(null),h=Object.values(i).some(g=>g!==""&&g!==null&&g!==void 0);n.useEffect(()=>{l&&p()},[l,JSON.stringify(i),x]);async function p(){N(!0),S(null);try{const g=new URLSearchParams({reality:l});x&&x!=="all"&&g.append("discord_tag",x),i&&Object.entries(i).forEach(([k,v])=>{v!==""&&v!==null&&v!==void 0&&g.append(k,v.toString())});const j=await I.get(`/api/galaxies/summary?${g.toString()}`);m(j.data.galaxies||[])}catch(g){console.error("Failed to load galaxies:",g),S("Failed to load galaxy data"),m([])}finally{N(!1)}}const d=n.useMemo(()=>[...b].sort((g,j)=>{const k=ae[g.galaxy]?.num||999,v=ae[j.galaxy]?.num||999;return k-v}),[b]);function r(g){return ae[g]||{num:"?",type:"norm",desc:"Uncharted galaxy"}}if(y)return e.jsx(M,{children:e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(K,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading galaxies for ",l,"..."]})});if(C)return e.jsx(M,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-400 mb-4",children:C}),e.jsx("button",{onClick:p,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-white",children:"Retry"})]})});if(b.length===0)return e.jsx(M,{children:e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(ze,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsxs("p",{children:["No galaxies found in ",l," mode."]}),e.jsx("p",{className:"text-sm mt-2",children:"Systems need to be added to see galaxies here."})]})});const u=d.reduce((g,j)=>g+j.system_count,0),B=d.reduce((g,j)=>g+j.region_count,0);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between flex-wrap gap-2",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(Q,{className:"w-6 h-6 text-cyan-400"}),"Galaxies in ",l]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[d.length," galaxies with data â€¢ ",u.toLocaleString()," systems â€¢ ",B.toLocaleString()," regions",h&&e.jsx("span",{className:"ml-2 text-cyan-400",children:"(filtered)"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d.map(g=>{const j=r(g.galaxy),k=ie[j.type]||ie.norm,v=c===g.galaxy;return e.jsxs("button",{onClick:()=>o(g.galaxy),className:`
                relative overflow-hidden rounded-xl transition-all duration-300
                text-left group
                ${v?"ring-2 ring-cyan-400 ring-offset-2 ring-offset-gray-900 scale-[1.02]":"hover:scale-[1.02] hover:shadow-lg hover:shadow-cyan-500/10"}
              `,children:[e.jsx("div",{className:`
                absolute inset-0 bg-gradient-to-br opacity-90
                ${v?"from-cyan-600 to-blue-700":`${k.color}`}
              `}),e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"16px 16px"}}),e.jsxs("div",{className:"relative p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`
                      w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold
                      ${v?"bg-white/30 text-white":"bg-black/30 text-white"}
                    `,children:j.num}),e.jsx("span",{className:`
                      text-xs px-2 py-0.5 rounded-full font-medium
                      ${v?"bg-white/20 text-white":k.badge}
                    `,children:k.label})]}),v&&e.jsx("span",{className:"bg-white text-cyan-600 text-xs font-bold px-2 py-1 rounded-full shadow",children:"Selected"})]}),e.jsx("h3",{className:"font-bold text-lg text-white truncate mb-1",children:g.galaxy}),e.jsx("p",{className:"text-xs text-white/70 mb-4 line-clamp-2 min-h-[2rem]",children:j.desc}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/20",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-white",children:g.system_count.toLocaleString()}),e.jsx("div",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Systems"})]}),e.jsx("div",{className:"w-px h-8 bg-white/20"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-white",children:g.region_count}),e.jsx("div",{className:"text-xs text-white/60 uppercase tracking-wide",children:"Regions"})]})]})]}),e.jsx("div",{className:`
                absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300
                bg-gradient-to-t from-cyan-500/20 to-transparent pointer-events-none
              `})]},g.galaxy)})})]})}function Oe({reality:l,galaxy:o,onSelect:c,selectedRegion:i,discordTag:x="all",onViewAllSystems:b}){const m=n.useContext(de),[y,N]=n.useState([]),[C,S]=n.useState(!0),[h,p]=n.useState(null),[d,r]=n.useState(0),[u,B]=n.useState(0),g=50,[j,k]=n.useState([]),[v,L]=n.useState(!1),[E,Y]=n.useState(null),[A,T]=n.useState(""),[P,$]=n.useState(null),[O,V]=n.useState(""),[W,a]=n.useState(!1);n.useEffect(()=>{l&&o&&w()},[l,o,d,x]),n.useEffect(()=>{I.get("/api/discord_tags").then(s=>{k(s.data.tags||[])}).catch(()=>{})},[]);async function w(){S(!0),p(null);try{const s=new URLSearchParams({reality:l,galaxy:o,include_systems:"false",page:d.toString(),limit:g.toString()});x&&x!=="all"&&s.append("discord_tag",x);const f=await I.get(`/api/regions/grouped?${s.toString()}`);N(f.data.regions||[]),B(f.data.total_regions||0)}catch(s){console.error("Failed to load regions:",s),p("Failed to load region data"),N([])}finally{S(!1)}}function t(s,f){s.stopPropagation(),Y(f),T(f.display_name||f.custom_name||""),$(null),V(""),L(!0)}async function G(s){if(s.preventDefault(),!A.trim()||!E)return;const f=m?.isAdmin&&!m?.isSuperAdmin,R=f?m?.user?.username:O.trim();if(!m?.isSuperAdmin){if(!P){alert("Please select a Discord Community");return}if(!f&&!O.trim()){alert("Please enter your Discord Username");return}}const{region_x:U,region_y:Z,region_z:H}=E;a(!0);try{m?.isSuperAdmin?await I.put(`/api/regions/${U}/${Z}/${H}`,{custom_name:A.trim()}):await I.post(`/api/regions/${U}/${Z}/${H}/submit`,{proposed_name:A.trim(),discord_tag:P,personal_discord_username:R}),L(!1),Y(null),T(""),$(null),V(""),w(),alert(m?.isSuperAdmin?"Region name updated!":"Name submitted for approval!")}catch(le){alert("Failed: "+(le.response?.data?.detail||le.message))}finally{a(!1)}}const _=Math.ceil(u/g),z=d>0,J=d<_-1,re=n.useMemo(()=>{const s=[],f=d+1;if(_<=7)for(let R=1;R<=_;R++)s.push(R);else{s.push(1),f>3&&s.push("...");const R=Math.max(2,f-1),U=Math.min(_-1,f+1),Z=new Set(s);for(let H=R;H<=U;H++)Z.has(H)||(s.push(H),Z.add(H));f<_-2&&s.push("..."),Z.has(_)||s.push(_)}return s},[d,_]),pe=x&&!["all","untagged","personal"].includes(x);function ge(s){return`${s.region_x}-${s.region_y}-${s.region_z}`}function he(s){return i?i.region_x===s.region_x&&i.region_y===s.region_y&&i.region_z===s.region_z:!1}if(C&&y.length===0)return e.jsx(M,{children:e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(K,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading regions in ",o,"..."]})});if(h)return e.jsx(M,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-400 mb-4",children:h}),e.jsx("button",{onClick:w,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-white",children:"Retry"})]})});if(y.length===0)return e.jsx(M,{children:e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(ee,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsxs("p",{children:["No regions found in ",o,"."]}),e.jsx("p",{className:"text-sm mt-2",children:"Systems need to be added to see regions here."})]})});const fe=y.reduce((s,f)=>s+(f.system_count||0),0);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(ee,{className:"w-6 h-6 text-purple-400"}),"Regions in ",o]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[u," regions total â€¢ Showing ",y.length," (",fe.toLocaleString()," systems)"]})]}),_>1&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>r(s=>Math.max(0,s-1)),disabled:!z,className:`p-2 rounded ${z?"bg-gray-700 hover:bg-gray-600":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:e.jsx(xe,{className:"w-5 h-5"})}),re.map((s,f)=>s==="..."?e.jsx("span",{className:"px-2 text-gray-500",children:"..."},`ellipsis-${f}`):e.jsx("button",{onClick:()=>r(s-1),className:`px-3 py-1 rounded text-sm ${d+1===s?"bg-purple-600 text-white font-medium":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:s},s)),e.jsx("button",{onClick:()=>r(s=>Math.min(_-1,s+1)),disabled:!J,className:`p-2 rounded ${J?"bg-gray-700 hover:bg-gray-600":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:e.jsx(se,{className:"w-5 h-5"})})]})]}),C&&e.jsxs("div",{className:"text-center py-2 text-cyan-400 text-sm",children:[e.jsx(K,{className:"w-4 h-4 animate-spin inline mr-2"}),"Updating..."]}),pe&&b&&e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:b,className:"w-full p-4 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 rounded-xl text-white font-semibold transition-all flex items-center justify-center gap-2 shadow-lg hover:shadow-cyan-500/25",children:[e.jsx(X,{className:"w-5 h-5"}),"View All ",x," Systems (",u>0?"across all regions":"none found",")"]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:y.map(s=>{const f=he(s),R=s.display_name&&s.display_name!==`Region (${s.region_x}, ${s.region_y}, ${s.region_z})`;return e.jsxs("div",{className:`
                relative overflow-hidden rounded-xl transition-all duration-300
                group
                ${f?"ring-2 ring-purple-400 ring-offset-2 ring-offset-gray-900 scale-[1.02]":"hover:scale-[1.02] hover:shadow-lg hover:shadow-purple-500/10"}
              `,children:[e.jsx("div",{className:`
                absolute inset-0 bg-gradient-to-br
                ${f?"from-purple-600 to-indigo-700":R?"from-purple-700/80 to-indigo-800/80":"from-gray-700 to-gray-800"}
              `}),e.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"12px 12px"}}),e.jsxs("button",{onClick:()=>c(s),className:"relative p-4 w-full text-left",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("div",{className:`
                    p-2 rounded-lg
                    ${f?"bg-white/20":R?"bg-purple-500/30":"bg-gray-600/50"}
                  `,children:R?e.jsx(X,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"}):e.jsx(ee,{className:`w-5 h-5 ${f?"text-white":"text-purple-400"}`})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("a",{href:`/map/region?rx=${s.region_x}&ry=${s.region_y}&rz=${s.region_z}`,target:"_blank",rel:"noopener noreferrer",onClick:U=>U.stopPropagation(),className:`
                        px-2 py-1 rounded-lg text-xs font-medium transition-colors
                        ${f?"bg-white/20 hover:bg-white/30 text-white":"bg-cyan-600/80 hover:bg-cyan-500 text-white"}
                      `,title:"View in 3D Map",children:"View"}),e.jsx("button",{onClick:U=>t(U,s),className:`
                        p-1.5 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity
                        ${f?"bg-white/20 hover:bg-white/30":"bg-gray-600/50 hover:bg-gray-500/50"}
                      `,title:R?"Edit name":"Set name",children:e.jsx(_e,{className:"w-4 h-4 text-white"})})]})]}),e.jsx("h3",{className:"font-bold text-white truncate mb-1",children:R?e.jsx("span",{className:"text-purple-200",children:s.display_name}):e.jsx("span",{className:"text-gray-300",children:"Unnamed Region"})}),e.jsxs("p",{className:"text-xs font-mono text-white/50 mb-3",children:["(",s.region_x,", ",s.region_y,", ",s.region_z,")"]}),e.jsxs("div",{className:`
                  flex items-center justify-between pt-3 border-t
                  ${f?"border-white/20":"border-white/10"}
                `,children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl font-bold text-white",children:s.system_count}),e.jsx("span",{className:"text-xs ml-1.5 text-white/60",children:s.system_count===1?"system":"systems"})]}),R&&e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-500/30 text-purple-200",children:"Named"})]}),f&&e.jsx("div",{className:"absolute -top-1 -right-1",children:e.jsx("span",{className:"bg-white text-purple-600 text-xs font-bold px-2 py-1 rounded-full shadow",children:"Selected"})})]}),e.jsx("div",{className:`
                absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300
                bg-gradient-to-t from-purple-500/20 to-transparent pointer-events-none
              `})]},ge(s))})}),_>1&&e.jsxs("div",{className:"flex justify-center items-center gap-1 pt-4 flex-wrap",children:[e.jsx("button",{onClick:()=>r(s=>Math.max(0,s-1)),disabled:!z,className:`px-3 py-2 rounded ${z?"bg-gray-700 hover:bg-gray-600":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:"Previous"}),re.map((s,f)=>s==="..."?e.jsx("span",{className:"px-2 text-gray-500",children:"..."},`ellipsis-bottom-${f}`):e.jsx("button",{onClick:()=>r(s-1),className:`px-3 py-2 rounded text-sm ${d+1===s?"bg-purple-600 text-white font-medium":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:s},`bottom-${s}`)),e.jsx("button",{onClick:()=>r(s=>Math.min(_-1,s+1)),disabled:!J,className:`px-3 py-2 rounded ${J?"bg-gray-700 hover:bg-gray-600":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:"Next"})]}),v&&E&&e.jsx(Se,{title:E.display_name?"Edit Region Name":"Set Region Name",onClose:()=>L(!1),children:e.jsxs("form",{onSubmit:G,className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 text-center",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Coordinates"}),e.jsxs("p",{className:"font-mono text-purple-400",children:["(",E.region_x,", ",E.region_y,", ",E.region_z,")"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Region Name"}),e.jsx("input",{type:"text",value:A,onChange:s=>T(s.target.value),placeholder:"Enter region name...",className:"w-full px-3 py-2 rounded border border-gray-600 bg-gray-800 focus:border-purple-500 focus:outline-none",autoFocus:!0,maxLength:50}),!m?.isSuperAdmin&&e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Your submission will be reviewed before approval."})]}),!m?.isSuperAdmin&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2",children:["Discord Community ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{className:`w-full px-3 py-2 rounded border bg-gray-800 focus:outline-none ${P?"border-gray-600 focus:border-purple-500":"border-red-500/50"}`,value:P||"",onChange:s=>$(s.target.value||null),required:!0,children:[e.jsx("option",{value:"",children:"-- Select Community (Required) --"}),j.map(s=>e.jsxs("option",{value:s.tag,children:[s.name," (",s.tag,")"]},s.tag))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Which Discord community will review this region name?"})]}),m?.isAdmin?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Submitting As"}),e.jsx("div",{className:"w-full px-3 py-2 rounded border border-gray-600 bg-gray-700 text-gray-300",children:m?.user?.username||"Unknown"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your logged-in username will be used for tracking"})]}):e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2",children:["Your Discord Username ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:O,onChange:s=>V(s.target.value),placeholder:"e.g., YourName#1234",className:`w-full px-3 py-2 rounded border bg-gray-800 focus:outline-none ${O.trim()?"border-gray-600 focus:border-purple-500":"border-red-500/50"}`,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"So we can contact you if needed"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(q,{type:"submit",className:"flex-1 bg-purple-600 hover:bg-purple-700",disabled:W||!A.trim(),children:W?"Submitting...":m?.isSuperAdmin?"Save":"Submit for Approval"}),e.jsx(q,{type:"button",className:"bg-gray-600 hover:bg-gray-700",onClick:()=>L(!1),disabled:W,children:"Cancel"})]})]})})]})}function ce({reality:l,galaxy:o,region:c,discordTag:i="all",globalMode:x=!1,globalModeTitle:b=null,filters:m={}}){const[y,N]=n.useState([]),[C,S]=n.useState(!0),[h,p]=n.useState(null),[d,r]=n.useState(1),[u,B]=n.useState({total:0,pages:0}),g=50,{personalColor:j}=Ee();n.useEffect(()=>{r(1)},[JSON.stringify(m)]),n.useEffect(()=>{(x||l&&o&&c)&&k()},[l,o,c,d,i,x,JSON.stringify(m)]);async function k(){S(!0),p(null);try{const a=new URLSearchParams({page:d.toString(),limit:g.toString(),include_planets:"false"});!x&&c?(a.append("reality",l),a.append("galaxy",o),a.append("region_x",c.region_x.toString()),a.append("region_y",c.region_y.toString()),a.append("region_z",c.region_z.toString())):x&&(l&&a.append("reality",l),o&&a.append("galaxy",o)),i&&i!=="all"&&a.append("discord_tag",i),m&&Object.entries(m).forEach(([t,G])=>{G!==""&&G!==null&&G!==void 0&&a.append(t,G.toString())});const w=await I.get(`/api/systems?${a.toString()}`);N(w.data.systems||[]),B(w.data.pagination||{total:0,pages:0})}catch(a){console.error("Failed to load systems:",a),p("Failed to load system data"),N([])}finally{S(!1)}}const v={Yellow:"text-yellow-400",Red:"text-red-400",Green:"text-green-400",Blue:"text-blue-400",Purple:"text-purple-400"};function L(a){if(!a)return"text-gray-300";switch(a[0]?.toUpperCase()){case"O":case"B":return"text-blue-300";case"F":case"G":return"text-yellow-300";case"K":case"M":return"text-red-400";case"E":return"text-green-400";case"X":case"Y":return"text-purple-400";default:return"text-gray-300"}}const E={Trading:"bg-emerald-600",Mining:"bg-amber-600",Technology:"bg-blue-600",Manufacturing:"bg-orange-600",Scientific:"bg-purple-600","Power Generation":"bg-yellow-600"},Y=n.useMemo(()=>({Haven:"bg-cyan-500 text-white",IEA:"bg-green-500 text-white","B.E.S":"bg-orange-500 text-white",ARCH:"bg-purple-500 text-white",TBH:"bg-yellow-500 text-black",EVRN:"bg-pink-500 text-white"}),[]),A=n.useCallback(a=>{if(!a)return null;if(a==="personal")return e.jsx("span",{className:"text-xs text-white px-1.5 py-0.5 rounded",style:{backgroundColor:j},children:"Personal"});const w=Y[a]||"bg-indigo-500 text-white";return e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${w}`,children:a})},[Y,j]),T=d>1,P=d<u.pages,$=u.pages||0,O=n.useMemo(()=>{const a=[],w=d;if($<=7)for(let t=1;t<=$;t++)a.push(t);else{a.push(1),w>3&&a.push("...");const t=Math.max(2,w-1),G=Math.min($-1,w+1),_=new Set(a);for(let z=t;z<=G;z++)_.has(z)||(a.push(z),_.add(z));w<$-2&&a.push("..."),_.has($)||a.push($)}return a},[d,$]);if(C&&y.length===0)return e.jsx(M,{children:e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(K,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading systems..."]})});if(h)return e.jsx(M,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-400 mb-4",children:h}),e.jsx("button",{onClick:k,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-white",children:"Retry"})]})});if(y.length===0)return e.jsx(M,{children:e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(X,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No systems found in this region."})]})});const V=c?.display_name||c?.custom_name||(c?`Region (${c.region_x}, ${c.region_y}, ${c.region_z})`:""),W=x?b||`All ${i} Systems`:`Systems in ${V}`;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:W}),e.jsxs("p",{className:"text-sm text-gray-400",children:[u.total," systems total â€¢ Page ",d," of ",u.pages||1]})]}),!x&&c&&e.jsxs("a",{href:`/map/region?rx=${c.region_x}&ry=${c.region_y}&rz=${c.region_z}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-cyan-600 hover:bg-cyan-500 rounded-lg text-white text-sm font-medium transition-colors flex items-center gap-1.5",title:"View region in 3D map",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"3D Map"})]})]}),$>1&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>r(a=>Math.max(1,a-1)),disabled:!T,className:`p-2 rounded ${T?"bg-gray-700 hover:bg-gray-600":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:e.jsx(xe,{className:"w-5 h-5"})}),O.map((a,w)=>a==="..."?e.jsx("span",{className:"px-2 text-gray-500",children:"..."},`ellipsis-${w}`):e.jsx("button",{onClick:()=>r(a),className:`px-3 py-1 rounded text-sm ${d===a?"bg-cyan-600 text-white font-medium":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:a},a)),e.jsx("button",{onClick:()=>r(a=>Math.min(u.pages,a+1)),disabled:!P,className:`p-2 rounded ${P?"bg-gray-700 hover:bg-gray-600":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:e.jsx(se,{className:"w-5 h-5"})})]})]}),C&&e.jsxs("div",{className:"text-center py-2 text-cyan-400 text-sm",children:[e.jsx(K,{className:"w-4 h-4 animate-spin inline mr-2"}),"Updating..."]}),e.jsx("div",{className:"space-y-2",children:y.map(a=>{const w=v[a.star_type]||"text-gray-400",t=E[a.economy_type]||"bg-gray-600";return e.jsx(ne,{to:`/systems/${a.id}`,className:"block p-4 bg-gray-800 border border-gray-700 rounded-lg hover:border-cyan-500 hover:bg-gray-750 transition-all group",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[e.jsx("div",{className:"shrink-0 mt-1",children:a.star_type?e.jsx(ve,{className:`w-6 h-6 ${w}`}):e.jsx(X,{className:"w-6 h-6 text-gray-500"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"font-semibold text-white group-hover:text-cyan-400 transition-colors truncate",children:a.name||"Unnamed System"}),A(a.discord_tag)]}),a.glyph_code&&e.jsx("p",{className:"text-xs font-mono text-gray-500 mt-0.5",children:a.glyph_code}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[a.star_type&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded bg-gray-700 ${w}`,children:a.star_type}),a.economy_type&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${t} text-white`,children:a.economy_type}),a.conflict_level&&e.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${a.conflict_level==="High"?"bg-red-600":a.conflict_level==="Medium"?"bg-yellow-600":"bg-green-600"} text-white`,children:[a.conflict_level," Conflict"]}),a.dominant_lifeform&&e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-gray-700 text-gray-300",children:a.dominant_lifeform}),a.stellar_classification&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded bg-gray-700 font-mono ${L(a.stellar_classification)}`,children:a.stellar_classification})]})]})]}),e.jsx("a",{href:`/map/system/${a.id}`,target:"_blank",rel:"noopener noreferrer",onClick:G=>G.stopPropagation(),className:"shrink-0 px-3 py-2 rounded bg-cyan-600 hover:bg-cyan-500 transition-colors text-white text-xs font-medium",title:"View system in 3D",children:"View"})]})},a.id)})}),$>1&&e.jsxs("div",{className:"flex justify-center items-center gap-1 pt-4 flex-wrap",children:[e.jsx("button",{onClick:()=>r(a=>Math.max(1,a-1)),disabled:!T,className:`px-3 py-2 rounded ${T?"bg-gray-700 hover:bg-gray-600":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:"Previous"}),O.map((a,w)=>a==="..."?e.jsx("span",{className:"px-2 text-gray-500",children:"..."},`ellipsis-bottom-${w}`):e.jsx("button",{onClick:()=>r(a),className:`px-3 py-2 rounded text-sm ${d===a?"bg-cyan-600 text-white font-medium":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:a},`bottom-${a}`)),e.jsx("button",{onClick:()=>r(a=>Math.min(u.pages,a+1)),disabled:!P,className:`px-3 py-2 rounded ${P?"bg-gray-700 hover:bg-gray-600":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:"Next"})]})]})}const ue={star_type:"",economy_type:"",economy_level:"",conflict_level:"",dominant_lifeform:"",stellar_classification:"",biome:"",weather:"",sentinel_level:"",resource:"",has_moons:"",min_planets:"",max_planets:"",is_complete:""};function Be({filters:l,onChange:o,reality:c,galaxy:i}){const[x,b]=n.useState(!1),[m,y]=n.useState(null),[N,C]=n.useState(!1),S=n.useMemo(()=>Object.entries(l).filter(([,r])=>r!==""&&r!==null&&r!==void 0).length,[l]);n.useEffect(()=>{if(!x)return;C(!0);const r=new URLSearchParams;c&&r.append("reality",c),i&&r.append("galaxy",i),I.get(`/api/systems/filter-options?${r.toString()}`).then(u=>y(u.data)).catch(()=>y({})).finally(()=>C(!1))},[x,c,i]);function h(r,u){o({...l,[r]:u})}function p(){o({...ue})}function d(r){return r?r.map(u=>({value:u,label:u})):[]}return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>b(!x),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors border ${x||S>0?"bg-cyan-600 border-cyan-500 text-white":"bg-gray-800 border-gray-700 text-gray-300 hover:bg-gray-700"}`,children:[x?e.jsx(me,{className:"w-4 h-4"}):e.jsx(ye,{className:"w-4 h-4"}),"Advanced Filters",S>0&&e.jsx("span",{className:"bg-white text-cyan-600 text-xs font-bold px-1.5 py-0.5 rounded-full min-w-[20px] text-center",children:S}),x?e.jsx(ke,{className:"w-4 h-4"}):e.jsx(Ce,{className:"w-4 h-4"})]}),x&&e.jsx("div",{className:"bg-gray-800/70 rounded-xl border border-gray-700 p-4 space-y-5",children:N&&!m?e.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:"Loading filter options..."}):e.jsxs(e.Fragment,{children:[e.jsxs(te,{title:"System Properties",children:[e.jsx(F,{label:"Star Type",children:e.jsx(D,{options:d(m?.star_types),value:l.star_type,onChange:r=>h("star_type",r),placeholder:"Any star type"})}),e.jsx(F,{label:"Economy",children:e.jsx(D,{options:d(m?.economy_types),value:l.economy_type,onChange:r=>h("economy_type",r),placeholder:"Any economy"})}),e.jsx(F,{label:"Economy Level",children:e.jsx(D,{options:d(m?.economy_levels),value:l.economy_level,onChange:r=>h("economy_level",r),placeholder:"Any level"})}),e.jsx(F,{label:"Conflict Level",children:e.jsx(D,{options:d(m?.conflict_levels),value:l.conflict_level,onChange:r=>h("conflict_level",r),placeholder:"Any conflict"})}),e.jsx(F,{label:"Dominant Lifeform",children:e.jsx(D,{options:d(m?.dominant_lifeforms),value:l.dominant_lifeform,onChange:r=>h("dominant_lifeform",r),placeholder:"Any lifeform"})}),e.jsx(F,{label:"Stellar Class",children:e.jsx(D,{options:d(m?.stellar_classifications),value:l.stellar_classification,onChange:r=>h("stellar_classification",r),placeholder:"Any class"})})]}),e.jsxs(te,{title:"Planet Properties",children:[e.jsx(F,{label:"Biome",children:e.jsx(D,{options:d(m?.biomes),value:l.biome,onChange:r=>h("biome",r),placeholder:"Any biome"})}),e.jsx(F,{label:"Weather",children:e.jsx(D,{options:d(m?.weather_types),value:l.weather,onChange:r=>h("weather",r),placeholder:"Any weather"})}),e.jsx(F,{label:"Sentinel Level",children:e.jsx(D,{options:d(m?.sentinel_levels),value:l.sentinel_level,onChange:r=>h("sentinel_level",r),placeholder:"Any sentinel level"})}),e.jsx(F,{label:"Resource",children:e.jsx(D,{options:d(m?.resources),value:l.resource,onChange:r=>h("resource",r),placeholder:"Any resource"})})]}),e.jsxs(te,{title:"Other",children:[e.jsx(F,{label:"Has Moons",children:e.jsxs("select",{className:"w-full px-3 py-2 rounded bg-gray-700/50 border border-gray-600 text-white text-sm",value:l.has_moons,onChange:r=>h("has_moons",r.target.value),children:[e.jsx("option",{value:"",children:"Any"}),e.jsx("option",{value:"true",children:"Yes - Has moons"}),e.jsx("option",{value:"false",children:"No - No moons"})]})}),e.jsx(F,{label:"Min Planets",children:e.jsx("input",{type:"number",min:"0",max:"6",className:"w-full px-3 py-2 rounded bg-gray-700/50 border border-gray-600 text-white text-sm",value:l.min_planets,onChange:r=>h("min_planets",r.target.value),placeholder:"0"})}),e.jsx(F,{label:"Max Planets",children:e.jsx("input",{type:"number",min:"0",max:"6",className:"w-full px-3 py-2 rounded bg-gray-700/50 border border-gray-600 text-white text-sm",value:l.max_planets,onChange:r=>h("max_planets",r.target.value),placeholder:"6"})}),e.jsx(F,{label:"Data Complete",children:e.jsxs("select",{className:"w-full px-3 py-2 rounded bg-gray-700/50 border border-gray-600 text-white text-sm",value:l.is_complete,onChange:r=>h("is_complete",r.target.value),children:[e.jsx("option",{value:"",children:"Any"}),e.jsx("option",{value:"true",children:"Complete only"}),e.jsx("option",{value:"false",children:"Incomplete only"})]})})]}),S>0&&e.jsx("div",{className:"flex justify-end pt-2 border-t border-gray-700",children:e.jsxs("button",{onClick:p,className:"px-4 py-2 rounded-lg text-sm font-medium text-red-400 hover:bg-red-400/10 transition-colors",children:["Clear All Filters (",S,")"]})})]})})]})}function te({title:l,children:o}){return e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:l}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:o})]})}function F({label:l,children:o}){return e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:l}),o]})}function Ue(l,o){const[c,i]=n.useState(l);return n.useEffect(()=>{const x=setTimeout(()=>{i(l)},o);return()=>{clearTimeout(x)}},[l,o]),c}function sa(){const l=be();n.useContext(de);const[o,c]=je(),[i,x]=n.useState(o.get("reality")||null),[b,m]=n.useState(o.get("galaxy")||null),[y,N]=n.useState(()=>{const t=o.get("rx"),G=o.get("ry"),_=o.get("rz");return t&&G&&_?{region_x:parseInt(t),region_y:parseInt(G),region_z:parseInt(_),display_name:o.get("rname")||null}:null}),[C,S]=n.useState(""),h=Ue(C,300),[p,d]=n.useState([]),[r,u]=n.useState(!1),[B,g]=n.useState([]),[j,k]=n.useState("all"),[v,L]=n.useState(!1),[E,Y]=n.useState(!1),[A,T]=n.useState({...ue});n.useEffect(()=>{I.get("/api/discord_tags").then(t=>{g(t.data.tags||[])}).catch(()=>{})},[]),n.useEffect(()=>{if(!h.trim()){d([]);return}u(!0),I.get(`/api/systems/search?q=${encodeURIComponent(h)}&limit=20`).then(t=>d(t.data.results||[])).catch(()=>d([])).finally(()=>u(!1))},[h]),n.useEffect(()=>{const t=new URLSearchParams;i&&t.set("reality",i),b&&t.set("galaxy",b),y&&(t.set("rx",y.region_x.toString()),t.set("ry",y.region_y.toString()),t.set("rz",y.region_z.toString()),y.display_name&&t.set("rname",y.display_name)),c(t,{replace:!0})},[i,b,y]);function P(t){x(t),m(null),N(null)}function $(t){m(t),N(null)}function O(t){N(t),L(!1)}function V(){L(!0),N(null)}function W(t){t==="root"?(x(null),m(null),N(null),L(!1)):t==="reality"?(m(null),N(null),L(!1)):t==="galaxy"?(N(null),L(!1)):t==="viewAll"&&L(!1)}const a=n.useMemo(()=>v?"viewAllSystems":y?"systems":b?"regions":i?"galaxies":"realities",[i,b,y,v]),w=n.useMemo(()=>{const t=[{label:"Systems",level:"root",active:a==="realities"}];if(i&&t.push({label:i,level:"reality",active:a==="galaxies"}),b&&t.push({label:b,level:"galaxy",active:a==="regions"}),v)t.push({label:`All ${j} Systems`,level:"viewAll",active:a==="viewAllSystems"});else if(y){const G=y.display_name||y.custom_name||`(${y.region_x}, ${y.region_y}, ${y.region_z})`;t.push({label:G,level:"region",active:a==="systems"})}return t},[i,b,y,a,v,j]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ne,{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{"aria-label":"Search systems",className:"w-full pl-10 pr-3 py-2 rounded bg-gray-800 border border-gray-700 focus:border-cyan-500 focus:outline-none",value:C,onChange:t=>S(t.target.value),placeholder:"Search all systems..."}),r&&e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-cyan-400 text-sm",children:"..."})]})}),e.jsx("button",{className:`lg:hidden px-3 py-2 rounded border transition-colors flex items-center gap-1.5 ${E||j!=="all"?"bg-cyan-600 border-cyan-500 text-white":"bg-gray-700 border-gray-600 text-gray-300"}`,onClick:()=>Y(!E),children:E?e.jsx(me,{className:"w-5 h-5"}):e.jsx(ye,{className:"w-5 h-5"})}),e.jsxs("div",{className:"hidden lg:flex gap-2",children:[e.jsxs("select",{className:"px-3 py-2 rounded bg-gray-700 text-white border border-gray-600",value:j,onChange:t=>k(t.target.value),children:[e.jsx("option",{value:"all",children:"All Communities"}),e.jsx("option",{value:"untagged",children:"Untagged Only"}),e.jsx("option",{value:"personal",children:"Personal Only"}),B.map(t=>e.jsx("option",{value:t.tag,children:t.name},t.tag))]}),e.jsx(ne,{to:"/wizard",children:e.jsx(q,{variant:"neutral",children:"New System"})})]})]}),E&&e.jsxs("div",{className:"lg:hidden bg-gray-800/50 rounded-lg p-4 space-y-4 border border-gray-700",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Community Filter"}),e.jsxs("select",{className:"w-full px-3 py-2 rounded bg-gray-700 text-white border border-gray-600",value:j,onChange:t=>k(t.target.value),children:[e.jsx("option",{value:"all",children:"All Communities"}),e.jsx("option",{value:"untagged",children:"Untagged Only"}),e.jsx("option",{value:"personal",children:"Personal Only"}),B.map(t=>e.jsx("option",{value:t.tag,children:t.name},t.tag))]})]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-700",children:[e.jsx(q,{onClick:()=>k("all"),variant:"ghost",className:"flex-1",children:"Clear Filter"}),e.jsx(ne,{to:"/wizard",className:"flex-1",children:e.jsx(q,{variant:"neutral",className:"w-full",children:"New System"})})]})]}),e.jsx(Be,{filters:A,onChange:T,reality:i,galaxy:b}),e.jsx("nav",{className:"flex items-center gap-1 text-sm flex-wrap",children:w.map((t,G)=>e.jsxs(we.Fragment,{children:[G>0&&e.jsx(se,{className:"w-4 h-4 text-gray-500 shrink-0"}),t.active?e.jsxs("span",{className:"px-2 py-1 rounded bg-cyan-600 text-white font-medium",children:[G===0&&e.jsx(oe,{className:"w-4 h-4 inline mr-1"}),t.label]}):e.jsxs("button",{onClick:()=>W(t.level),className:"px-2 py-1 rounded hover:bg-gray-700 text-gray-400 hover:text-white transition-colors",children:[G===0&&e.jsx(oe,{className:"w-4 h-4 inline mr-1"}),t.label]})]},t.level))})]}),h.trim()&&(p.length>0||r)&&e.jsxs(M,{className:"border-cyan-500/50",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 text-cyan-400",children:["Search Results ",p.length>0&&`(${p.length})`]}),r?e.jsx("div",{className:"text-gray-400 py-4 text-center",children:"Searching..."}):e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:p.map(t=>e.jsxs("div",{className:"p-3 bg-gray-800 rounded hover:bg-gray-700 cursor-pointer flex items-center justify-between transition-colors",onClick:()=>l(`/systems/${encodeURIComponent(t.id)}`),children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[t.name,e.jsx($e,{tag:t.discord_tag}),t.star_type&&e.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${t.star_type==="Yellow"?"bg-yellow-500 text-black":t.star_type==="Red"?"bg-red-500 text-white":t.star_type==="Blue"?"bg-blue-500 text-white":t.star_type==="Green"?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:t.star_type})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[t.region_name?e.jsx("span",{className:"text-purple-400",children:t.region_name}):e.jsxs("span",{children:["Region (",t.region_x,", ",t.region_y,", ",t.region_z,")"]}),e.jsxs("span",{className:"ml-2",children:["â€¢ ",t.galaxy||"Euclid"]}),e.jsxs("span",{className:"ml-2",children:["â€¢ ",t.reality||"Normal"]}),t.glyph_code&&e.jsxs("span",{className:"ml-2 font-mono text-purple-400",children:["(",t.glyph_code,")"]})]})]}),e.jsx(q,{variant:"ghost",className:"text-sm shrink-0",children:"View â†’"})]},t.id))})]}),e.jsxs("div",{className:"min-h-[400px]",children:[a==="realities"&&e.jsx(De,{onSelect:P,selectedReality:i}),a==="galaxies"&&e.jsx(Ie,{reality:i,onSelect:$,selectedGalaxy:b,filters:A,discordTag:j}),a==="regions"&&e.jsx(Oe,{reality:i,galaxy:b,onSelect:O,selectedRegion:y,discordTag:j,onViewAllSystems:V}),a==="systems"&&e.jsx(ce,{reality:i,galaxy:b,region:y,discordTag:j,filters:A}),a==="viewAllSystems"&&e.jsx(ce,{reality:i,galaxy:b,discordTag:j,globalMode:!0,globalModeTitle:`All ${j} Systems in ${b}`,filters:A})]})]})}export{sa as default};
